<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-python发送测试报告的模板" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/10/python%E5%8F%91%E9%80%81%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A%E7%9A%84%E6%A8%A1%E6%9D%BF/" class="article-date">
  <time class="dt-published" datetime="2021-09-10T06:27:27.000Z" itemprop="datePublished">2021-09-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/10/python%E5%8F%91%E9%80%81%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A%E7%9A%84%E6%A8%A1%E6%9D%BF/">python发送测试报告的模板</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">from</span> BSTestRunner <span class="keyword">import</span> BSTestRunner</span><br><span class="line"><span class="keyword">import</span> time,logging</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</span><br><span class="line"><span class="keyword">from</span> email.mime.multipart <span class="keyword">import</span> MIMEMultipart</span><br><span class="line"><span class="keyword">from</span> email.header <span class="keyword">import</span> Header</span><br><span class="line">path=<span class="string">&#x27;D:\\kyb_testProject\\&#x27;</span></span><br><span class="line">sys.path.append(path)</span><br><span class="line"></span><br><span class="line">test_dir=<span class="string">&#x27;../test_case&#x27;</span></span><br><span class="line">report_dir=<span class="string">&#x27;../reports&#x27;</span></span><br><span class="line"></span><br><span class="line">discover=unittest.defaultTestLoader.discover(test_dir,pattern=<span class="string">&#x27;test_login.py&#x27;</span>)</span><br><span class="line"></span><br><span class="line">now=time.strftime(<span class="string">&#x27;%Y-%m-%d %H_%M_%S&#x27;</span>)</span><br><span class="line">report_name=report_dir+<span class="string">&#x27;/&#x27;</span>+now+<span class="string">&#x27; test_report.html&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(report_name,<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    runner=BSTestRunner(stream=f,title=<span class="string">&#x27;Kyb Test Report&#x27;</span>,description=<span class="string">&#x27;kyb Android app test report&#x27;</span>)</span><br><span class="line">    logging.info(<span class="string">&#x27;start run test case...&#x27;</span>)</span><br><span class="line">    runner.run(discover)</span><br><span class="line"></span><br><span class="line">    f = <span class="built_in">open</span>(report_name,<span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line">    mail_content = f.read()  <span class="comment"># 存入 mail_content</span></span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line">    smtpserver = <span class="string">&#x27;smtp.qq.com&#x27;</span></span><br><span class="line"></span><br><span class="line">    user = <span class="string">&#x27;wkun962286490@qq.com&#x27;</span></span><br><span class="line">    password = <span class="string">&#x27;ficopzrsjevabbee&#x27;</span>  <span class="comment"># 授权码</span></span><br><span class="line"></span><br><span class="line">    sender = <span class="string">&#x27;wkun962286490@qq.com&#x27;</span></span><br><span class="line">    receive = <span class="string">&#x27;test1234tt@163.com&#x27;</span></span><br><span class="line"></span><br><span class="line">    subject = <span class="string">&#x27;Web Selenium 自动化测试报告&#x27;</span></span><br><span class="line">    content = mail_content</span><br><span class="line"></span><br><span class="line">    msg = MIMEText(content, <span class="string">&#x27;html&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    msg[<span class="string">&#x27;Subject&#x27;</span>] = Header(subject, <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    msg[<span class="string">&#x27;From&#x27;</span>] = <span class="string">&#x27;wkun962286490@qq.com&#x27;</span></span><br><span class="line">    msg[<span class="string">&#x27;To&#x27;</span>] = <span class="string">&#x27;test1234tt@163.com&#x27;</span></span><br><span class="line"></span><br><span class="line">    smtp=smtplib.SMTP_SSL(smtpserver,<span class="number">465</span>)</span><br><span class="line">    smtp.helo(smtpserver)</span><br><span class="line">    smtp.ehlo(smtpserver)</span><br><span class="line">    smtp.login(user,password)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Start send Email...&quot;</span>)</span><br><span class="line">    smtp.sendmail(sender,receive,msg.as_string())</span><br><span class="line">    smtp.quit()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Send Email end!&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/10/python%E5%8F%91%E9%80%81%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A%E7%9A%84%E6%A8%A1%E6%9D%BF/" data-id="cktdza3wi0000noty3698aa90" data-title="python发送测试报告的模板" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-appium学习" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/08/appium%E5%AD%A6%E4%B9%A0/" class="article-date">
  <time class="dt-published" datetime="2021-09-08T08:20:00.000Z" itemprop="datePublished">2021-09-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/08/appium%E5%AD%A6%E4%B9%A0/">appium学习</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1-Appium环境搭建"><a href="#1-Appium环境搭建" class="headerlink" title="1.Appium环境搭建"></a>1.<strong>Appium环境搭建</strong></h1><p>JDK</p>
<p>Andriod SDK</p>
<p>Python</p>
<p>Appium-Python-Client</p>
<ol>
<li>Appium-desktop</li>
<li><ul>
<li>Node.js</li>
<li>Appium</li>
<li>Appium-doctor</li>
</ul>
</li>
</ol>
<p>1和2二选一</p>
<h1 id="2-Appium-desktop介绍"><a href="#2-Appium-desktop介绍" class="headerlink" title="2.Appium-desktop介绍"></a>2.<strong>Appium-desktop介绍</strong></h1><p>Appium-desktop主界面包含三个菜单Simple,Advanced、Presets</p>
<h3 id="Simple"><a href="#Simple" class="headerlink" title="Simple"></a><strong>Simple</strong></h3><h4 id="host"><a href="#host" class="headerlink" title="host"></a><strong>host</strong></h4><p>设置Appium server的ip地址，本地调试可以将ip地址修改为127.0.0.1</p>
<h4 id="port"><a href="#port" class="headerlink" title="port"></a><strong>port</strong></h4><p>设置端口号，默认是4723不用修改</p>
<h4 id="start-server"><a href="#start-server" class="headerlink" title="start server"></a><strong>start server</strong></h4><p>启动 Appium server</p>
<h1 id="3-Capacity配置简介"><a href="#3-Capacity配置简介" class="headerlink" title="3.Capacity配置简介"></a>3.<strong>Capacity配置简介</strong></h1><h3 id="1-什么是Capability"><a href="#1-什么是Capability" class="headerlink" title="1. 什么是Capability"></a>1. <strong>什么是Capability</strong></h3><p>desired capability的功能是配置Appium会话。他们告诉Appium服务器您想要自动化的平台和应用程序。</p>
<p>Desired Capabilities是一组设置的键值对的集合，其中键对应设置的名称，而值对应设置的值。（如：”platformName”: “Android”）Desired Capabilities主要用于通知Appium服务器建立需要的Session。</p>
<p><em><strong>*Session*</strong></em></p>
<p>Appium的客户端和服务端之间进行通信都必须在一个Session的上下文中进行。客户端在发起通信的时候首先会发送一个叫作“Desired Capabilities”的JSON对象给服务器。服务器收到该数据后，会创建一个session并将session的ID返回到客户端。之后客户端可以用该session的ID发送后续的命令。</p>
<h3 id="2-常用Capability配置"><a href="#2-常用Capability配置" class="headerlink" title="2. 常用Capability配置"></a>2. <strong>常用Capability配置</strong></h3><p>主要分成了三部分：公共部分、ios部分、android部分，如果你android想用ios的那是不可能的，so，老老实实去了解每个平台有哪些，他们的作用是什么。下面我们介绍一些公用常用的,红色标记的为常用的选项。</p>
<p><img src="https://pic.imgdb.cn/item/6138737244eaada739e63607.jpg"></p>
<h3 id="3-Android独有Capability"><a href="#3-Android独有Capability" class="headerlink" title="3. Android独有Capability"></a>3. <strong>Android独有Capability</strong></h3><p><img src="https://pic.imgdb.cn/item/6138738444eaada739e65454.jpg"></p>
<h3 id="4-ios独有Capability"><a href="#4-ios独有Capability" class="headerlink" title="4. ios独有Capability"></a>4. <strong>ios独有Capability</strong></h3><p><img src="https://pic.imgdb.cn/item/613873ac44eaada739e6a8a7.jpg"></p>
<h3 id="5-Capability启动App"><a href="#5-Capability启动App" class="headerlink" title="5. Capability启动App"></a>5. <strong>Capability启动App</strong></h3><p>Automatic Server 本地AppiumServer服务</p>
<p>Custom Server：例如，如果要针对运行在网络中另一台计算机上的Appium服务器启动Inspector会话，这很有用。</p>
<p>Sauce Labs：如果您无法访问机器上的iOS模拟器，则可以利用Sauce Labs帐户在云中启动Appium会话。</p>
<p>TestObject：您还可以利用一些云测平台的真实设备云来进行真机测试。</p>
<p>headspin:使用远程设备来创建会话。</p>
<h3 id="6-desired-capability参数启动-app"><a href="#6-desired-capability参数启动-app" class="headerlink" title="6. desired capability参数启动****app"></a>6. <strong>desired capability参数</strong>启动****app</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"> &quot;platformName&quot;: &quot;Android&quot;,</span><br><span class="line"></span><br><span class="line"> &quot;platformVersion&quot;: &quot;7.1.2&quot;,</span><br><span class="line"></span><br><span class="line"> &quot;deviceName&quot;: &quot;127.0.0.1:62025&quot;,</span><br><span class="line"></span><br><span class="line"> &quot;appPackage&quot;: &quot;com.tal.kaoyan&quot;,</span><br><span class="line"></span><br><span class="line"> &quot;appActivity&quot;: &quot;com.tal.kaoyan.ui.activity.SplashActivity&quot;,</span><br><span class="line"></span><br><span class="line"> &quot;noReset&quot;: true</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">### </span><br></pre></td></tr></table></figure>

<h3 id="7-Inspector元素获取"><a href="#7-Inspector元素获取" class="headerlink" title="7. Inspector元素获取"></a>7. <strong>Inspector元素获取</strong></h3><p>启动成功之后就可以使用 Inspector来进行元素空间获取了。 注意：默认的元素定位有一些不准，需要切换到第二个坐标点定位选项后再切换回来才能准确定</p>
<h1 id="4-Appium元素定位相关操作"><a href="#4-Appium元素定位相关操作" class="headerlink" title="4.Appium元素定位相关操作"></a>4.<strong>Appium元素定位相关操作</strong></h1><p><img src="https://pic.imgdb.cn/item/613873f944eaada739e7350e.jpg"></p>
<h2 id="5-使用python-appium脚本启动程序"><a href="#5-使用python-appium脚本启动程序" class="headerlink" title="5.使用python+appium脚本启动程序"></a>5.<strong>使用python+appium脚本启动程序</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> appium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">desired_caps=&#123;&#125;</span><br><span class="line">desired_caps[<span class="string">&#x27;platformName&#x27;</span>]=<span class="string">&#x27;Android&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#模拟器设备</span></span><br><span class="line">desired_caps[<span class="string">&#x27;platformVersion&#x27;</span>]=<span class="string">&#x27;7.1.2&#x27;</span></span><br><span class="line">desired_caps[<span class="string">&#x27;deviceName&#x27;</span>]=<span class="string">&#x27;127.0.0.1:62025&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">desired_caps[<span class="string">&#x27;app&#x27;</span>]=<span class="string">r&#x27;D:\kaoyan3.1.0.apk&#x27;</span></span><br><span class="line"></span><br><span class="line">desired_caps[<span class="string">&#x27;appPackage&#x27;</span>]=<span class="string">&#x27;com.tal.kaoyan&#x27;</span></span><br><span class="line">desired_caps[<span class="string">&#x27;appActivity&#x27;</span>]=<span class="string">&#x27;com.tal.kaoyan.ui.activity.SplashActivity&#x27;</span></span><br><span class="line"></span><br><span class="line">driver = webdriver.Remote(<span class="string">&#x27;http://localhost:4723/wd/hub&#x27;</span>, desired_caps)</span><br></pre></td></tr></table></figure>

<h1 id="5-元素定位"><a href="#5-元素定位" class="headerlink" title="5.元素定位"></a>5.<strong>元素定位</strong></h1><p>与Web自动化测试一样，app自动化测试过程中最重要一个环节就是元素定位，只有准确定位到了元素才能进行相关元素的操作，如输入、点击、拖拽、滑动等。</p>
<p>appium提供了许多元素定位的方法，如id定位、name定位、class定位、层级定位等等.</p>
<h2 id="一、元素定位方式"><a href="#一、元素定位方式" class="headerlink" title="一、元素定位方式"></a>一、<strong><strong>元素定位方式</strong></strong></h2><ol>
<li><p>id</p>
</li>
<li><p>name</p>
</li>
<li><p>class</p>
</li>
<li><p>List定位</p>
</li>
<li><p>相对定位</p>
</li>
<li><p>Xpath定位</p>
</li>
<li><p>H5页面元素定位</p>
</li>
<li><p>Uiautomator定位</p>
</li>
</ol>
<h2 id="二、id定位"><a href="#二、id定位" class="headerlink" title="二、id定位"></a>二、<strong><strong>id定位</strong></strong></h2><p>Appium中可以使用 <em><strong>find_element_by_id()</strong></em> 方法来进行id定位。</p>
<h3 id="1-测试场景1"><a href="#1-测试场景1" class="headerlink" title="1) 测试场景1"></a><strong>1) <em>测试场景1</em></strong></h3><ol>
<li><p>安装考研帮kaoyan3.1.0.apk</p>
</li>
<li><p>点击升级页面取消按钮</p>
</li>
<li><p>点击引导页面的跳过按钮</p>
</li>
</ol>
<h3 id="2-脚本实现"><a href="#2-脚本实现" class="headerlink" title="2) 脚本实现"></a><em>2) <strong>脚本实现</strong></em></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span>  appium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line">desired_caps=&#123;&#125;</span><br><span class="line">desired_caps[<span class="string">&#x27;platformName&#x27;</span>]=<span class="string">&#x27;Android&#x27;</span></span><br><span class="line">desired_caps[<span class="string">&#x27;deviceName&#x27;</span>]=<span class="string">&#x27;127.0.0.1:62025&#x27;</span></span><br><span class="line">desired_caps[<span class="string">&#x27;platforVersion&#x27;</span>]=<span class="string">&#x27;5.1.1&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">desired_caps[<span class="string">&#x27;app&#x27;</span>]=<span class="string">r&#x27;D:\kaoyan3.1.0.apk&#x27;</span></span><br><span class="line">desired_caps[<span class="string">&#x27;appPackage&#x27;</span>]=<span class="string">&#x27;com.tal.kaoyan&#x27;</span></span><br><span class="line">desired_caps[<span class="string">&#x27;appActivity&#x27;</span>]=<span class="string">&#x27;com.tal.kaoyan.ui.activity.SplashActivity&#x27;</span></span><br><span class="line"></span><br><span class="line">driver=webdriver.Remote(<span class="string">&#x27;http://localhost:4723/wd/hub&#x27;</span>,desired_caps)</span><br><span class="line">driver.implicitly_wait(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;android:id/button2&#x27;</span>).click()</span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/tv_skip&#x27;</span>).click()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="三、-思考"><a href="#三、-思考" class="headerlink" title="三、**思考"></a><em>三、</em>**<em>思考</em></h2><p>· 如果安装的版本最新的包，或者升级到了最新的版本，则启动后没有升级弹窗元素该如何处理？</p>
<p>· 跳过引导页面首次启动和非首次启动场景该如何处理？</p>
<h3 id="异常捕捉"><a href="#异常捕捉" class="headerlink" title="异常捕捉"></a><em><strong>异常捕捉</strong></em></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span>  appium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.common.exceptions <span class="keyword">import</span> NoSuchElementException</span><br><span class="line"></span><br><span class="line">desired_caps=&#123;&#125;</span><br><span class="line">desired_caps[<span class="string">&#x27;platformName&#x27;</span>]=<span class="string">&#x27;Android&#x27;</span></span><br><span class="line">desired_caps[<span class="string">&#x27;deviceName&#x27;</span>]=<span class="string">&#x27;127.0.0.1:62025&#x27;</span></span><br><span class="line">desired_caps[<span class="string">&#x27;platforVersion&#x27;</span>]=<span class="string">&#x27;7.1.2&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">desired_caps[<span class="string">&#x27;app&#x27;</span>]=<span class="string">r&#x27;d:\kaoyan3.1.0.apk&#x27;</span></span><br><span class="line">desired_caps[<span class="string">&#x27;appPackage&#x27;</span>]=<span class="string">&#x27;com.tal.kaoyan&#x27;</span></span><br><span class="line">desired_caps[<span class="string">&#x27;appActivity&#x27;</span>]=<span class="string">&#x27;com.tal.kaoyan.ui.activity.SplashActivity&#x27;</span></span><br><span class="line"></span><br><span class="line">desired_caps[<span class="string">&#x27;noReset&#x27;</span>]=<span class="string">&#x27;True&#x27;</span></span><br><span class="line"></span><br><span class="line">driver=webdriver.Remote(<span class="string">&#x27;http://localhost:4723/wd/hub&#x27;</span>,desired_caps)</span><br><span class="line">driver.implicitly_wait(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_cancelBtn</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;check_cancelBtn&quot;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        cancelBtn = driver.find_element_by_id(<span class="string">&#x27;android:id/button2&#x27;</span>)</span><br><span class="line">    <span class="keyword">except</span> NoSuchElementException:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;no CancelBtn&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        cancelBtn.click()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_skipBtn</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;check_skipBtn&quot;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        skipBtn = driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/tv_skip&#x27;</span>)</span><br><span class="line">    <span class="keyword">except</span> NoSuchElementException:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;check_skipBtn&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        skipBtn.click()</span><br><span class="line"></span><br><span class="line"><span class="comment">#check_updateBtn()</span></span><br><span class="line"></span><br><span class="line">check_skipBtn()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="四、id定位综合实践——自动登录"><a href="#四、id定位综合实践——自动登录" class="headerlink" title="四、id定位综合实践——自动登录****"></a><strong>四、</strong>id定位综合实践——自动登录****</h2><h3 id="测试场景"><a href="#测试场景" class="headerlink" title="测试场景"></a><em><strong>测试场景</strong></em></h3><ol>
<li><p>启动App，进入到登录界面</p>
</li>
<li><p>在登录页面输入用户名“liubo10010”，密码‘liubo10010’ 然后点击登录。</p>
</li>
</ol>
<h3 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a><em><strong>需求分析</strong></em></h3><ol>
<li><p>可以把启动后检测升级弹窗和引导页面的模块抽离作为独立的模块被其他模块调用，提高代码复用率。</p>
</li>
<li><p>获取用户名密码输入框和登录按钮的元素id属性,另外要考虑启动时App之前是否登录过账号，已经登录过和未登录场景流程不一样。</p>
</li>
<li><p>注意：send_keys()传入中文时需要在capability中配置如下内容：</p>
<p>desired_caps[‘unicodeKeyboard’]=”True”</p>
<p>desired_caps[‘resetKeyboard’]=”True”</p>
<p>设置之后会有Appium的输入法守护来执行输入操作</p>
</li>
</ol>
<h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a><em><strong>代码实现</strong></em></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span>  appium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.common.exceptions <span class="keyword">import</span> NoSuchElementException</span><br><span class="line"></span><br><span class="line">desired_caps=&#123;&#125;</span><br><span class="line">desired_caps[<span class="string">&#x27;platformName&#x27;</span>]=<span class="string">&#x27;Android&#x27;</span></span><br><span class="line">desired_caps[<span class="string">&#x27;deviceName&#x27;</span>]=<span class="string">&#x27;127.0.0.1:62025&#x27;</span></span><br><span class="line">desired_caps[<span class="string">&#x27;platforVersion&#x27;</span>]=<span class="string">&#x27;7.1.2&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">desired_caps[<span class="string">&#x27;app&#x27;</span>]=<span class="string">r&#x27;d:\kaoyan3.1.0.apk&#x27;</span></span><br><span class="line">desired_caps[<span class="string">&#x27;appPackage&#x27;</span>]=<span class="string">&#x27;com.tal.kaoyan&#x27;</span></span><br><span class="line">desired_caps[<span class="string">&#x27;appActivity&#x27;</span>]=<span class="string">&#x27;com.tal.kaoyan.ui.activity.SplashActivity&#x27;</span></span><br><span class="line"></span><br><span class="line">desired_caps[<span class="string">&#x27;noReset&#x27;</span>]=<span class="string">&#x27;True&#x27;</span></span><br><span class="line"></span><br><span class="line">driver=webdriver.Remote(<span class="string">&#x27;http://localhost:4723/wd/hub&#x27;</span>,desired_caps)</span><br><span class="line">driver.implicitly_wait(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_cancelBtn</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;check_cancelBtn&quot;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        cancelBtn = driver.find_element_by_id(<span class="string">&#x27;android:id/button2&#x27;</span>)</span><br><span class="line">    <span class="keyword">except</span> NoSuchElementException:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;no CancelBtn&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        cancelBtn.click()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_skipBtn</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;check_skipBtn&quot;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        skipBtn = driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/tv_skip&#x27;</span>)</span><br><span class="line">    <span class="keyword">except</span> NoSuchElementException:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;check_skipBtn&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        skipBtn.click()</span><br><span class="line"></span><br><span class="line"><span class="comment">#check_updateBtn()</span></span><br><span class="line"></span><br><span class="line">check_skipBtn()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span>():</span></span><br><span class="line">    driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/login_email_edittext&#x27;</span>).clear()</span><br><span class="line">    driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/login_email_edittext&#x27;</span>).send_keys(<span class="string">&#x27;liubo10010&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/login_password_edittext&#x27;</span>).send_keys(<span class="string">&#x27;liubo10010&#x27;</span>)</span><br><span class="line">    driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/login_login_btn&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/mainactivity_button_mysefl&#x27;</span>)</span><br><span class="line"><span class="keyword">except</span> NoSuchElementException:</span><br><span class="line">    login()</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/mainactivity_button_mysefl&#x27;</span>).click()</span><br><span class="line">    driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/activity_usercenter_username&#x27;</span>).click()</span><br><span class="line">    login()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="五、name定位"><a href="#五、name定位" class="headerlink" title="五、name定位"></a><em>五、name定位</em></h2><p>根据name进行定位，对于android来说，就是text属性</p>
<p>但是由于text稳定性不是很好，所以appium 1.5开始废弃了该方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Capability <span class="keyword">import</span> *</span><br><span class="line">driver.find_element_by_name(<span class="string">&#x27;请输入用户名&#x27;</span>).send_keys(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">driver.find_element_by_name(<span class="string">&#x27;登录&#x27;</span>).click()</span><br></pre></td></tr></table></figure>

<p><em><strong>运行提示： Locator Strategy ‘name’ is not supported for this session</strong></em></p>
<h2 id="六、classname定位"><a href="#六、classname定位" class="headerlink" title="六、classname定位"></a>六、<strong><strong>classname定位</strong></strong></h2><p>classname定位是根据元素类型来进行定位，但是实际情况中很多元素的classname都是相同的，如上例中登录页面中的用户名和密码都是clasName属性值都是：<em><strong>“android.widget.EditText”</strong></em> 因此只能定位第一个元素也就是用户名，而密码输入框就需要使用其他方式来定位，这样其实很鸡肋.一般情况下如果有id就不必使用classname定位。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Capability <span class="keyword">import</span> *</span><br><span class="line">driver.find_element_by_class_name(<span class="string">&#x27;android.widget.EditText&#x27;</span>).send_keys(<span class="string">&#x27;liubo10010&#x27;</span>)</span><br><span class="line">driver.find_element_by_class_name(<span class="string">&#x27;android.widget.EditText&#x27;</span>).send_keys(<span class="string">&#x27;liubo10010&#x27;</span>)</span><br><span class="line">driver.find_element_by_class_name(<span class="string">&#x27;android.widget.Button&#x27;</span>).click()</span><br></pre></td></tr></table></figure>

<h2 id="七、-相对定位"><a href="#七、-相对定位" class="headerlink" title="七、**相对定位"></a><em>七、</em>**<em>相对定位</em></h2><p>相对定位是先找到该元素的有对应属性的父元素节点，然后基于父元素进行元素定位。</p>
<h5 id="测试案例"><a href="#测试案例" class="headerlink" title="测试案例"></a><em><strong>测试案例</strong></em></h5><p>不使用id元素定位方式，在新用户注册界面点击添加头像按钮。</p>
<h5 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现"></a><em><strong>代码实现</strong></em></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Capability <span class="keyword">import</span> driver</span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/login_register_text&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line">root_element=driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/activity_register_parentlayout&#x27;</span>)</span><br><span class="line">root_element.find_element_by_class_name(<span class="string">&#x27;android.widget.ImageView&#x27;</span>).click()</span><br></pre></td></tr></table></figure>

<h2 id="八、xpath定位"><a href="#八、xpath定位" class="headerlink" title="八、xpath定位"></a>八、<strong><strong>xpath定位</strong></strong></h2><p>xpath定位是一种路径定位方式，主要是依赖于元素绝对路径或者相关属性来定位，但是绝对路径xpath执行效率比较低（特别是元素路径比较深的时候），一般使用比较少。通常使用xpath相对路径和属性定位。</p>
<p>xpath路径表达式</p>
<table>
<thead>
<tr>
<th><em><strong>表达式</strong></em></th>
<th><em><strong>描述</strong></em></th>
</tr>
</thead>
<tbody><tr>
<td>/</td>
<td>从根节点选取。</td>
</tr>
<tr>
<td>//</td>
<td>从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。</td>
</tr>
<tr>
<td>nodename</td>
<td>选取此节点的所有子节点。</td>
</tr>
<tr>
<td>.</td>
<td>选取当前节点。</td>
</tr>
<tr>
<td>..</td>
<td>选取当前节点的父节点。</td>
</tr>
<tr>
<td>@</td>
<td>选取属性。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th><em><strong>通配符</strong></em></th>
<th><em><strong>描述</strong></em></th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>匹配任何元素节点。</td>
</tr>
<tr>
<td>@*</td>
<td>匹配任何属性节点。</td>
</tr>
<tr>
<td>node()</td>
<td>匹配任何类型的节点。</td>
</tr>
</tbody></table>
<h5 id="案例"><a href="#案例" class="headerlink" title="案例"></a><em><strong>案例</strong></em></h5><p>使用xpath定位元素来进行登录操作。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Capability <span class="keyword">import</span> driver</span><br><span class="line">driver.find_element_by_xpath(<span class="string">&#x27;//android.widget.EditText[@text=&quot;请输入用户名&quot;]&#x27;</span>).send_keys(<span class="string">&#x27;liubo10010&#x27;</span>)</span><br><span class="line">driver.find_element_by_xpath(<span class="string">&#x27;//*[@class=&quot;android.widget.EditText&quot; and @index=&quot;3&quot;]&#x27;</span>).send_keys(<span class="string">&#x27;liubo10010&#x27;</span>)</span><br><span class="line">driver.find_element_by_xpath(<span class="string">&#x27;//android.widget.Button&#x27;</span>).click()</span><br></pre></td></tr></table></figure>

<h2 id="九、List定位"><a href="#九、List定位" class="headerlink" title="九、List定位"></a>九、<strong><strong>List定位</strong></strong></h2><p>前面我们提到相同的classname属性值元素无法区分定位，现在将使用List定位来解决这个问题。List定位首先是使用<strong>find_elements_by_XX</strong>获取一组相同的class属性的元素，然后使用数组下标来区分标记不同元素进行相关操作。</p>
<h5 id="测试案例1"><a href="#测试案例1" class="headerlink" title="测试案例1"></a><em><strong>测试案例1</strong></em></h5><p>在新用户注册界面点击添加头像按钮后，选择指定的图片保存作为头像。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Capability <span class="keyword">import</span> driver</span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/login_register_text&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/activity_register_userheader&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line">images=driver.find_elements_by_id(<span class="string">&#x27;com.tal.kaoyan:id/item_image&#x27;</span>)</span><br><span class="line"></span><br><span class="line">images[<span class="number">2</span>].click()</span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/save&#x27;</span>).click()</span><br></pre></td></tr></table></figure>

<h3 id="list定位综合案例——用户注册"><a href="#list定位综合案例——用户注册" class="headerlink" title="list定位综合案例——用户注册"></a><em><strong>list定位综合案例——用户注册</strong></em></h3><h5 id="测试场景-1"><a href="#测试场景-1" class="headerlink" title="测试场景"></a><strong><strong>测试场景</strong></strong></h5><ol>
<li><p>进入注册界面设置头像</p>
</li>
<li><p>输入注册信息：用户名、密码、邮箱</p>
</li>
<li><p>完善院校和专业信息 （院校：上海-同济大学 专业：经济学类-统计学-经济统计学）</p>
</li>
<li><p>完成注册</p>
</li>
</ol>
<h5 id="代码实现-2"><a href="#代码实现-2" class="headerlink" title="代码实现"></a><em><strong>代码实现</strong></em></h5><p>注意：运行前记得将noRest设置为：desired_caps[‘noReset’]=’False’ 以免之前的注册残留信息干扰。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Capability <span class="keyword">import</span> driver</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment">#进入注册界面选择并设置头像</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/login_register_text&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/activity_register_userheader&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line">images=driver.find_elements_by_id(<span class="string">&#x27;com.tal.kaoyan:id/item_image&#x27;</span>)</span><br><span class="line"></span><br><span class="line">images[<span class="number">2</span>].click()</span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/save&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line"><span class="comment">#注册信息填写</span></span><br><span class="line">username=<span class="string">&#x27;Test&#x27;</span>+<span class="string">&#x27;FLY&#x27;</span>+<span class="built_in">str</span>(random.randint(<span class="number">1000</span>,<span class="number">9000</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;username: %s&#x27;</span> %username)</span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/activity_register_username_edittext&#x27;</span>).send_keys(username)</span><br><span class="line"></span><br><span class="line">password=<span class="string">&#x27;appium&#x27;</span>+<span class="built_in">str</span>(random.randint(<span class="number">1000</span>,<span class="number">9000</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;password: %s&#x27;</span> %password)</span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/activity_register_password_edittext&#x27;</span>).send_keys(password)</span><br><span class="line"></span><br><span class="line">email=<span class="string">&#x27;pwd&#x27;</span>+<span class="built_in">str</span>(random.randint(<span class="number">1000</span>,<span class="number">9000</span>))+<span class="string">&#x27;@163.com&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;email: %s&#x27;</span> %email)</span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/activity_register_email_edittext&#x27;</span>).send_keys(email)</span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/activity_register_register_btn&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#院校选择</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/perfectinfomation_edit_school_name&#x27;</span>).click()</span><br><span class="line"><span class="comment">#选择省份</span></span><br><span class="line">driver.find_elements_by_id(<span class="string">&#x27;com.tal.kaoyan:id/more_forum_title&#x27;</span>)[<span class="number">1</span>].click()</span><br><span class="line"><span class="comment">#选择具体院校--同济大学</span></span><br><span class="line">driver.find_elements_by_id(<span class="string">&#x27;com.tal.kaoyan:id/university_search_item_name&#x27;</span>)[<span class="number">1</span>].click()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#专业选择</span></span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/activity_perfectinfomation_major&#x27;</span>).click()</span><br><span class="line"><span class="comment">#选择经济学类-统计学-经济统计学</span></span><br><span class="line">driver.find_elements_by_id(<span class="string">&#x27;com.tal.kaoyan:id/major_subject_title&#x27;</span>)[<span class="number">1</span>].click()</span><br><span class="line">driver.find_elements_by_id(<span class="string">&#x27;com.tal.kaoyan:id/major_group_title&#x27;</span>)[<span class="number">2</span>].click()</span><br><span class="line">driver.find_elements_by_id(<span class="string">&#x27;com.tal.kaoyan:id/major_search_item_name&#x27;</span>)[<span class="number">1</span>].click()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#点击“进入考研帮”按钮</span></span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/activity_perfectinfomation_goBtn&#x27;</span>).click()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="十、UIAutomator定位简介"><a href="#十、UIAutomator定位简介" class="headerlink" title="十、UIAutomator定位简介"></a>十、<strong><strong>UIAutomator定位简介</strong></strong></h2><p>UIAutomator元素定位是 Android 系统原生支持的定位方式，虽然与 xpath 类似，但比它更加好用，且支持元素全部属性定位.定位原理是通过android 自带的android uiautomator的类库去查找元素。使用法 <em><strong>find_element_by_android_uiautomator()</strong></em> 可以运用UiAutomator元素定位。</p>
<h3 id="定位方法"><a href="#定位方法" class="headerlink" title="定位方法"></a><em><strong>定位方法</strong></em></h3><p>· id定位</p>
<p>· text定位</p>
<p>· class name定位</p>
<h3 id="id定位"><a href="#id定位" class="headerlink" title="id定位"></a><em><strong>id定位</strong></em></h3><p>id定位是根据元素的resource-id属性来进行定位，使用 UiSelector().resourceId()方法即可。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Capability <span class="keyword">import</span> driver</span><br><span class="line"></span><br><span class="line">driver.find_element_by_android_uiautomator(<span class="string">&#x27;new UiSelector().resourceId(&quot;com.tal.kaoyan:id/login_email_edittext&quot;)&#x27;</span>).send_keys(<span class="string">&#x27;liubo10010&#x27;</span>)</span><br><span class="line"></span><br><span class="line">driver.find_element_by_android_uiautomator\</span><br><span class="line">    (<span class="string">&#x27;new UiSelector().resourceId(&quot;com.tal.kaoyan:id/login_password_edittext&quot;)&#x27;</span>).send_keys(<span class="string">&#x27;liubo10010&#x27;</span>)</span><br><span class="line"></span><br><span class="line">driver.find_element_by_android_uiautomator\</span><br><span class="line">    (<span class="string">&#x27;new UiSelector().resourceId(&quot;com.tal.kaoyan:id/login_login_btn&quot;)&#x27;</span>).click()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="思考"><a href="#思考" class="headerlink" title="思考"></a><em><strong>思考</strong></em></h3><p>在自动化过程中，元素出现受网络环境，设备性能等多种因素影响。因此元素加载的时间可能不一致，从而会导致元素无法定位超时报错，但是实际上元素是正常加载了的，只是出现时间晚一点而已。那么如何解决这个问题呢？</p>
<h2 id="6-元素等待作用"><a href="#6-元素等待作用" class="headerlink" title="*6.*元素等待作用"></a>*6.*<strong>元素等待作用</strong></h2><p>设置元素等待可以更加灵活的制定等待定位元素的时间，从而增强脚本的健壮性，提高执行效率。</p>
<p>元素等待类型分为强制等待、隐式等待、显示等待</p>
<h4 id="强制等待"><a href="#强制等待" class="headerlink" title="强制等待"></a><strong>强制等待</strong></h4><p>设置固定的等待时间，使用sleep()方法即可实现</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="comment">#强制等待5秒</span></span><br><span class="line">sleep(<span class="number">5</span>)</span><br></pre></td></tr></table></figure>

<h4 id="隐式等待"><a href="#隐式等待" class="headerlink" title="隐式等待"></a><strong>隐式等待</strong></h4><p>隐式等待是针对全部元素设置的等待时间</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.implicitly_wait(<span class="number">20</span>)</span><br></pre></td></tr></table></figure>

<h4 id="显式等待"><a href="#显式等待" class="headerlink" title="显式等待"></a><strong>显式等待</strong></h4><p>显式等待是针对某个元素来设置的等待时间。</p>
<p>方法WebDriverWait格式参数如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> WebDriverWait</span><br><span class="line"></span><br><span class="line">WebDriverWait(driver, timeout, poll_frequency=<span class="number">0.5</span>, ignored_exceptions=<span class="literal">None</span>)</span><br><span class="line">driver : WebDriver</span><br><span class="line">timeout : 最长超时时间，默认以秒为单位</span><br><span class="line">poll_frequency : 休眠时间的间隔时间，默认为<span class="number">0.5</span>秒</span><br><span class="line">ignored_exceptions : 超时后的异常信息，默认情况下抛NoSuchElementException异常。</span><br></pre></td></tr></table></figure>

<p>WebDriverWait()一般和until()或until_not()方法配合使用，另外，lambda提供了一个运行时动态创建函数的方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> WebDriverWait</span><br><span class="line">WebDriverWait(driver,<span class="number">10</span>).until(<span class="keyword">lambda</span> x:x.find_element_by_id(<span class="string">&quot;elementID&quot;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="7-截图方法"><a href="#7-截图方法" class="headerlink" title="*7.*截图方法"></a>*7.*<strong>截图方法</strong></h2><h4 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a><strong>方法1</strong></h4><p>save_screenshot() 该方法直接保存当前屏幕截图到当前脚本所在文件位置。</p>
<p><code>driver.save_screenshot(&#39;login.png&#39;)</code></p>
<h4 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a><strong>方法2</strong></h4><p>get_screenshot_as_file(self, filename)</p>
<p>将截图保留到指定文件路径</p>
<p><code>driver.get_screenshot_as_file(&#39;./images/login.png&#39;)</code></p>
<h4 id="测试场景-2"><a href="#测试场景-2" class="headerlink" title="测试场景"></a><strong>测试场景</strong></h4><p>在考研帮App登录页面输入用户名和密码之后截图，分别保存到当前文件和指定的文件路径。</p>
<h4 id="代码实现-3"><a href="#代码实现-3" class="headerlink" title="代码实现"></a><strong>代码实现</strong></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Capability <span class="keyword">import</span> driver</span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/login_email_edittext&#x27;</span>).clear()</span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/login_email_edittext&#x27;</span>).send_keys(<span class="string">&#x27;liubo10010&#x27;</span>)</span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/login_password_edittext&#x27;</span>).send_keys(<span class="string">&#x27;liubo10010&#x27;</span>)</span><br><span class="line"></span><br><span class="line">driver.save_screenshot(<span class="string">&#x27;login.png&#x27;</span>)</span><br><span class="line">driver.get_screenshot_as_file(<span class="string">&#x27;./images/login.png&#x27;</span>)</span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/login_login_btn&#x27;</span>).click()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="8-滑动效果"><a href="#8-滑动效果" class="headerlink" title="8.滑动效果"></a><em>8.<strong>滑动效果</strong></em></h2><p>在app应用日常使用过程中，会经常用到在屏幕滑动操作。如刷朋友圈上下滑操作、浏览图片左右滑动操作等。在自动化脚本该如何实现这些操作呢？</p>
<p>在Appium中模拟用户滑动操作需要使用swipe方法，该方法定义如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">swipe</span>(<span class="params">self, start_x, start_y, end_x, end_y, duration=<span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Swipe from one point to another point, for an optional duration.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :Args:</span></span><br><span class="line"><span class="string">     - start_x - x-coordinate at which to start</span></span><br><span class="line"><span class="string">     - start_y - y-coordinate at which to start</span></span><br><span class="line"><span class="string">     - end_x - x-coordinate at which to stop</span></span><br><span class="line"><span class="string">     - end_y - y-coordinate at which to stop</span></span><br><span class="line"><span class="string">     - duration - (optional) time to take the swipe, in ms.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :Usage:</span></span><br><span class="line"><span class="string">        driver.swipe(100, 100, 100, 400)</span></span><br></pre></td></tr></table></figure>

<p>滑动解析</p>
<p>swipe()方法的参数说明：<br>start_x：起始横坐标<br>start_y：起始纵坐标<br>end_x：结束时横坐标<br>end_y：结束时纵坐标<br>duration：滑动持续时间，单位毫秒，默认None（一般设置500-1000毫秒比较合适）</p>
<p>滑动主要分为：</p>
<ol>
<li><p>水平滑动</p>
</li>
<li><p>垂直滑动</p>
</li>
<li><p>任意方向滑动</p>
</li>
</ol>
<p>滑动轨迹图如下：</p>
<p><img src="https://pic.imgdb.cn/item/6138797644eaada739f0c2fd.jpg"></p>
<p>实践应用</p>
<h4 id="测试场景-3"><a href="#测试场景-3" class="headerlink" title="测试场景"></a><strong>测试场景</strong></h4><p>· 安装启动考研帮，手动向水平左滑动首页引导页面。</p>
<p>· 点击“立即体验”进入登录页面。</p>
<h4 id="代码实现-4"><a href="#代码实现-4" class="headerlink" title="代码实现"></a><strong>代码实现</strong></h4><p>注意：运行前记得将capablity里面的check_skipBtn()先注释掉，否则直接跳过了无法滑动引导页面。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">from</span> Capability <span class="keyword">import</span> driver</span><br><span class="line"></span><br><span class="line"><span class="comment">#获取屏幕尺寸</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_size</span>():</span></span><br><span class="line">    x=driver.get_window_size()[<span class="string">&#x27;width&#x27;</span>]</span><br><span class="line">    y=driver.get_window_size()[<span class="string">&#x27;height&#x27;</span>]</span><br><span class="line">    <span class="keyword">return</span> x,y</span><br><span class="line"></span><br><span class="line"><span class="comment">#显示屏幕尺寸（width,height）</span></span><br><span class="line">l=get_size()</span><br><span class="line"><span class="built_in">print</span>(l)</span><br><span class="line"></span><br><span class="line"><span class="comment">#向左滑动</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">swipeLeft</span>():</span></span><br><span class="line">    l=get_size()</span><br><span class="line">    x1=<span class="built_in">int</span>(l[<span class="number">0</span>]*<span class="number">0.9</span>)</span><br><span class="line">    y1=<span class="built_in">int</span>(l[<span class="number">1</span>]*<span class="number">0.5</span>)</span><br><span class="line">    x2=<span class="built_in">int</span>(l[<span class="number">0</span>]*<span class="number">0.1</span>)</span><br><span class="line">    driver.swipe(x1,y1,x2,y1,<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#向左滑动2次</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">    swipeLeft()</span><br><span class="line">    sleep(<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&#x27;com.tal.kaoyan:id/activity_splash_guidfinish&#x27;</span>).click()</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/08/appium%E5%AD%A6%E4%B9%A0/" data-id="cktbc64do0000ootygm9t9jho" data-title="appium学习" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-python单元测试" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/07/python%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" class="article-date">
  <time class="dt-published" datetime="2021-09-07T09:27:43.000Z" itemprop="datePublished">2021-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/07/python%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/">python单元测试</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1-单元测试介绍"><a href="#1-单元测试介绍" class="headerlink" title="1.单元测试介绍"></a>1.<strong>单元测试介绍</strong></h1><h2 id="1-单元测试的概念"><a href="#1-单元测试的概念" class="headerlink" title="1. 单元测试的概念"></a>1. <strong>单元测试的概念</strong></h2><p>单元测试（unit testing），是指对软件中的最小可测试单元进行检查和验证。</p>
<p>对于单元测试中单元的含义，要根据实际情况去判定其具体含义。一个单元可能是功能模块、类、方法（函数）等。</p>
<h2 id="2-单元测试工具"><a href="#2-单元测试工具" class="headerlink" title="2. 单元测试工具"></a>2. <strong>单元测试工具</strong></h2><p>不同的编程语言都有比较成熟的单元测试框架，语法规则有些差别，其核心思想都是相通的。常见的单</p>
<p>元测试框架有：</p>
<p>Java语言：Junit、TestNG</p>
<p>Python语言：UnitTest、Pytest</p>
<h2 id="3-单元测试的作用"><a href="#3-单元测试的作用" class="headerlink" title="3. 单元测试的作用"></a>3. <strong>单元测试的作用</strong></h2><p>提供用例组织与执行 </p>
<p>提供丰富的断言方法 </p>
<p>提供丰富的日志与测试结果</p>
<h1 id="2-UnitTest框架介绍"><a href="#2-UnitTest框架介绍" class="headerlink" title="2.UnitTest框架介绍"></a>2.UnitTest框架介绍</h1><p>UnitTest是Python自带的一个单元测试框架，用它来做单元测试。也经常应用到UI自动化测试和接口自动化测试中，用来管理和维护测试用例脚本</p>
<h2 id="1-使用UnitTest框架的好处："><a href="#1-使用UnitTest框架的好处：" class="headerlink" title="1. 使用UnitTest框架的好处："></a>1. <strong>使用UnitTest框架的好处：</strong></h2><ol>
<li><p>能够组织多个用例去执行（可以把多条测试用例封装成一个测试套件，实现批量执行测试用例）</p>
</li>
<li><p>提供了丰富的断言方法，方便对用例执行的结果进行判断</p>
</li>
<li><p>能够生成HTML格式的测试报告</p>
</li>
<li><p>使用Fixture功能可以减少代码的冗余</p>
</li>
</ol>
<h2 id="2-UnitTest核心要素："><a href="#2-UnitTest核心要素：" class="headerlink" title="2. UnitTest核心要素："></a>2. <strong>UnitTest核心要素：</strong></h2><ol>
<li><p>TestCase  测试用例</p>
</li>
<li><p>TestSuite  测试套件</p>
</li>
<li><p>TestRunner  测试执行</p>
</li>
<li><p>TestLoader</p>
</li>
</ol>
<h1 id="3-TestCase"><a href="#3-TestCase" class="headerlink" title="3.TestCase"></a>3.TestCase</h1><p>TestCase就是表示测试用例</p>
<h2 id="1-案例：定义一个实现加法操作的函数，测试该函数"><a href="#1-案例：定义一个实现加法操作的函数，测试该函数" class="headerlink" title="1. 案例：定义一个实现加法操作的函数，测试该函数"></a>1. <strong>案例</strong>：定义一个实现加法操作的函数，<strong><strong>测试</strong></strong>该函数</h2><p>如何定义测试用例</p>
<p><em><strong>1.导包：import</strong></em> <em><strong>unittest</strong></em></p>
<p><em><strong>2.定义测试类：新建测试类必须继承 unittest.TestCase</strong></em></p>
<p><em><strong>3.定义测试方法：测试方法名称命名必须以test开头</strong></em></p>
<p>示例代码：</p>
<h2 id="2-定义math类"><a href="#2-定义math类" class="headerlink" title="2. 定义math类"></a>2. <strong>定义math类</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">math</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,a,b</span>):</span></span><br><span class="line">        self.a=<span class="built_in">int</span>(a)</span><br><span class="line">        self.b=<span class="built_in">int</span>(b)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.a+self.b</span><br></pre></td></tr></table></figure>

<h2 id="3-编写测试类"><a href="#3-编写测试类" class="headerlink" title="3. 编写测试类"></a>3. <strong>编写测试类</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Math <span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestMath</span>(<span class="params">unittest.TestCase</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setUp</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;测试开始了&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Test_add</span>(<span class="params">self</span>):</span></span><br><span class="line">        j=math(<span class="number">10</span>,<span class="number">10</span>);</span><br><span class="line">        self.assertEquals(j.add(),<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tearDown</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;测试结束&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    suite = unittest.TestSuite()</span><br><span class="line">    suite.addTest(TestMath(<span class="string">&quot;Test_add&quot;</span>))</span><br><span class="line"></span><br><span class="line">    runner = unittest.TextTestRunner()</span><br><span class="line">    runner.run(suite)</span><br></pre></td></tr></table></figure>

<h2 id="4-如何执行测试用例"><a href="#4-如何执行测试用例" class="headerlink" title="4. 如何执行测试用例"></a>4. <strong>如何执行测试用例</strong></h2><p>方式一：使用pycharm在代码上点击鼠标右键，选择使用UnitTest运行</p>
<p>方式二：调用unittest.main()来运行</p>
<h1 id="4-TestSuite"><a href="#4-TestSuite" class="headerlink" title="4.TestSuite"></a>4.TestSuite</h1><p>说明：(翻译：测试套件)多条测试用例集合在一起，就是一个TestSuite使用：</p>
<p>创建suite对象：suite=unittest.TestSuite()</p>
<p>添加用例：suite.addTest(ClassName(“MethodName”))(ClassName：为类名；MethodName：为方法名)</p>
<p>添加扩展：suite.addTest(unittest.makeSuite(ClassName))(搜索指定ClassName内test开头的方法并添加到测试套件中)</p>
<p>提示：TestSuite需要配合TestRunner才能被执行</p>
<h1 id="5-TextTestRunner"><a href="#5-TextTestRunner" class="headerlink" title="5.TextTestRunner"></a>5.TextTestRunner</h1><p>说明：TextTestRunner是用来执行测试用例和测试套件的使用：</p>
<p>1.创建对象：runner=unittest.TextTestRunner()</p>
<p>2.执行：runner.run(suite)#suite：为测试套件名称</p>
<h1 id="6-Fixture"><a href="#6-Fixture" class="headerlink" title="6.Fixture"></a><strong>6.<em>Fixture</em></strong></h1><p>说明：Fixture是一个概述，对一个测试用例环境的初始化和销毁就是一个Fixture</p>
<p>Fixture控制级别：</p>
<p>方法级别使用：</p>
<p><img src="https://pic.imgdb.cn/item/613733c544eaada739b8e03a.jpg"> </p>
<p>类级别使用：</p>
<p><img src="https://pic.imgdb.cn/item/613733d244eaada739b8f669.jpg"> </p>
<p>示例代码使用：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#在一个测试类中定义多个方法，查看每个方法执行完所花费的时间</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span>  time</span><br><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">setUpModule</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;setUpModule&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tearDownModule</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;tearDownModule&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestFixTure</span>(<span class="params">unittest.TestCase</span>):</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tearDownClass</span>(<span class="params">cls</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;tearDownClass&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setUp</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;start time=&quot;</span>,time.time())</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tearDown</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;end time=&quot;</span>, time.time())</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_01</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test01&quot;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_02</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test02&quot;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="7-UnitTest-断言"><a href="#7-UnitTest-断言" class="headerlink" title="7.****UnitTest 断言"></a>7.****<em>UnitTest 断言</em></h1><p>什么是断言</p>
<p>概念：让程序代替人为判断测试程序执行结果是否符合预期结果的<em><strong>过程</strong></em></p>
<p>UnitTest 中提供了非常丰富的断言方法，但是常用的也就那么几个，并且使用起来也比较简单。</p>
<p><img src="https://pic.imgdb.cn/item/6137342844eaada739b988cf.jpg"></p>
<p>使用方式：</p>
<p>断言方法经在unittest.TestCase 类中定义好了，而且我们自定义的测试类已经继承了 TestCase ，所以在测试方法中直接调用即可。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="comment">#加法函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">x,y</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestAssert</span>(<span class="params">unittest.TestCase</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test01</span>(<span class="params">self</span>):</span></span><br><span class="line">        num=add(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">        self.assertEqual(<span class="number">3</span>,num)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test02</span>(<span class="params">self</span>):</span></span><br><span class="line">        num=add(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">        is_ok=num==<span class="number">3</span></span><br><span class="line">        <span class="built_in">print</span>(is_ok)</span><br><span class="line">        self.assertTrue(is_ok)</span><br></pre></td></tr></table></figure>

<h1 id="8-用例公共部分合并"><a href="#8-用例公共部分合并" class="headerlink" title="8.用例公共部分合并"></a><strong>8.<em>用例公共部分合并</em></strong></h1><p>上述内容里面，每个<em><strong>测试类</strong></em>都有 SetUp()和 tearDown()方法，而且两个方法内容都是一样的， </p>
<p>用于打印开始与结束提示语句，是否可以合并在一起呢？ </p>
<p>Math模块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">math</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,a,b</span>):</span></span><br><span class="line">        self.a=<span class="built_in">int</span>(a)</span><br><span class="line">        self.b=<span class="built_in">int</span>(b)</span><br><span class="line">    <span class="comment">#加法函数  两数相加</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.a+self.b</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">del1</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.a - self.b</span><br></pre></td></tr></table></figure>

<p>写测试类，把用例公共部分合并</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Math <span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="comment">#把这个setUp与SetDown公共部分的合并</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test_StarEnd</span>(<span class="params">unittest.TestCase</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setUp</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;测试开始&quot;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tearDown</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;测试结束&quot;</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Testadd</span>(<span class="params">Test_StarEnd</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_add</span>(<span class="params">self</span>):</span></span><br><span class="line">        j = math(<span class="number">5</span>, <span class="number">5</span>)</span><br><span class="line">        self.assertEqual(j.add(), <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestSub</span>(<span class="params">Test_StarEnd</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_sub</span>(<span class="params">self</span>):</span></span><br><span class="line">        i = math(<span class="number">3</span>, <span class="number">2</span>)</span><br><span class="line">        self.assertEqual(i.del1(), <span class="number">1</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure>

<h1 id="9-用例执行顺序"><a href="#9-用例执行顺序" class="headerlink" title="9.用例执行顺序"></a>9.用例执行顺序</h1><p>观察下述代码，看执行顺序</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">setUpModule</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;setUpModule&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tearDownModule</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;tearDownModule&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#测试类1</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test1</span>(<span class="params">unittest.TestCase</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setUp</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Test1 start&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_c</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test_c&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_b</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test_b&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tearDown</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test end&quot;</span>)</span><br><span class="line"><span class="comment">#测试类2</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test2</span>(<span class="params">unittest.TestCase</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setUp</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Test2 start&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_d</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test_d&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_a</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test_a&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tearDown</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Test2 end!&quot;</span>)</span><br><span class="line"><span class="comment">#执行整个用例合集——判断顺序</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:  <span class="comment">#  </span></span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure>

<p>得出结论：</p>
<p>​    测试类或测试方法的数字与字母顺序 0~9，A-Z </p>
<h1 id="10-用例综合框架管理"><a href="#10-用例综合框架管理" class="headerlink" title="10.用例综合框架管理"></a>10.用例综合框架管理</h1><p>前面测试用例与执行都是写在一个文件，当用例数量不断增加的时候，用例的执行与管 理变得非常麻烦，因此需要对用例根据具体的功能模块来使用单独的模块来管理。就像一所 </p>
<p>学校要根据不同年级进行分班管理，也是同样道理。</p>
<p><strong><em>案例：Test_Project 文件目录下包含</em>5个 python 文件：</strong></p>
<p>l–StartEnd.py—— SetUp 与 TearDown 管理 </p>
<p>l–calculatory.py——加减法运算方法的实现 </p>
<p>l–test_add.py——加法测试用例 </p>
<p>l–test_sub.py——减法测试用例 </p>
<p>l–runtest.py——用例执行管理</p>
<p>使用 discover 可以一次调用多个脚本 </p>
<p>· test_dir 被测试脚本的路径 </p>
<p>· pattern 脚本名称匹配规则</p>
<h1 id="11-Skip规则"><a href="#11-Skip规则" class="headerlink" title="11.Skip规则"></a><strong>11.Skip规则</strong></h1><h2 id="1-定义："><a href="#1-定义：" class="headerlink" title="1. 定义："></a>1. <strong>定义：</strong></h2><p>测试过程中如果不想执行某个类或者方法，可以采用skip装饰器跳过：</p>
<h2 id="2-分类："><a href="#2-分类：" class="headerlink" title="2. 分类："></a>2. <strong>分类：</strong></h2><p>· unittest.skip() 直接跳过测试</p>
<p>· unittest.skipIf() 条件为真，跳过测试</p>
<p>· unittest.skipUnless 条件为假，跳过测试</p>
<p>· unittest.expectedFailure 预期设置失败</p>
<h2 id="3-案例"><a href="#3-案例" class="headerlink" title="3. 案例"></a>3. <strong>案例</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestCaseSample</span>(<span class="params">unittest.TestCase</span>):</span></span><br><span class="line"><span class="meta">    @unittest.skip(<span class="params"><span class="string">&quot;Don&#x27;t run&quot;</span></span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_skip</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.assertTrue(<span class="string">&quot;Hello, World&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @unittest.skipIf(<span class="params"><span class="number">3</span> &gt; <span class="number">1</span>, <span class="string">&quot;Don&#x27;t run&quot;</span></span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_skip_if</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.assertTrue(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @unittest.skipUnless(<span class="params"><span class="number">3</span> &gt; <span class="number">1</span>, <span class="string">&quot;Don&#x27;t run&quot;</span></span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_skip_unless</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.assertFalse(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @unittest.expectedFailure</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_assert_false</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.assertFalse(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure>

<p>拓展参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/yin-tao/p/7086581.html">https://www.cnblogs.com/yin-tao/p/7086581.html</a></p>
<h2 id="4-unitTest整合selenium案例"><a href="#4-unitTest整合selenium案例" class="headerlink" title="4. unitTest整合selenium案例"></a>4. <strong>unitTest整合selenium案例</strong></h2><p>将账户批量登录到帝国CMS系统的测试用例脚本进行测试</p>
<p>准备代码：</p>
<p>LoginClass_para.py模块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Login</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">user_login</span>(<span class="params">self,driver,username,password</span>):</span></span><br><span class="line">        driver.find_element_by_name(<span class="string">&#x27;username&#x27;</span>).clear()</span><br><span class="line">        driver.find_element_by_name(<span class="string">&#x27;username&#x27;</span>).send_keys(username)</span><br><span class="line"></span><br><span class="line">        driver.find_element_by_name(<span class="string">&#x27;password&#x27;</span>).clear()</span><br><span class="line">        driver.find_element_by_name(<span class="string">&#x27;password&#x27;</span>).send_keys(password)</span><br><span class="line"></span><br><span class="line">        driver.find_element_by_name(<span class="string">&#x27;Submit&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">user_logout</span>(<span class="params">self,driver</span>):</span></span><br><span class="line">        driver.find_element_by_link_text(<span class="string">&#x27;退出&#x27;</span>).click()</span><br><span class="line">        sleep(<span class="number">2</span>)</span><br><span class="line">        driver.switch_to_alert().accept()</span><br></pre></td></tr></table></figure>

<p>测试代码：</p>
<p>Test_Call_LoginPara.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> LoginClass_para <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestBaidu</span>(<span class="params">unittest.TestCase</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setUp</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.driver = webdriver.Firefox()</span><br><span class="line">        self.driver.get(<span class="string">&quot;http://localhost&quot;</span>)</span><br><span class="line">        self.driver.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_login</span>(<span class="params">self</span>):</span></span><br><span class="line">        driver=self.driver</span><br><span class="line">        Login().user_login(driver, <span class="string">&#x27;Test&#x27;</span>, <span class="number">123456</span>)</span><br><span class="line">        sleep(<span class="number">3</span>)</span><br><span class="line">        Login().user_logout(driver)</span><br><span class="line"></span><br><span class="line">        Login().user_login(driver, <span class="string">&#x27;TestPro&#x27;</span>, <span class="number">123456</span>)</span><br><span class="line">        sleep(<span class="number">3</span>)</span><br><span class="line">        Login().user_logout(driver)</span><br><span class="line"></span><br><span class="line">        sleep(<span class="number">3</span>)</span><br><span class="line">        driver.quit()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tearDown</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.driver.quit()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure>

<p>最终执行测试用例：</p>
<p>restart.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line">test_dir=<span class="string">&#x27;./&#x27;</span></span><br><span class="line"></span><br><span class="line">discover=unittest.defaultTestLoader.discover(test_dir,pattern=<span class="string">&quot;Test*.py&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    runer=unittest.TextTestRunner()</span><br><span class="line">    runer.run(discover)</span><br></pre></td></tr></table></figure>

<h1 id="12-测试报告生成"><a href="#12-测试报告生成" class="headerlink" title="12.测试报告生成"></a>12.<strong>测试报告生成</strong></h1><p>自动化测试执行完成之后，我们需要生成测试报告来查看测试结果，使用HTMLTestRunner模块可以直接生成Html格式的报告。</p>
<h2 id="1-下载地址："><a href="#1-下载地址：" class="headerlink" title="1) 下载地址："></a>1) <strong>下载地址：</strong></h2><p><a target="_blank" rel="noopener" href="http://tungwaiyip.info/software/HTMLTestRunner.html">http://tungwaiyip.info/software/HTMLTestRunner.html</a></p>
<h2 id="2-下载后的修改"><a href="#2-下载后的修改" class="headerlink" title="2) 下载后的修改:"></a>2) <strong>下载后的修改:</strong></h2><p>· 94行引入的名称要改，从 import StringIO 改成import io。</p>
<p>· 539行 self.outputBuffer = StringIO.StringIO() 要改成self.outputBuffer=io.StringIO()</p>
<p>· 631行 print &gt;&gt;sys.stderr, ‘\nTime Elapsed: %s’ % (self.stopTime-self.startTime)</p>
<p>修改为：print (sys.stderr, ‘\nTime Elapsed: %s’ %(self.stopTime-self.startTime))</p>
<p>· 642行，if not rmap.has_key(cls): 需要换成 if not cls in rmap:</p>
<p>· 766行的uo = o.decode(‘latin-1’)，改成 uo=o</p>
<p>· 772行，把 ue = e.decode(‘latin-1’) 直接改成 ue = e</p>
<h2 id="3-存放路径"><a href="#3-存放路径" class="headerlink" title="3) 存放路径"></a>3) <strong>存放路径</strong></h2><p>将修改完成的模块存放在Python路径下Lib目录里面即可</p>
<h2 id="4-案例代码："><a href="#4-案例代码：" class="headerlink" title="4) 案例代码："></a>4) <strong>案例代码：</strong></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">from</span> HTMLTestRunner <span class="keyword">import</span> HTMLTestRunner</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">test_dir=<span class="string">&#x27;./Test_case&#x27;</span></span><br><span class="line">discovery=unittest.defaultTestLoader.discover(test_dir,pattern=<span class="string">&quot;Test*.py&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    report_dir=<span class="string">&#x27;./test_report&#x27;</span></span><br><span class="line">    now=time.strftime(<span class="string">&quot;%Y-%m-%d %H_%M_%S&quot;</span>)</span><br><span class="line">    report_name=report_dir+<span class="string">&#x27;/&#x27;</span>+now+<span class="string">&#x27;result.html&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(report_name,<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        runner=HTMLTestRunner(stream=f,title=<span class="string">&quot;Test Report&quot;</span>,description=<span class="string">&quot;test CMS &quot;</span>)</span><br><span class="line">        runner.run(discovery)</span><br><span class="line">    f.close()</span><br></pre></td></tr></table></figure>

<h1 id="13-测试报告美化"><a href="#13-测试报告美化" class="headerlink" title="13.测试报告美化"></a><strong>13.测试报告美化</strong></h1><p>下载地址： <a target="_blank" rel="noopener" href="https://github.com/easonhan007/HTMLTestRunner">https://github.com/easonhan007/HTMLTestRunner</a></p>
<h4 id="注意："><a href="#注意：" class="headerlink" title="注意："></a><em><strong>注意：</strong></em></h4><p>下载后也需要和前面的内容一样进行修改，然后放置在Python安装路径的Lib文件夹里</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">from</span> BSTestRunner <span class="keyword">import</span> BSTestRunner</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">test_dir=<span class="string">&#x27;./Test_case&#x27;</span></span><br><span class="line">discover=unittest.defaultTestLoader.discover(test_dir,pattern=<span class="string">&quot;Test*.py&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    report_dir=<span class="string">&#x27;./test_report&#x27;</span></span><br><span class="line">    now=time.strftime(<span class="string">&quot;%Y-%m-%d %H_%M_%S&quot;</span>)</span><br><span class="line">    report_name=report_dir+<span class="string">&#x27;/&#x27;</span>+now+<span class="string">&#x27;result.html&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(report_name,<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        runner=BSTestRunner(stream=f,title=<span class="string">&quot;Test Report&quot;</span>,description=<span class="string">&quot;Test search&quot;</span>)</span><br><span class="line">        runner.run(discover)</span><br><span class="line">    f.close()</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/07/python%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" data-id="ckt9wbqr200009gty70nj25qh" data-title="python单元测试" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-web自动化测试" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/07/web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" class="article-date">
  <time class="dt-published" datetime="2021-09-07T08:00:49.000Z" itemprop="datePublished">2021-09-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/07/web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/">web自动化测试</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1-selenium-IDE"><a href="#1-selenium-IDE" class="headerlink" title="1.selenium IDE"></a><strong>1.selenium IDE</strong></h1><h2 id="1-Selenium-IDE-的介绍"><a href="#1-Selenium-IDE-的介绍" class="headerlink" title="1.Selenium IDE 的介绍"></a><strong>1.Selenium IDE</strong> <strong>的介绍</strong></h2><p>​    Selenium IDE(集成开发环境)是 Selenium Suite 下的开源 Web 自动化测试 </p>
<p>工具。 与 Selenium WebDriver 和 RC 不同，它不需要任何编程逻辑来编写其测 </p>
<p>试脚本，而只需记录与浏览器的交互以创建测试用例。 之后，可以使用播放选 </p>
<p>项重新运行测试用例。 </p>
<p>​    也许，在 Selenium IDE 上创建测试用例不需要任何编程语言，但是当使用 </p>
<p>像 runScript 这样选择命令时，JavaScript 一些知识对更清楚地理解这些概念 </p>
<p>是有益的。</p>
<h2 id="2-Selenium-IDE-的安装"><a href="#2-Selenium-IDE-的安装" class="headerlink" title="2.Selenium IDE 的安装"></a><strong>2.Selenium IDE</strong> <strong>的安装</strong></h2><p>推荐 Selenium IDE 用 Firefox(火狐浏览器)插件来安装，假设您已在系统中安 </p>
<p>装了 Mozilla Firefox 浏览器。如果尚未安装，那么可以通过以下链接提供的官方 </p>
<p>网站下载最新版本的 Firefox。 </p>
<p>Firefox 浏览器下载 =&gt; <a target="_blank" rel="noopener" href="https://www.mozilla.org/en-US/firefox/new/">https://www.mozilla.org/en-US/firefox/new/</a></p>
<p><strong>Selenium IDE 下载并安装</strong> </p>
<p>启动 Mozilla Firefox 浏览器。 </p>
<p>打开 URL =&gt; <a target="_blank" rel="noopener" href="https://addons.mozilla.org/en-us/firefox/addon/selenium-ide/">https://addons.mozilla.org/en-us/firefox/addon/selenium-ide/</a> ， 它会将重定 </p>
<p>向到 Firefox 的官方附加页面。 </p>
<p>点击 <strong>Add to Firefox</strong> 按钮。 </p>
<p>将出现一个弹出对话框，要求将 Selenium IDE 添加为 Firefox 浏览器的扩展名。 </p>
<p>点击 <strong>Add</strong> 按钮。 </p>
<p>重新启动 Firefox 浏览器。 </p>
<p>转到 Firefox 浏览器的右上角，查找 Selenium IDE 图标。</p>
<p>单击该图标以启动 Selenium IDE。</p>
<h2 id="3-Selenium-IDE-功能特性【重点】"><a href="#3-Selenium-IDE-功能特性【重点】" class="headerlink" title="3.Selenium IDE 功能特性【重点】"></a><strong>3.Selenium IDE</strong> <strong>功能特性【重点】</strong></h2><p>Selenium IDE 分为不同的组件，每个组件都有自己的特性和功能。这里对 Selenium </p>
<p>IDE 的七个不同组件进行了分类，其中包括: </p>
<ul>
<li>菜单栏 </li>
<li>工具栏 </li>
<li>地址栏 </li>
<li>测试案例窗格 </li>
<li>测试脚本编辑器框</li>
<li>开始/停止录制按钮 </li>
<li>日志，引用窗格</li>
</ul>
<p><strong>1. 菜单栏</strong> </p>
<p>菜单栏位于 Selenium IDE 界面的最顶部。 最常用的菜单栏模块包括: </p>
<p>​    <strong>项目名</strong> - </p>
<p>​    它用于重命名整个项目。 </p>
<p>​    <strong>打开项目</strong> </p>
<p>​    它用于从个人驱动器加载任何现有项目。 </p>
<p>​    <strong>保存项目</strong> </p>
<p>​    它用于保存当前正在处理的整个项目。 </p>
<p><strong>2. 工具栏</strong> </p>
<p>​    工具栏包含用于控制测试用例执行的模块。 此外，它还为提供了调试测试用例 </p>
<p>​    的步骤功能。 </p>
<p>​    <strong>Tool Bar</strong> 菜单中最常用的模块包括: </p>
<p>​    <strong>速度控制选项</strong> </p>
<p>​    它用于控制测试用例的执行速度。</p>
<p>​    <strong>步骤功能</strong> </p>
<p>​    它用于进入步骤，通过测试用例一次运行一个命令。用于调试测试 </p>
<p>​    用例。</p>
<p>​    <strong>运行测试</strong> </p>
<p>​    它用于运行当前选定的测试。 只加载一个测试，运行测试， 按钮 </p>
<p>​    和运行全部，按钮具有相同的效果。</p>
<p>​    <strong>全部运行</strong></p>
<p>​    它用于在加载具有多个测试用例的测试套件时运行整个测试套件。</p>
<p><strong>3. 地址栏</strong> </p>
<p>​    此模块提供了一个下拉菜单，可以记住基本 URL 的所有先前值。 简单来说，基 </p>
<p>​    本 URL 地址栏会记住以前访问过的网站，以便以后导航变得容易。</p>
<p><strong>4. 测试用例窗格</strong> </p>
<p>​    此模块包含 IDE 记录的所有测试用例。 简单来说，它在测试用例窗格下同时提 </p>
<p>​    供所有记录的测试用例的列表，以便用户可以轻松地在测试用例之间进行混洗。</p>
<p>​    在测试用例窗格的底部，可以看到测试执行结果摘要，其中包括各种测试 </p>
<p>​    用例的通过/失败状态。 </p>
<p>​    测试用例窗格还包括导航面板等功能，允许用户在测试用例和测试套件之间 </p>
<p>​    导航。 </p>
<p><strong>5.测试脚本编辑器框</strong></p>
<p>​    “测试脚本编辑器框”显示 IDE 记录的所有测试脚本和用户交互。 每个用户交互 </p>
<p>​    的显示顺序与执行顺序相同。 “编辑器”框分为三列:命令，目标和值。</p>
<p><strong>6. 开始/停止录制按钮</strong> </p>
<p>​    “记录”按钮记录浏览器的所有用户操作。</p>
<p><strong>7. 日志，引用窗格</strong> </p>
<p>​    日志窗格在执行期间显示运行时消息。 它提供 IDE 执行的操作的实时更新。 它 </p>
<p>​    可以分为四种类型：信息，错误，调试和警告。 </p>
<p>​    引用窗格在编辑器中显示当前所选 selenese 命令的完整详细信息</p>
<h2 id="4-Selenium-IDE-第一个测试用例"><a href="#4-Selenium-IDE-第一个测试用例" class="headerlink" title="4.Selenium IDE 第一个测试用例"></a><strong>4.Selenium IDE</strong> <strong>第一个测试用例</strong></h2><p>Selenium IDE 中的整个测试脚本创建过程可分为三个步骤: </p>
<ul>
<li><p>录制(记录用户与浏览器的交互) </p>
</li>
<li><p>播放(执行录制的脚本) </p>
</li>
<li><p>保存测试套件</p>
<h2 id="5-Selenium-IDE命令（Selenese）"><a href="#5-Selenium-IDE命令（Selenese）" class="headerlink" title="5.Selenium IDE命令（Selenese）"></a>5.Selenium IDE命令（Selenese）</h2></li>
</ul>
<p>Selenium 命令，也称为<strong>Selenese</strong> 是运行测试的 Selenium IDE 中使用 </p>
<p>的命令集。 使用 selenese，可以执行以下操作: </p>
<ul>
<li><p>根据 HTML 标记测试 UI 元素的存在。 </p>
</li>
<li><p>测试特定内容。 </p>
</li>
<li><p>测试断开的链接。 </p>
</li>
<li><p>测试输入字段，选择列表选项，提交表单和表格数据等。 </p>
</li>
<li><p>测试窗口大小，鼠标选项，警报，Ajax 功能，弹出窗口，事件 </p>
<p>处理和许多其他 Web 应用程序功能。 </p>
</li>
</ul>
<p>一系列 Selenium 命令(Selenese)一起称为测试脚本。</p>
<p>Selenium 命令基本上分为三类:</p>
<ul>
<li>操作 </li>
<li>访问器 </li>
<li>断言 </li>
</ul>
<p><strong>1.</strong> <strong>操作</strong> </p>
<p>操作(动作)是通常操纵应用程序状态的 selenium 命令。 执行操作会生成诸如单 </p>
<p>击此链接，选择该选项，键入此框等事件。如果操作失败或有错误，则停止执行 </p>
<p>当前测试。 </p>
<p>一些最常用的操作命令包括</p>
<table>
<thead>
<tr>
<th align="center">命令（语法）</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">open (url)</td>
<td align="center">它在指定的浏览器中启动所需的 URL，并接受相对和绝对 URL。</td>
</tr>
<tr>
<td align="center">type (locator,value)</td>
<td align="center">它设置输入字段的值，类似于用户输入操作。</td>
</tr>
<tr>
<td align="center">typeKeys (locator,value)</td>
<td align="center">此命令模拟指定元素上的击键事件。</td>
</tr>
<tr>
<td align="center">click (locator)</td>
<td align="center">此命令可以单击链接，按钮，复选框或单选按钮。</td>
</tr>
<tr>
<td align="center">clickAt (locator,coordString)</td>
<td align="center">此命令可在定位器和坐标的帮助下启用元素的单击</td>
</tr>
<tr>
<td align="center">doubleClick (locator)</td>
<td align="center">此命令允许基于指定的元素双击 web 元素。</td>
</tr>
<tr>
<td align="center">focus (locator)</td>
<td align="center">它将焦点移动到指定的元素</td>
</tr>
<tr>
<td align="center">highlight (locator)</td>
<td align="center">它将指定元素的背景颜色更改为黄色以突出显示，这对于调试目的很有用。</td>
</tr>
<tr>
<td align="center">close()</td>
<td align="center">此命令模拟用户单击弹出窗口或选项卡标题栏中的“关闭”按钮。</td>
</tr>
<tr>
<td align="center">store(expression,variableName)</td>
<td align="center">此命令指定要在其中存储结果的变量的名称，expression 是要存储的值。</td>
</tr>
<tr>
<td align="center">waitForCondition(script,timeout)</td>
<td align="center">此命令重复执行指定的 JavaScript 代码段，直到它的计算结果为 - true。</td>
</tr>
</tbody></table>
<p><strong>2.</strong> <strong>访问器</strong> </p>
<p>访问器是 selenium 命令，用于检查应用程序的状态并将结果存储在变量中。 它 </p>
<p>们还用于自动生成断言。 </p>
<p>一些最常用的访问器(Accessors)命令包括: </p>
<table>
<thead>
<tr>
<th align="center"><strong>命令(语法)</strong></th>
<th align="center"><strong>描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">storeTitle (variableName)</td>
<td align="center">此命令获取当前页面的标题。</td>
</tr>
<tr>
<td align="center">storeText (locator, variableName)</td>
<td align="center">此命令获取元素的文本。</td>
</tr>
<tr>
<td align="center">storeValue (locator,variableName)</td>
<td align="center">此命令获取输入字段的(空白修剪)值。</td>
</tr>
<tr>
<td align="center">storeTable(tableCellAddress,variableName)</td>
<td align="center">此命令从表的单元格中获取文本。</td>
</tr>
<tr>
<td align="center">storeLocation (variableName)</td>
<td align="center">此命令获取当前页面的绝对 URL。</td>
</tr>
<tr>
<td align="center">storeElementIndex (locator, ariableName)</td>
<td align="center">此命令获取元素与其父元素的相对索引(从 0 开始)。</td>
</tr>
<tr>
<td align="center">storeBodyText (variableName)</td>
<td align="center">此命令获取页面的整个文本。</td>
</tr>
<tr>
<td align="center">storeAllButtons (variableName)</td>
<td align="center">它返回页面上所有按钮的 ID。</td>
</tr>
<tr>
<td align="center">storeAllFields (variableName)</td>
<td align="center">它返回页面上所有输入字段的 ID。</td>
</tr>
<tr>
<td align="center">storeAllLinks (variableName)</td>
<td align="center">它返回页面上所有链接的 ID。</td>
</tr>
</tbody></table>
<p><strong>3.</strong> <strong>断言</strong> </p>
<p>断言是使测试人员能够验证应用程序状态的命令。断言通常用于断言，验证和等待三种模式。 </p>
<p>一些最常用的断言命令是： </p>
<table>
<thead>
<tr>
<th align="center"><strong>命令/语法</strong></th>
<th align="center"><strong>描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">verifySelected(selectLocator,optionLocator)</td>
<td align="center">此命令验证下拉列表的选定选项是否满足 optionSpecifier。</td>
</tr>
<tr>
<td align="center">verifyAlert(pattern)</td>
<td align="center">此命令验证警报文本; 与accessorstoreAlert 一起使用。</td>
</tr>
<tr>
<td align="center">verifyAllButtons (pattern)</td>
<td align="center">此命令验证使用withaccessorstoreAllButtons 的按钮。</td>
</tr>
<tr>
<td align="center">verifyAllLinks(pattern)</td>
<td align="center">此命令验证所有链接; 与accessorstoreAllLinks 一起使用。</td>
</tr>
<tr>
<td align="center">verifyBodyText(pattern)</td>
<td align="center">此命令验证正文; 与accessorstoreBodyText 一起使用。</td>
</tr>
<tr>
<td align="center">verifyAttribute(attributeLocator, pattern)</td>
<td align="center">此命令验证元素的属性; 与accessorstoreAttribute 一起使用。</td>
</tr>
<tr>
<td align="center">waitForErrorOnNext (message)</td>
<td align="center">此命令启用等待错误; 与accessorassertErrorOnNext 一起使用</td>
</tr>
<tr>
<td align="center">waitForAlert (pattern)</td>
<td align="center">此命令启用等待警报; 与accessorstoreAlert 一起使用。</td>
</tr>
<tr>
<td align="center">verifyAllWindowIds (pattern)</td>
<td align="center">此命令验证窗口 ID; 与accessorstoreAllWindowIds 一起使用。</td>
</tr>
</tbody></table>
<h2 id="5-Selenium-IDE-手动创建测试用例"><a href="#5-Selenium-IDE-手动创建测试用例" class="headerlink" title="5.Selenium IDE 手动创建测试用例"></a><strong>5.Selenium IDE</strong> <strong>手动创建测试用例</strong></h2><p>要手动创建测试用例，首先必须完成在上面最常用的 selenium 命令。 现在，将在搜索引擎上操作创建第一个测试用例。在 Google 搜索引擎上搜索一些关键字。 </p>
<p><strong>1. 插入命令</strong> </p>
<ul>
<li>启动 Firefox 浏览器。 </li>
<li>单击浏览器右上角的 Selenium 图标。 </li>
<li>它将启动 Selenium IDE 的默认界面。 </li>
<li>输入项目名称为“手动测试”。 </li>
<li>输入测试用例名称为：搜索测试 。 </li>
<li>单击“测试脚本编辑器”框中的命令文本框。 </li>
<li>将第一个命令的属性修改为： </li>
<li>命令(Command)：open </li>
<li>目标(Target)：<a target="_blank" rel="noopener" href="https://www.baidu.com/">https://www.baidu.com</a> </li>
<li>在执行测试用例期间，此命令将在 Firefox 浏览器上加载百度搜索引擎首页。</li>
</ul>
<p>现在，添加一个命令，单击百度搜索引擎文本框。 需要文本框的唯一标识元素，这将帮助 IDE 识别目标位置。 </p>
<p>用于查找唯一标识元素的方法涉及检查 HTML 代码。 </p>
<ul>
<li>在 Firefox 浏览器打开网址：<a target="_blank" rel="noopener" href="https://www.baidu.com/">https://www.baidu.com</a> 。 </li>
<li>右键单击搜索文本框，然后选择 <em>Inspect Element</em> 。</li>
</ul>
<p><strong>IDE -</strong> <strong>手动创建测试用例</strong> </p>
<p>​                    它将启动一个窗口，其中包含测试盒开发中涉及的所有特定代码。 </p>
<p>选择包含文本框 ID 名称的 <em>input</em> 标记元素。 </p>
<ul>
<li>open </li>
</ul>
<p>将第二个命令的属性修改为： </p>
<ul>
<li><p>命令：click at </p>
</li>
<li><p>目标：id=kw </p>
</li>
<li><p>在执行测试用例期间，此命令将单击百度搜索引擎网页上的搜索文本框。 </p>
<p>注意：Value 对于大多数命令，“测试脚本编辑器”框的一部分是可选的。 </p>
</li>
</ul>
<p>第三个命令使用相同的标识 ID。 第三个命令将在百度搜索文本框中键入指定的文本。</p>
<ul>
<li>将第三个命令的属性修改为： </li>
<li>命令：type </li>
<li>目标：id=kw </li>
<li>值：犀利哥 </li>
</ul>
<p>在执行测试用例期间，此命令将在百度搜索文本框中键入指定的文本。 </p>
<p>接下来，添加一个命令，该命令将在网页上生成按钮的单击事件。 要生成此事件，需要搜索提交按钮的唯一标识元素。 </p>
<p>右键单击”百度一下”搜索按钮，然后选择 <em>Inspect Element</em> 。</p>
<p>它将启动一个窗口，其中包含搜索按钮所涉及的所有特定代码。 </p>
<p>选择包含百度搜索按钮的指定名称的 id 元素。 </p>
<p>将第四个命令的属性修改为： </p>
<p>命令：click at </p>
<p>目标：id=su </p>
<p>在执行测试用例期间，此命令将单击百度搜索引擎网页上的搜索按钮。 </p>
<p>接下来，准备执行第一个测试脚本。 </p>
<p><strong>2. 执行测试脚本</strong> </p>
<p>点击 IDE 的工具栏菜单上的按钮“运行当前测试”。 它将在浏览器上执行所有插入的命令，并提供已执行测试脚本的总体摘要。 </p>
<p>“日志”窗格显示已执行测试脚本的总体摘要。</p>
<h1 id="2-Webdriver-的概述、环境搭建"><a href="#2-Webdriver-的概述、环境搭建" class="headerlink" title="**2.**Webdriver 的概述、环境搭建"></a>**2.**Webdriver <strong>的概述、环境搭建</strong></h1><p>​    ebdriver (Selenium2）是一种用于 Web 应用程序的自动测试工具，它提供了一套友 好的 API，与 Selenium 1（Selenium-RC）相比，Webdriver 的 API 更容易理解和使用，其可读性和可维护性也大大提高。Webdriver 完全就是一套类库，不依赖于任何测试框架，除了必要的浏览器驱动，不需要启动其他进程或安装其他程序，也不必像 Selenium 1 那样需要先启动服务。 </p>
<h2 id="1-环境的搭建"><a href="#1-环境的搭建" class="headerlink" title="1.环境的搭建"></a>1.环境的搭建</h2><p>前提要求： </p>
<ol>
<li><p>安装好 python 解释器 </p>
</li>
<li><p>安装好 pycharm 软件</p>
</li>
</ol>
<p>实现步骤： </p>
<ol>
<li><p>下载好 geckodriver 驱动 </p>
</li>
<li><p>下载地址：<a target="_blank" rel="noopener" href="https://github.com/mozilla/geckodriver/releases">https://github.com/mozilla/geckodriver/releases</a> </p>
</li>
<li><p>然后解压，把文件放到 python 解释器的安装目录 </p>
</li>
<li><p>Pycharm 里面导入 selenium 模块</p>
</li>
</ol>
<h2 id="2-第一个自动化测试的脚本"><a href="#2-第一个自动化测试的脚本" class="headerlink" title="2.第一个自动化测试的脚本"></a><strong>2.第一个自动化测试的脚本</strong></h2><p>​    注意，本文中的脚本案例，可能会随着目标网页的内容改版而失效，请仔细浏览思路。 </p>
<p><strong>(1)</strong> <strong>实现案例：</strong> </p>
<ul>
<li>启动火狐浏览器， </li>
<li>首先打开网易首页，打印网页标题，等待 3 秒 </li>
<li>打开百度首页，打印网页标题，再等待 2 秒 </li>
<li>关闭浏览器。 </li>
</ul>
<p><strong>(2)</strong> <strong>实现代码</strong> </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep </span><br><span class="line"></span><br><span class="line"><span class="comment">#加载浏览器驱动 </span></span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox() </span><br><span class="line"></span><br><span class="line"><span class="comment">#打开网易首页 </span></span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://www.163.com&quot;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#打印标题 </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(driver.title) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">3</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#打开百度首页 </span></span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://www.baidu.com&quot;</span>) </span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(driver.title) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">3</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#关闭浏览器 </span></span><br><span class="line"></span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>

<h2 id="3-浏览器操作的方法"><a href="#3-浏览器操作的方法" class="headerlink" title="3.浏览器操作的方法"></a><strong>3.浏览器操作的方法</strong></h2><p><strong>1.</strong> <strong>浏览器的操作方法：</strong> </p>
<p>​    1 浏览器窗口大小设置：set_window_size(宽,高) </p>
<p>​    2 页面前进、后退：back()、forward() </p>
<p>​    3 页面刷新：refresh() </p>
<p><strong>2.</strong> <strong>案例：访问京东页面和京东男装页面</strong> </p>
<ol>
<li><p>打开京东，等 2 秒 </p>
</li>
<li><p>打开京东男装，设置窗口为(400,800) </p>
</li>
<li><p>刷新一下页面，等 2 秒 </p>
</li>
<li><p>后退，等 2 秒 </p>
</li>
<li><p>前进，等 2 秒 </p>
</li>
<li><p>关闭窗口 </p>
</li>
</ol>
<p><strong>3. 实现代码：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep </span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox() </span><br><span class="line"></span><br><span class="line"><span class="comment">#打开京东 </span></span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;https://www.jd.com&quot;</span>) </span><br><span class="line"></span><br><span class="line">driver.maximize_window() </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#打开京东男装 </span></span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;https://channel.jd.com/1315-1342.html&quot;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#设置页面的窗体大小 </span></span><br><span class="line"></span><br><span class="line">driver.set_window_size(<span class="number">400</span>,<span class="number">800</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#刷新一下页面 </span></span><br><span class="line"></span><br><span class="line">driver.refresh() </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#后退 </span></span><br><span class="line"></span><br><span class="line">driver.back() </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#前进 </span></span><br><span class="line"></span><br><span class="line">driver.forward() </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>

<h1 id="3-元素的定位"><a href="#3-元素的定位" class="headerlink" title="3.元素的定位"></a>3.元素的定位</h1><h3 id="1-通过-id-选择器、name-值去定位元素"><a href="#1-通过-id-选择器、name-值去定位元素" class="headerlink" title="(1) 通过 id 选择器、name 值去定位元素"></a><strong>(1)</strong> <strong>通过</strong> <strong>id</strong> <strong>选择器、</strong>name <strong>值去定位元素</strong></h3><ol>
<li><p>打开网页 </p>
</li>
<li><p>右击检查元素或者 F12 可以看到 id 与 name </p>
</li>
</ol>
<p><strong>案例：打开百度，输入”码云”，点击搜素按钮</strong> </p>
<p>1 打开百度网址 </p>
<p>2 定位到输入框，输入“码云” </p>
<p>3 定位到搜素按钮，点击一下 </p>
<p>4 打开搜素页面 </p>
<p><strong>实现代码：</strong> </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep </span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox() </span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://www.baidu.com&quot;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#百度输入框的 id 名 kw </span></span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;kw&quot;</span>).send_keys(<span class="string">&quot;码云&quot;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#百度输入框的 name 属性值 kw </span></span><br><span class="line"></span><br><span class="line"><span class="comment">#driver.find_element_by_name(&quot;wd&quot;).send_keys(&quot;码云&quot;) </span></span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#百度的搜素按钮的 id 名为 su </span></span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;su&quot;</span>).click() </span><br></pre></td></tr></table></figure>

<p>可以看出：.send_keys(“值”)表示在输入框输入的值</p>
<h3 id="2-通过通过标签名-tag-name-来定位"><a href="#2-通过通过标签名-tag-name-来定位" class="headerlink" title="(2) 通过通过标签名(tag_name)来定位"></a><strong>(2)</strong> <strong>通过通过标签名</strong>(tag_name)来定位</h3><p>页面 html 文档下的各种标签： </p>
<p>​        find_element_by_tag_name(“input”)； </p>
<p>​    tag 往往用来定义一类功能，所以通过 tag 识别某个元素的概率 </p>
<p>很低。任意打开一个页面，都会发现大量的&lt;div&gt;、&lt;input&gt;、&lt;a&gt;等 </p>
<p>tag，所以 tag name 定位很少用</p>
<h3 id="3-通过-class-name-来定位"><a href="#3-通过-class-name-来定位" class="headerlink" title="(3) 通过 class_name 来定位"></a><strong>(3)</strong> <strong>通过</strong> <strong>class_name</strong> <strong>来定位</strong></h3><p>​    根据标签中属性 class 来进行定位的一种方法</p>
<p><strong>案例：</strong></p>
<p>1 打开百度</p>
<p>2 通过类名定位输入框，搜素“龟叔” </p>
<p>3 然后点击搜素，弹出搜素页面 </p>
<p><strong>实现代码：</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep </span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox() </span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://www.baidu.com&quot;</span>) </span><br><span class="line"></span><br><span class="line">\<span class="comment">#百度输入框在类名 s_ipt 中 </span></span><br><span class="line"></span><br><span class="line">driver.find_element_by_class_name(<span class="string">&quot;s_ipt&quot;</span>).send_keys(<span class="string">&quot;龟叔&quot;</span>) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;su&quot;</span>).click() </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">5</span>) </span><br><span class="line"></span><br><span class="line">driver.quit() </span><br></pre></td></tr></table></figure>

<h3 id="4-通过-link-Text-定位：专门用来定位文本链接"><a href="#4-通过-link-Text-定位：专门用来定位文本链接" class="headerlink" title="(4) 通过 link_Text 定位：专门用来定位文本链接."></a><strong>(4)</strong> <strong>通过</strong> <strong>link_Text</strong> <strong>定位：专门用来定位文本链接</strong>.</h3><p>对象名.find_element_by_link_name(“text”)； </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#页面右上方的一些个人操作，比如退出、个人中心、消息通知等 </span></span><br><span class="line"></span><br><span class="line">driver.find_element_by_link_text(<span class="string">u&quot;退出&quot;</span>).click()</span><br></pre></td></tr></table></figure>

<h3 id="5-XPath-定位：（了解）"><a href="#5-XPath-定位：（了解）" class="headerlink" title="(5) XPath 定位：（了解）"></a><strong>(5) XPath</strong> <strong>定位：（了解）</strong></h3><p>对象名.find_element_by_xpath(“xpath 路径”)；</p>
<p><strong>1</strong>）绝对路径定位：</p>
<p>​    对于没有 id，name、classname 不好定位的，可以通过Firefox 可以方便的获取到 xpath 值 </p>
<p><strong>2</strong>） 利用元素属性定位：</p>
<p>​    find_element_by_xpath(“.//*[@id=’Title’]”)，这里是用的id，也可以用元素其他能够唯一标识的属性，不局限于 id、name、class 这些；*代表的是标签名，不指定时就可以用*代替</p>
<p>案例代码： </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 登录 </span></span><br><span class="line"></span><br><span class="line">driver.find_element_by_xpath(<span class="string">&quot;.//*[@id=&#x27;divword&#x27;]/input[7]&quot;</span>).click() </span><br><span class="line"></span><br><span class="line"><span class="comment">#个人页面的发布课程操作 </span></span><br><span class="line"></span><br><span class="line">driver.find_element_by_xpath(<span class="string">&quot;html/body/div[4]/div/div[2]/div/div[3]/a[1]&quot;</span>).click() </span><br></pre></td></tr></table></figure>

<h3 id="6-CSS-常用定位方法"><a href="#6-CSS-常用定位方法" class="headerlink" title="(6) CSS 常用定位方法"></a><strong>(6) CSS</strong> <strong>常用定位方法</strong></h3><ol>
<li><p>find_element_by_css_selector（） </p>
</li>
<li><p>#id id 选择器根据 id 属性来定位元素 </p>
</li>
<li><p>.class class 选择器，根据 class 属性值来定位元素 </p>
</li>
<li><p>[attribute=’value’] 根据属性来定位元素 </p>
</li>
<li><p>element&gt;element 根据元素层级来定位 父元素&gt;子元素 </p>
</li>
</ol>
<p>案例代码： </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">from selenium import webdriver </span><br><span class="line"></span><br><span class="line">from time import sleep </span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox() </span><br><span class="line"></span><br><span class="line">driver.get(&quot;http://www.baidu.com&quot;) </span><br><span class="line"></span><br><span class="line">#根据 id 来定位 </span><br><span class="line"></span><br><span class="line">driver.find_element_by_css_selector(&#x27;#kw&#x27;).send_keys(&quot;今日头条&quot;) </span><br><span class="line"></span><br><span class="line">#根据 class 定位 </span><br><span class="line"></span><br><span class="line">driver.find_element_by_css_selector(&#x27;.s_ipt&#x27;).send_keys(&#x27;python&#x27;) </span><br><span class="line"></span><br><span class="line">#通过属性来定位 </span><br><span class="line"></span><br><span class="line">driver.find_element_by_css_selector(&quot;[autocomplete=&#x27;off&#x27;]&quot;).send_keys(&quot;selenium&quot;) </span><br><span class="line"></span><br><span class="line">sleep(2) </span><br><span class="line"></span><br><span class="line">driver.find_element_by_id(&#x27;su&#x27;).click() </span><br><span class="line"></span><br><span class="line">driver.get(&quot;http://www.toutiao.com&quot;) </span><br><span class="line"></span><br><span class="line">#通过元素层级来定位 </span><br><span class="line"></span><br><span class="line">driver.find_element_by_css_selector(&quot;form#loginForm&gt;ul&gt;input&quot;).send_keys(&quot;今日头条&quot;)</span><br><span class="line"></span><br><span class="line">sleep(2) </span><br><span class="line"></span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>

<h3 id="7-下拉菜单定位"><a href="#7-下拉菜单定位" class="headerlink" title="(7) 下拉菜单定位"></a><strong>(7)</strong> <strong>下拉菜单定位</strong></h3><p>下拉菜单元素定位 </p>
<p>案例：在今日头条登录页面选择指定的保留时间。 </p>
<p>​    下面的案例可能会随着网页的内容改版，会失效，请参考思路。 </p>
<p>**1.**根据选项元素标签定位 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> Select </span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox() </span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://www.toutiao.com&quot;</span>) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#根据 option 标签来定位 </span></span><br><span class="line"></span><br><span class="line">driver.find_elements_by_tag_name(<span class="string">&#x27;option&#x27;</span>)[<span class="number">1</span>].click() </span><br><span class="line"></span><br><span class="line">driver.find_element_by_css_selector(<span class="string">&quot;[value=&#x27;2&#x27;]&quot;</span>).click() </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line">driver.quit() </span><br></pre></td></tr></table></figure>

<p>**2.**<strong>使用</strong> <strong>Select</strong> <strong>类定位</strong> </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> Select </span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox() </span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://www.toutiao.com&quot;</span>) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#利用 Select 类来进行定位 </span></span><br><span class="line"></span><br><span class="line">select = Select(driver.find_element_by_css_selector(<span class="string">&quot;[name=&#x27;CookieDate&#x27;]&quot;</span>))</span><br><span class="line"></span><br><span class="line">select.select_by_index(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line">select.select_by_visible_text(<span class="string">&quot;留一年&quot;</span>) </span><br><span class="line"></span><br><span class="line">select.select_by_value(<span class="string">&quot;1&quot;</span>) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>

<h1 id="4-鼠标键盘的操作"><a href="#4-鼠标键盘的操作" class="headerlink" title="4.鼠标键盘的操作"></a><strong>4.鼠标键盘的操作</strong></h1><p><strong>1.</strong> <strong>实现思路</strong> </p>
<ul>
<li>需要引入 ActionChains 类 </li>
<li>然后定位相关元素 </li>
<li>在 ActionChains().调用相关鼠标操作方法 </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.action_chains <span class="keyword">import</span> ActionChains </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep </span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox() </span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://www.baidu.com&quot;</span>) </span><br><span class="line"></span><br><span class="line">driver.maximize_window() </span><br><span class="line"></span><br><span class="line">driver.find_element_by_css_selector(<span class="string">&quot;#kw&quot;</span>).send_keys(<span class="string">&quot;Python&quot;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取搜索框元素对象</span></span><br><span class="line"></span><br><span class="line">element=driver.find_element_by_css_selector(<span class="string">&quot;#kw&quot;</span>) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">3</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#双击操作</span></span><br><span class="line"></span><br><span class="line">ActionChains(driver).double_click(element).perform() </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#右击操作</span></span><br><span class="line"></span><br><span class="line">ActionChains(driver).context_click(element).perform() </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#鼠标悬停</span></span><br><span class="line"></span><br><span class="line">above=driver.find_element_by_css_selector(<span class="string">&quot;.pf&quot;</span>) </span><br><span class="line"></span><br><span class="line">ActionChains(driver).move_to_element(above).perform() </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">4</span>) </span><br><span class="line"></span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>

<p><strong>2.</strong> <strong>键盘操作</strong> </p>
<p>案例： 在百度搜索关键词“Python” 然后将关键词复制或剪切到搜狗搜索框进行搜索 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.keys <span class="keyword">import</span> Keys </span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep </span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox() </span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://www.baidu.com&quot;</span>) </span><br><span class="line"></span><br><span class="line">driver.find_element_by_css_selector(<span class="string">&quot;#kw&quot;</span>).send_keys(<span class="string">&quot;Python&quot;</span>) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#键盘全选操作 Ctrl+A</span></span><br><span class="line"></span><br><span class="line">driver.find_element_by_css_selector(<span class="string">&quot;#kw&quot;</span>).send_keys(Keys.CONTROL,<span class="string">&#x27;a&#x27;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#键盘选择复制或剪切操作 Ctrl+C</span></span><br><span class="line"></span><br><span class="line">driver.find_element_by_css_selector(<span class="string">&quot;#kw&quot;</span>).send_keys(Keys.CONTROL,<span class="string">&#x27;c&#x27;</span>) </span><br><span class="line"></span><br><span class="line">driver.find_element_by_css_selector(<span class="string">&quot;#kw&quot;</span>).send_keys(Keys.CONTROL,<span class="string">&#x27;x&#x27;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#打开搜狗页面</span></span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://www.sogou.com/&quot;</span>) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#粘贴复制内容</span></span><br><span class="line"></span><br><span class="line">driver.find_element_by_css_selector(<span class="string">&quot;.sec-input&quot;</span>).send_keys(Keys.CONTROL,<span class="string">&#x27;v&#x27;</span>) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#点击搜索按钮 </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># driver.find_element_by_xpath(&quot;//input[@id=&#x27;stb&#x27;]&quot;).click()* </span></span><br><span class="line"></span><br><span class="line">driver.find_element_by_css_selector(<span class="string">&quot;#stb&quot;</span>).click() </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">3</span>) </span><br><span class="line"></span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>

<p><strong>3.</strong> <strong>元素的等待</strong> </p>
<p>显示等待是针对某一个元素进行相关等待判定； </p>
<p>隐式等待不针对某一个元素进行等待，全局元素等待。 </p>
<p><strong>a.相关模块</strong></p>
<ul>
<li>WebDriverWait 显示等待针对元素必用 </li>
<li>expected_conditions 预期条件类（里面包含方法可以调用，用于显示等待） </li>
<li>NoSuchElementException用于隐式等待抛出异常 </li>
<li>By 用于元素定位 </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by </span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> By </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> WebDriverWait <span class="comment">#注意字母大写 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support <span class="keyword">import</span> expected_conditions <span class="keyword">as</span> EC </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium.common.exceptions <span class="keyword">import</span> NoSuchElementException</span><br></pre></td></tr></table></figure>

<p><strong>b.显示等待</strong></p>
<p>案例：检测百度页面搜索按钮是否存在，存在就输入关键词“Selenium” 然后点击搜索 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> WebDriverWait </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support <span class="keyword">import</span> expected_conditions <span class="keyword">as</span> EC </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep </span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox() </span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://www.baidu.com&quot;</span>) </span><br><span class="line"></span><br><span class="line">driver.find_element_by_css_selector(<span class="string">&quot;#kw&quot;</span>).send_keys(<span class="string">&quot;Selenium&quot;</span>)</span><br><span class="line">sleep(<span class="number">2</span>) <span class="comment">#显示等待--判断搜索按钮是否存在</span></span><br><span class="line">element=WebDriverWait(driver,<span class="number">5</span>,<span class="number">0.5</span>).until(EC.presence_of_element_located((By.ID,<span class="string">&quot;su&quot;</span>))) element.click() </span><br><span class="line">sleep(<span class="number">3</span>) </span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>

<p><strong>C.隐式等待</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"><span class="keyword">from</span> selenium.common.exceptions <span class="keyword">import</span> NoSuchElementException </span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep,ctime </span><br><span class="line">driver=webdriver.Firefox() </span><br><span class="line">driver.get(<span class="string">&quot;http://www.baidu.com&quot;</span>)</span><br><span class="line">sleep(<span class="number">2</span>)</span><br><span class="line">driver.implicitly_wait(<span class="number">5</span>) <span class="comment">#隐式等待时间设定 5 秒 </span></span><br><span class="line"><span class="comment">#检测搜索框是否存在 </span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">	<span class="built_in">print</span>(ctime()) </span><br><span class="line">	driver.find_element_by_css_selector(<span class="string">&quot;#kw&quot;</span>).send_keys(<span class="string">&quot;Python&quot;</span>) </span><br><span class="line">	driver. find_element_by_css_selector(<span class="string">&quot;#su&quot;</span>).click </span><br><span class="line"><span class="keyword">except</span> NoSuchElementException <span class="keyword">as</span> msg:</span><br><span class="line">	<span class="built_in">print</span>(msg)</span><br><span class="line"><span class="keyword">finally</span>: </span><br><span class="line">	<span class="built_in">print</span>(ctime()) </span><br><span class="line">sleep(<span class="number">3</span>) </span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>

<h1 id="5-警告弹窗的处理"><a href="#5-警告弹窗的处理" class="headerlink" title="5.警告弹窗的处理"></a><strong>5.警告弹窗的处理</strong></h1><p>案例：点击百度首页设置按钮，然后进入搜索设置页面， </p>
<p>点击“保存设置”或“恢复默认”按钮，处理警告弹窗窗口 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox() </span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://www.baidu.com&quot;</span>) </span><br><span class="line"></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&#x27;设置&#x27;</span>).click() </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&#x27;搜索设置&#x27;</span>).click() </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">3</span>) </span><br><span class="line"></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&#x27;保存设置&#x27;</span>).click() </span><br><span class="line"></span><br><span class="line"><span class="comment"># driver.find_element_by_link_text(&#x27;恢复默认&#x27;).click()</span></span><br><span class="line"></span><br><span class="line">sleep(<span class="number">3</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#处理警告窗口 </span></span><br><span class="line"></span><br><span class="line">alert=driver.switch_to_alert() </span><br><span class="line"></span><br><span class="line">alert.accept() </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line">driver.quit() </span><br></pre></td></tr></table></figure>

<h1 id="6-文件上传"><a href="#6-文件上传" class="headerlink" title="6.文件上传"></a><strong>6.文件上传</strong></h1><p>案例：在百度搜索上传本地图片进行搜索。 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep </span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox() </span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://www.baidu.com&quot;</span>)</span><br><span class="line">driver.find_element_by_css_selector(<span class="string">&quot;.soutu-btn&quot;</span>).click() </span><br><span class="line">sleep(<span class="number">3</span>) </span><br><span class="line">driver.find_element_by_css_selector(<span class="string">&quot;.upload-pic&quot;</span>).send_keys(<span class="string">r&quot;E:\Python_script\Web driver\shuiyin.png&quot;</span>) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">3</span>) </span><br><span class="line"><span class="comment"># driver.quit()</span></span><br></pre></td></tr></table></figure>

<h1 id="7-浏览器滚动操作"><a href="#7-浏览器滚动操作" class="headerlink" title="7.浏览器滚动操作"></a><strong>7.浏览器滚动操作</strong></h1><p>案例：打开京东页面，然后将滚动条拖到最底部，然后再拖到顶部 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep </span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox() </span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;https://www.jd.com/&quot;</span>) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#将滚动调拖到最底部 </span></span><br><span class="line"></span><br><span class="line">js=<span class="string">&quot;var action=document.documentElement.scrollTop=10000&quot;</span> </span><br><span class="line"></span><br><span class="line">driver.execute_script(js) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#将滚动条拖到最顶部 </span></span><br><span class="line"></span><br><span class="line">js=<span class="string">&quot;var action=document.documentElement.scrollTop=0&quot;</span> </span><br><span class="line"></span><br><span class="line">driver.execute_script(js) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">3</span>) </span><br><span class="line"></span><br><span class="line">driver.quit() </span><br></pre></td></tr></table></figure>

<h1 id="8-网页自动截图"><a href="#8-网页自动截图" class="headerlink" title="8.网页自动截图"></a><strong>8.网页自动截图</strong></h1><p>案例：打开百度页面，然后进行截图 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep </span><br><span class="line"></span><br><span class="line"><span class="comment">#加载浏览器驱动 </span></span><br><span class="line">driver=webdriver.Firefox()</span><br><span class="line"><span class="comment">#打开百度页面并截图 </span></span><br><span class="line">driver.get(<span class="string">&quot;http://www.baidu.com&quot;</span>) driver.get_screenshot_as_file(<span class="string">r&quot;E:\Python_script\baidu.png&quot;</span>) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>

<h1 id="9-Cookie-处理"><a href="#9-Cookie-处理" class="headerlink" title="**9.**Cookie 处理"></a>**9.**Cookie <strong>处理</strong></h1><p><strong>1.</strong> <strong>什么是</strong> <strong>cookie</strong> </p>
<p>​    Cookie 是储存在用户本地终端上的数据，实际上是一小段的文本信息。 </p>
<p><strong>2.</strong> <strong>Cookie</strong> <strong>的作用</strong> </p>
<p>​    帮助 Web 站点保存有关访问者的信息，方便用户的访问。 </p>
<p>​    如记住用户名密码实现自动登录。 </p>
<p>​    案例：查看访问京东时的 Cookie 内容 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox() </span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://www.jd.com/&quot;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#获取 cookie 全部内容 </span></span><br><span class="line"></span><br><span class="line">cookie=driver.get_cookies() </span><br><span class="line"></span><br><span class="line"><span class="comment">#打印全部 cookile 信息 </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(cookie) </span><br><span class="line"></span><br><span class="line"><span class="comment">#打印 cookie 第一组信息 </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(cookie[<span class="number">0</span>]) </span><br><span class="line"></span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>

<p><strong>3.</strong> <strong>验证码作用</strong> </p>
<p>​    不少网站在用户登录、用户提交信息等登录和输入的页面上使用了验证码技术。验证码技术可以有效防止恶意用户对网站的滥用，使得网站可以有效避免用户信息失窃、保证网站稳定安全性。 </p>
<p>但是验证码给自动化测试带来一些不便，使脚本无法正常运行覆盖功能模块。</p>
<h1 id="10-验证码的处理"><a href="#10-验证码的处理" class="headerlink" title="10.验证码的处理"></a><strong>10.验证码的处理</strong></h1><p><strong>1.去掉验证码</strong></p>
<p>​    这是最简单的方法，对于开发人员来说，只是把验证码的相关代码注释掉即可，如果是在测试环境，这样做可省去了测试人员不少麻烦，如果自动化脚本是要在正式环境跑，这样就给系统带来了一定的风险。 </p>
<p><strong>2.设置万能码</strong> </p>
<p>​    去掉验证码的主要是安全问题，为了应对在线系统的安全性威胁，可以在修改程序时不取消验证码，而是程序中留一个“后门”—设置一个“万能验证码”，只要用户输入这个“万能验证码”，程序就认为验证通过，否则按照原先的验证方式进行验证。 </p>
<p><strong>3.记录 cookie</strong> </p>
<p>​    通过向浏览器中添加 cookie 可以绕过登录的验证码。</p>
<h1 id="11-基于-Cookie-绕过验证码"><a href="#11-基于-Cookie-绕过验证码" class="headerlink" title="11.基于 Cookie 绕过验证码"></a><strong>11.基于</strong> <strong>Cookie</strong> <strong>绕过验证码</strong></h1><p>案例：使用 Cookie 绕过百度验证码自动登录账户。 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver </span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep </span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox() </span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://www.baidu.com/&quot;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#手动添加 cookie </span></span><br><span class="line"></span><br><span class="line">driver.add_cookie(&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;BAIDUID&#x27;</span>,<span class="string">&#x27;value&#x27;</span>:<span class="string">&#x27;9E4BF1D44014…(根据实际获取值填写)&#x27;</span>&#125;) </span><br><span class="line"></span><br><span class="line">driver.add_cookie(&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;BDUSS&#x27;</span>,<span class="string">&#x27;value&#x27;</span>:<span class="string">&#x27;根据实际抓包获取值填写&#x27;</span>&#125;) </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">2</span>) </span><br><span class="line"></span><br><span class="line">driver.refresh() </span><br><span class="line"></span><br><span class="line">sleep(<span class="number">3</span>) </span><br><span class="line"></span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>

<h1 id="12-自动化测试模型"><a href="#12-自动化测试模型" class="headerlink" title="12.自动化测试模型"></a>12.自动化测试模型</h1><p><strong>概念</strong></p>
<p>自动化测试模型可以看作自动化测试框架与工具设计的思想。自动化测试不仅仅是单纯写写脚本运行就可以了，还需要考虑到如何使脚本运行效率提高，代码复用、参数化等问题。自动化测试模型分为四大类：线性模型，模块化驱动测试、数据驱动、关键词驱动。</p>
<p>· 工具：帝国CMS</p>
<p>· 下载地址：<a target="_blank" rel="noopener" href="http://www.phome.net/download/">http://www.phome.net/download/</a></p>
<h3 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a><em><strong>安装步骤</strong></em></h3><p>不需要你安装任何软件！！！</p>
<p>· 1、解压安装包；</p>
<p>· 2、将安装包的“EmpireServer”目录复制到D盘根目录；(D:\EmpireServer目录名不可更改)</p>
<p>· 3、双击“D:\EmpireServer\一键安装.bat”；(要鼠标右键以管理员身份运行)</p>
<p>· 4、至此，运行环境及帝国CMS全部安装完毕；</p>
<p>· 5、在浏览器打入：<a target="_blank" rel="noopener" href="http://localhost/e/admin">http://localhost/e/admin</a> 后回车，进入帝国CMS后台登陆界面。</p>
<p>· 前台地址：<a target="_blank" rel="noopener" href="http://localhost/">http://localhost</a></p>
<p>· 后台地址：<a target="_blank" rel="noopener" href="http://localhost/e/admin">http://localhost/e/admin</a> (登录用户名、密码与认证码均为admin)</p>
<p>· 搭建完成之后注册一个测试账号 Test 密码：123456</p>
<h3 id="线性模型"><a href="#线性模型" class="headerlink" title="线性模型"></a><em><strong>线性模型</strong></em></h3><p>线性脚本中每个脚本都相互独立，且不会产生其他依赖与调用，其实就是简单模拟用户某个操作流程的脚本。</p>
<p>案例：在帝国软件主页自动登录和退出操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox()</span><br><span class="line">driver.get(<span class="string">&quot;http://localhost&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&#x27;username&#x27;</span>).clear()</span><br><span class="line">driver.find_element_by_name(<span class="string">&#x27;username&#x27;</span>).send_keys(<span class="string">&#x27;Test&#x27;</span>)</span><br><span class="line"><span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&#x27;password&#x27;</span>).clear()</span><br><span class="line">driver.find_element_by_name(<span class="string">&#x27;password&#x27;</span>).send_keys(<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#点击登陆</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&#x27;Submit&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line">sleep(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#退出</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&#x27;退出&#x27;</span>).click()</span><br><span class="line">sleep(<span class="number">2</span>)</span><br><span class="line">driver.switch_to_alert().accept()</span><br><span class="line"></span><br><span class="line">sleep(<span class="number">3</span>)</span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>

<h3 id="模块化驱动测试"><a href="#模块化驱动测试" class="headerlink" title="模块化驱动测试"></a><em><strong>模块化驱动测试</strong></em></h3><p>线性模型虽然每个用例都可以拿出来独立运行，但是用例之间重复代码很多，开发、维护成本高。其实把重复的操作代码封装为独立的公共模块【函数】，当用例执行时需要用到这部分，直接调用即可，这就是模块驱动的方式。比如登录系统、退出登录、截图函数等等。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Login</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">user_login</span>(<span class="params">self,driver</span>):</span></span><br><span class="line">        driver.find_element_by_name(<span class="string">&#x27;username&#x27;</span>).clear()</span><br><span class="line">        driver.find_element_by_name(<span class="string">&#x27;username&#x27;</span>).send_keys(<span class="string">&#x27;Test&#x27;</span>)<span class="comment">#固定</span></span><br><span class="line"></span><br><span class="line">        driver.find_element_by_name(<span class="string">&#x27;password&#x27;</span>).clear()</span><br><span class="line">        driver.find_element_by_name(<span class="string">&#x27;password&#x27;</span>).send_keys(<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        driver.find_element_by_name(<span class="string">&#x27;Submit&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">user_logout</span>(<span class="params">self,driver</span>):</span></span><br><span class="line">        driver.find_element_by_link_text(<span class="string">&#x27;退出&#x27;</span>).click()</span><br><span class="line">        sleep(<span class="number">2</span>)</span><br><span class="line">        driver.switch_to_alert().accept()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    driver = webdriver.Firefox()</span><br><span class="line">    driver.get(<span class="string">&quot;http://localhost/&quot;</span>)</span><br><span class="line">    driver.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    Login().user_login(driver)</span><br><span class="line">    Login().user_logout(driver)</span><br></pre></td></tr></table></figure>

<p>调用登录模块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> LoginClass <span class="keyword">import</span> </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">driver = webdriver.Firefox()</span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://localhost/&quot;</span>)</span><br><span class="line"></span><br><span class="line">driver.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Login().user_login(driver)</span><br><span class="line"></span><br><span class="line">Login().user_logout(driver)</span><br></pre></td></tr></table></figure>

<h3 id="数据驱动测试"><a href="#数据驱动测试" class="headerlink" title="数据驱动测试"></a><em><strong>数据驱动测试</strong></em></h3><p>模块驱动的模型虽然解决了脚本的重复问题，但是需要测试不同数据的用例时，模块驱动的方式就不很适合了。 数据驱动就是数据的改变从而驱动自动化测试的执行，最终引起测试结果的改变。 装载数据的方式可以是列表、字典或是外部文件（txt、csv、xml、excel），目的就是实现数据和脚本的分离。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Login</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">user_login</span>(<span class="params">self,driver,username,password</span>):</span></span><br><span class="line">        driver.find_element_by_name(<span class="string">&#x27;username&#x27;</span>).clear()</span><br><span class="line">        driver.find_element_by_name(<span class="string">&#x27;username&#x27;</span>).send_keys(username)<span class="comment">#username 可变的</span></span><br><span class="line"></span><br><span class="line">        driver.find_element_by_name(<span class="string">&#x27;password&#x27;</span>).clear()</span><br><span class="line">        driver.find_element_by_name(<span class="string">&#x27;password&#x27;</span>).send_keys(password)</span><br><span class="line"></span><br><span class="line">        driver.find_element_by_name(<span class="string">&#x27;Submit&#x27;</span>).click()</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">user_logout</span>(<span class="params">self,driver</span>):</span></span><br><span class="line">        driver.find_element_by_link_text(<span class="string">&#x27;退出&#x27;</span>).click()</span><br><span class="line">        sleep(<span class="number">2</span>)</span><br><span class="line">        driver.switch_to_alert().accept()</span><br></pre></td></tr></table></figure>

<p>数据驱动调用——实现多个账户登录</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> LoginClass_Para <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span>  selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"></span><br><span class="line">driver=webdriver.Firefox()</span><br><span class="line">driver.get(<span class="string">&quot;http://localhost&quot;</span>)</span><br><span class="line">driver.implicitly_wait(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">Login().user_login(driver,<span class="string">&quot;Test&quot;</span>,<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line">sleep(<span class="number">3</span>)</span><br><span class="line">Login().user_logout(driver)</span><br><span class="line"></span><br><span class="line">Login().user_login(driver,<span class="string">&quot;TestPro&quot;</span>,<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line">sleep(<span class="number">5</span>)</span><br><span class="line">Login().user_logout(driver)</span><br></pre></td></tr></table></figure>

<h3 id="关键字驱动测试"><a href="#关键字驱动测试" class="headerlink" title="关键字驱动测试"></a><em><strong>关键字驱动测试</strong></em></h3><p>Comand  修改其命令</p>
<p>通过关键字的改变引起测试结果的改变叫关键字驱动测试。 selenium IDE也是一种传统的关键字驱动的自动化工具，Robot Framework 是一个功能更强大的关键字驱动测试框架</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/07/web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" data-id="ckt9vc0ia0000o0ty2agx8mnc" data-title="web自动化测试" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-linux学习" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/03/linux%E5%AD%A6%E4%B9%A0/" class="article-date">
  <time class="dt-published" datetime="2021-09-03T09:36:30.000Z" itemprop="datePublished">2021-09-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/03/linux%E5%AD%A6%E4%B9%A0/">linux学习</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>linux查看ip地址：ifconfig<br>   虚拟网卡<br>   远程链接终端工具</p>
<p>通过远程链接工具链接linux服务器：</p>
<p>  阿里云：<br>    ip地址<br>    账户<br> 链接工具：putty</p>
<h1 id="1-linux的目录"><a href="#1-linux的目录" class="headerlink" title="1.linux的目录"></a>1.linux的目录</h1><p>cd  /：进入linux的根目录</p>
<p>然后ll指令，下面图是linux的文件目录，linux中是一切皆文件</p>
<p>认识一下目录：</p>
<p>Bin目录：可执行文件</p>
<p>Etc目录：存放系统的配置文件</p>
<p>Home:用户的根目录</p>
<p>Opt:安装程序文件存放的位置</p>
<p>Dev：存放设备文件</p>
<p>Lib：存放系统所需要的运行程序文件(打补丁)</p>
<p><img src="https://pic.imgdb.cn/item/6131ed2944eaada73989dcb9.jpg"></p>
<h1 id="2-linux基本指令"><a href="#2-linux基本指令" class="headerlink" title="2.linux基本指令"></a>2.linux基本指令</h1><h2 id="文件列出命令："><a href="#文件列出命令：" class="headerlink" title="文件列出命令："></a>文件列出命令：</h2><ul>
<li>Ls:  列出当前目录里面所有的文件和文件夹</li>
<li>Ll: 列出当前目录里面所有的文件和文件夹详细信息</li>
<li>Ls  -a:列出所有文件和文件夹(包含隐藏文件)</li>
</ul>
<h2 id="访问命令："><a href="#访问命令：" class="headerlink" title="访问命令："></a>访问命令：</h2><p>cd app    切换到app目录</p>
<p>cd ..    切换到上一层目录</p>
<p>cd /        切换到系统根目录</p>
<p>cd ~        切换到用户主目录</p>
<p>cd -        切换到上一个所在目录</p>
<h2 id="创建文件夹："><a href="#创建文件夹：" class="headerlink" title="创建文件夹："></a>创建文件夹：</h2><p>mkdir(make directory)命令可用来创建子目录。</p>
<p>​    mkdir app   在当前目录下创建app目录</p>
<p>​    mkdir –p app2/test  级联创建aap2以及test目录</p>
<p>rmdir(remove directory)命令可用来删除“空”的子目录：</p>
<p>​    rmdir app   删除app目录</p>
<h2 id="浏览文件的指令"><a href="#浏览文件的指令" class="headerlink" title="浏览文件的指令"></a>浏览文件的指令</h2><p>cat</p>
<p>​    用于显示文件的内容。</p>
<p>​    格式：cat[参数]&lt;文件名&gt;</p>
<p>  * cat yum.conf </p>
<p>more</p>
<p>​    一般用于要显示的内容会超过一个画面长度的情况。按空格键显示下一个画面。</p>
<p>​    回车显示下一行内容。</p>
<p>​    按 q 键退出查看。</p>
<p>​    * more yum.conf</p>
<pre><code>  \* 空格显示下一页数据  回车显示下一行的数据 
</code></pre>
<p>less</p>
<p>​    用法和more类似，不同的是less可以通过PgUp、PgDn键来控制。</p>
<p>​      * less yum.conf</p>
<pre><code>    \* PgUp 和 PgDn 进行上下翻页.
</code></pre>
<p>【tail】</p>
<p>tail命令是在实际使用过程中使用非常多的一个命令，它的功能是：用于显示文件后几行的内容。</p>
<p>用法:</p>
<p>tail -10 /etc/passwd     查看后10行数据</p>
<p>tail -f catalina.log   动态查看日志</p>
<p>ctrl+c 结束查看</p>
<p>问题：你一般是怎么去查看服务器的日志文件的？？？</p>
<p><strong>Tail  服务器/logs/catalina.日期</strong></p>
<p>【head】和tail类似</p>
<h2 id="删除命令："><a href="#删除命令：" class="headerlink" title="删除命令："></a>删除命令：</h2><p>rm  删除文件</p>
<p>​    用法：rm [选项]… 文件…</p>
<p>​        rm a.txt     删除a.txt文件</p>
<p>​    删除需要用户确认，y/n</p>
<p>rm 删除不询问</p>
<p>​    rm -f a.txt                 不询问，直接删除</p>
<p>rm 删除目录</p>
<p>​    rm -r a     递归删除</p>
<p>不询问递归删除（慎用）</p>
<p>​    rm -rf  a     不询问递归删除</p>
<p>​    rm -rf *     删除所有文件</p>
<p>​    rm -rf /*     自杀</p>
<h2 id="复制、粘贴："><a href="#复制、粘贴：" class="headerlink" title="复制、粘贴："></a>复制、粘贴：</h2><p>cp(copy)命令可以将文件从一处复制到另一处。一般在使用cp命令时将一个文件复制成另一个文件或复制到某目录时，需要指定源文件名与目标文件名或目录。</p>
<p>​    cp a.txt b.txt     将a.txt复制为b.txt文件</p>
<p>​    cp a.txt ../     将a.txt文件复制到上一层目录中 </p>
<p>mv 移动或者重命名</p>
<p>​    mv a.txt ../     将a.txt文件移动到上一层目录中</p>
<p>​    mv a.txt b.txt     将a.txt文件重命名为b.txt</p>
<h2 id="打包压缩、解压"><a href="#打包压缩、解压" class="headerlink" title="打包压缩、解压"></a>打包压缩、解压</h2><p>tar命令位于/bin目录下，它能够将用户所指定的文件或目录打包成一个文件，但不做压缩。一般Linux上常用的压缩方式是选用tar将许多文件打包成一个文件，再以gzip压缩命令压缩成xxx.tar.gz(或称为xxx.tgz)的文件。</p>
<p> 常用参数：</p>
<p>-c：创建一个新tar文件</p>
<p>-v：显示运行过程的信息</p>
<p>-f：指定文件名</p>
<p>-z：调用gzip压缩命令进行压缩</p>
<p>-t：查看压缩文件的内容</p>
<p>-x：解开tar文件</p>
<p>打包：</p>
<p>​    tar –cvf xxx.tar ./*</p>
<p>打包并且压缩：</p>
<p>​    tar –zcvf xxx.tar.gz ./* </p>
<p>解压 </p>
<p>​    tar –xvf xxx.tar</p>
<p>​    tar -xvf xxx.tar.gz -C /usr/aaa</p>
<h2 id="【grep】命令"><a href="#【grep】命令" class="headerlink" title="【grep】命令"></a>【grep】命令</h2><p>查找符合条件的字符串。</p>
<p>​    用法: grep [选项]… PATTERN [FILE]…</p>
<p>示例：</p>
<p>​    grep lang anaconda-ks.cfg  在文件中查找lang</p>
<p>​    grep lang anaconda-ks.cfg –color 高亮显示</p>
<h2 id="其他常用命令"><a href="#其他常用命令" class="headerlink" title="其他常用命令"></a><strong>其他常用命令</strong></h2><p>【pwd】</p>
<p>​    显示当前所在目录</p>
<p>【touch】</p>
<p>​    创建一个空文件</p>
<p>​    * touch a.txt</p>
<p>【ll -h】</p>
<p>​    友好显示文件大小</p>
<p>【wget】</p>
<p>​    下载资料</p>
<p>​    * wget <a target="_blank" rel="noopener" href="https://www.baidu.com/">https://www.baidu.com</a></p>
<h2 id="Vi和Vim编辑器"><a href="#Vi和Vim编辑器" class="headerlink" title="Vi和Vim编辑器"></a>Vi和Vim编辑器</h2><h3 id="Vim编辑器："><a href="#Vim编辑器：" class="headerlink" title="Vim编辑器："></a><strong>Vim编辑器：</strong></h3><p>在Linux下一般使用vi编辑器来编辑文件。</p>
<p>vi既可以查看文件也可以编辑文件。</p>
<p>三种模式：命令行、插入、底行模式。</p>
<p>​    切换到命令行模式：按Esc键；</p>
<p>​    切换到插入模式：按 i 、o、a键；</p>
<p>​      i 在当前位置生前插入</p>
<p>​      I 在当前行首插入</p>
<p>​      a 在当前位置后插入</p>
<p>​      A 在当前行尾插入</p>
<p>​      o 在当前行之后插入一行</p>
<p>​      O 在当前行之前插入一行</p>
<p>打开文件：vim file</p>
<p>退出：esc → :q</p>
<p>修改文件：输入i进入插入模式</p>
<p>保存并退出：esc→:wq</p>
<p>不保存退出：esc→:q!</p>
<p>3种进入插入模式：</p>
<p>i:在当前的光标所在处插入</p>
<p>o:在当前光标所在的行的下一行插入</p>
<p>a:在光标所在的下一个字符插入</p>
<h2 id="管道"><a href="#管道" class="headerlink" title="管道 |"></a><strong>管道 |</strong></h2><p>管道是Linux命令中重要的一个概念，其作用是将一个命令的输出用作另一个命令的输入。示例</p>
<p>ls –help | more  分页查询帮助信息</p>
<p>ps –ef | grep java  查询名称中包含java的进程</p>
<p>ifconfig | more</p>
<p>cat index.html | more</p>
<p>ps –ef | grep aio</p>
<h2 id="amp-amp-命令执行控制："><a href="#amp-amp-命令执行控制：" class="headerlink" title="&amp;&amp;命令执行控制："></a><strong>&amp;&amp;命令执行控制：</strong></h2><p>命令之间使用 &amp;&amp; 连接，实现逻辑与的功能。  </p>
<p>只有在 &amp;&amp; 左边的命令返回真（命令返回值 $? == 0），&amp;&amp; 右边的命令才会被执行。 </p>
<p>只要有一个命令返回假（命令返回值 $? == 1），后面的命令就不会被执行。</p>
<p>mkdir test &amp;&amp; cd test</p>
<h2 id="网络通讯命令"><a href="#网络通讯命令" class="headerlink" title="网络通讯命令"></a><strong>网络通讯命令</strong></h2><p>ifconfig  显示或设置网络设备。</p>
<p>ifconfig  显示网络设备</p>
<p>ifconfig eth0 up 启用eth0网卡</p>
<p>ifconfig eth0 down  停用eth0网卡ping  探测网络是否通畅。</p>
<p>ping 192.168.0.1netstat 查看网络端口。</p>
<p>netstat -an | grep 3306 查询3306端口占用情况</p>
<h2 id="系统管理命令"><a href="#系统管理命令" class="headerlink" title="系统管理命令"></a><strong>系统管理命令</strong></h2><p>date 显示或设置系统时间</p>
<p>date  显示当前系统时间</p>
<p>date -s “2014-01-01 10:10:10“  设置系统时间df 显示磁盘信息</p>
<p>df –h  友好显示大小free 显示内存状态</p>
<p>free –m 以mb单位显示内存组昂头top 显示，管理执行中的程序</p>
<p>clear 清屏幕 </p>
<p>ps 正在运行的某个进程的状态</p>
<p>ps –ef  查看所有进程</p>
<p>ps –ef | grep ssh 查找某一进程kill 杀掉某一进程</p>
<p>kill 2868  杀掉2868编号的进程</p>
<p>kill -9 2868  强制杀死进程</p>
<p>du 显示目录或文件的大小。</p>
<p>du –h 显示当前目录的大小</p>
<p> who 显示目前登入系统的用户信息。 </p>
<p>hostname 查看当前主机名</p>
<p>修改：vi /etc/sysconfig/network </p>
<p>uname 显示系统信息。</p>
<p>uname -a 显示本机详细信息。依次为：内核名称(类别)，主机名，内核版本号，内核版本，内核编译日期，硬件名，处理器类型，硬件平台类型，操作系统名称</p>
<h1 id="3-把文件传输到linux服务器上面"><a href="#3-把文件传输到linux服务器上面" class="headerlink" title="3.把文件传输到linux服务器上面"></a>3.把文件传输到linux服务器上面</h1><p><strong>使用ftp工具来传输</strong></p>
<p><strong>ftp协议：文件传输协议</strong></p>
<h1 id="4-在linux服务器上安装jdk环境"><a href="#4-在linux服务器上安装jdk环境" class="headerlink" title="4.在linux服务器上安装jdk环境"></a>4.在linux服务器上安装jdk环境</h1><p>①　把jdk的linux版本上传上去</p>
<p>②　查询linux系统自带的版本</p>
<p>​    Java  -version</p>
<p>查询全部的jdk版本：</p>
<p>​    rpm  -qa | grep  java</p>
<p>③　卸载版本</p>
<p>​    Rpm  -e  - -nodeps  版本号</p>
<p>一条一条删除</p>
<p>安装：</p>
<p>​    在 usr/local/src里面创建一个java文件夹</p>
<p>​    在上述java文件夹里面，把jdk的安装包传输过来</p>
<p>​    解压jdk的文件</p>
<ol>
<li>安装依赖：yum install glibc.i686</li>
</ol>
<p>​     去修改配置文件  etc/profile   最后面加上下面这段</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#set java environment</span><br><span class="line">	JAVA_HOME=/usr/local/src/java/jdk1.7.0_71</span><br><span class="line">	CLASSPATH=.:$JAVA_HOME/lib.tools.jar</span><br><span class="line">	PATH=$JAVA_HOME/bin:$PATH</span><br><span class="line">	export JAVA_HOME CLASSPATH PATH</span><br></pre></td></tr></table></figure>

<p>​    加载配置文件： source  etc/profile</p>
<p>​    最后验证：java -version</p>
<h1 id="Linux的用户和组"><a href="#Linux的用户和组" class="headerlink" title="Linux的用户和组"></a><strong>Linux的用户和组</strong></h1><h2 id="用户的管理"><a href="#用户的管理" class="headerlink" title="用户的管理"></a><strong>用户的管理</strong></h2><p>useradd 添加一个用户</p>
<p>​    useradd test 添加test用户</p>
<p>​    useradd test -d /home/t1  指定用户home目录 </p>
<p>passwd  设置、修改密码</p>
<p>​    passwd test  为test用户设置密码</p>
<p>切换登录：</p>
<p>ssh -l test -p 22 192.168.19.128</p>
<p>su – 用户名</p>
<p> userdel 删除一个用户</p>
<p>​    userdel test 删除test用户(不会删除home目录)</p>
<p>​    userdel –rf test  删除用户以及home目录</p>
<p>如何禁用掉某个用户：</p>
<p>​    通过root账户  vim进入  etc/passwd  </p>
<p>​    在指定的账户后面加上   /nologin</p>
<h3 id="组管理："><a href="#组管理：" class="headerlink" title="组管理："></a><strong>组管理：</strong></h3><p>当在创建一个新用户user时，若没有指定他所属于的组，就建立一个和该用户同名的私有组 </p>
<p>创建用户时也可以指定所在组 </p>
<p>groupadd  创建组</p>
<p>groupadd public  创建一个名为public的组</p>
<p>useradd u1 –g public  创建用户指定组groupdel 删除组，如果该组有用户成员，必须先删除用户才能删除组。</p>
<p>groupdel public</p>
<h3 id="id，su命令"><a href="#id，su命令" class="headerlink" title="id，su命令"></a><strong>id，su命令</strong></h3><p>【id命令】</p>
<p>功能：查看一个用户的UID和GID</p>
<p>用法：id [选项]… [用户名] </p>
<p>直接使用id</p>
<p>直接使用id 用户名</p>
<p>【su命令】</p>
<p>功能：切换用户。</p>
<p>用法：su [选项]… [-] [用户 [参数]… ]</p>
<p>示例：</p>
<p>​    su u1  切换到u1用户</p>
<p>​    su - u1 切换到u1用户，并且将环境也切换到u1用户的环境（推荐使用）</p>
<p>【账户文件】</p>
<p>/etc/passwd  用户文件</p>
<p>/etc/shadow  密码文件</p>
<p>/etc/group  组信息文件</p>
<p>【用户文件】</p>
<p>root:x:0:0:root:/root:/bin/bash</p>
<p>账号名称：        在系统中是唯一的</p>
<p>用户密码：        此字段存放加密口令</p>
<p>用户标识码(User ID)：  系统内部用它来标示用户</p>
<p>组标识码(Group ID)：  系统内部用它来标识用户属性</p>
<p>用户相关信息：        例如用户全名等</p>
<p>用户目录：        用户登录系统后所进入的目录</p>
<p>用户环境:        用户工作的环境</p>
<p>【密码文件】</p>
<p>shadow文件中每条记录用冒号间隔的9个字段组成.</p>
<p>用户名：用户登录到系统时使用的名字，而且是惟一的</p>
<p>口令：  存放加密的口令</p>
<p>最后一次修改时间:  标识从某一时刻起到用户最后一次修改时间</p>
<p>最大时间间隔:  口令保持有效的最大天数，即多少天后必须修改口令</p>
<p>最小时间间隔：    再次修改口令之间的最小天数</p>
<p>警告时间：从系统开始警告到口令正式失效的天数</p>
<p>不活动时间：    口令过期少天后，该账号被禁用</p>
<p>失效时间：指示口令失效的绝对天数(从1970年1月1日开始计算)</p>
<p>标志：未使用 </p>
<p>【组文件】</p>
<p>root:x:0:</p>
<p>组名：用户所属组</p>
<p>组口令：一般不用</p>
<p>GID：组ID</p>
<p>用户列表：属于该组的所有用户</p>
<h1 id="Linux的权限命令"><a href="#Linux的权限命令" class="headerlink" title="Linux的权限命令"></a><strong>Linux的权限命令</strong></h1><h3 id="文件权限"><a href="#文件权限" class="headerlink" title="文件权限"></a><strong>文件权限</strong></h3><p><img src="https://pic.imgdb.cn/item/6131f3fc44eaada7399507db.jpg"> </p>
<table>
<thead>
<tr>
<th><strong>属主（user）</strong></th>
<th><strong>属组（group）</strong></th>
<th><strong>其他用户</strong></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td>w</td>
<td>x</td>
<td>r</td>
<td>w</td>
<td>x</td>
<td>r</td>
<td>w</td>
<td>x</td>
</tr>
<tr>
<td>4</td>
<td>2</td>
<td>1</td>
<td>4</td>
<td>2</td>
<td>1</td>
<td>4</td>
<td>2</td>
<td>1</td>
</tr>
</tbody></table>
<h3 id="Linux三种文件类型："><a href="#Linux三种文件类型：" class="headerlink" title="Linux三种文件类型："></a><strong>Linux三种文件类型：</strong></h3><p>普通文件： 包括文本文件、数据文件、可执行的二进制程序文件等。 </p>
<p> 目录文件： Linux系统把目录看成是一种特殊的文件，利用它构成文件系统的树型结构。  </p>
<p>设备文件： Linux系统把每一个设备都看成是一个文件</p>
<h3 id="文件类型标识"><a href="#文件类型标识" class="headerlink" title="文件类型标识"></a><strong>文件类型标识</strong></h3><p>普通文件（-）</p>
<p>目录（d）</p>
<p>符号链接（l）</p>
<p>* 进入etc可以查看，相当于快捷方式</p>
<p>字符设备文件（c）</p>
<p>块设备文件（s）</p>
<p>套接字（s）</p>
<p>命名管道（p）</p>
<h3 id="文件权限管理："><a href="#文件权限管理：" class="headerlink" title="文件权限管理："></a><strong>文件权限管理：</strong></h3><p>chmod 变更文件或目录的权限。</p>
<p>​    chmod 755 a.txt </p>
<p>​    chmod u=rwx,g=rx,o=rx a.txt</p>
<p>​    chmod 000 a.txt  / chmod 777 a.txt</p>
<p>chown 变更文件或目录改文件所属用户和组</p>
<p>​    chown u1:public a.txt    ：变更当前的目录或文件的所属用户和组</p>
<p>​    chown -R u1:public dir    ：变更目录中的所有的子目录及文件的所属用户和组</p>
<p>​    linux系统中的755权限是指所有者拥有可读、可写、可执行权限，所属组与其他用户仅拥有可读与可执行权限。linux系统的权限一般是用1-3位数字代表文件所有者的权限，4-6位数字代表同组用户的权限，7-9位数字代表其他用户的权限。</p>
<p>以 755 为例： </p>
<p>● 1-3 位 7 等于 4+2+1，rwx，所有者具有读取、写入、执行权限； </p>
<p>● 4-6 位 5 等于 4+1+0，r-x，同组用户具有读取、执行权限但没有写入权限； </p>
<p>● 7-9 位 5，同上，也是 r-x，其他用户具有读取、执行权限但没有写入权限。</p>
<p>拓展</p>
<p>常用的<a target="_blank" rel="noopener" href="http://www.111cn.net/list-156/">linux</a>文件权限：<br>444 r–r–r–<br>600 rw——-<br>644 rw-r–r–<br>666 rw-rw-rw-<br>700 rwx——<br>744 rwxr–r–<br>755 rwxr-xr-x<br>777 rwxrwxrwx<br>从左至右，1-3位数字代表文件所有者的权限，4-6位数字代表同组用户的权限，7-9数字代表其他用户的权限。<br>而具体的权限是由数字来表示的，读取的权限等于4，用r表示；写入的权限等于2，用w表示；执行的权限等于1，用x表示；<br>通过4、2、1的组合，得到以下几种权限：0（没有权限）；4（读取权限）；5（4+1 | 读取+执行）；6（4+2 | 读取+写入）；7（4+2+1 | 读取+写入+执行）<br>以755为例：<br>1-3位7等于4+2+1，rwx，所有者具有读取、写入、执行权限；<br>4-6位5等于4+1+0，r-x，同组用户具有读取、执行权限但没有写入权限；<br>7-9位5，同上，也是r-x，其他用户具有读取、执行权限但没有写入权限。</p>
<p>rwx权限数字解释<br>chmod也可以用数字来表示权限如 chmod 777 file<br>语法为：chmod abc file<br>其中a,b,c各为一个数字，分别表示User、Group、及Other的权限。<br>r=4，w=2，x=1<br>若要rwx属性则4+2+1=7；<br>若要rw-属性则4+2=6；<br>若要r-x属性则4+1=7。<br>范例：<br>chmod a=rwx file<br>和<br>chmod 777 file<br>效果相同<br>chmod ug=rwx,o=x file<br>和<br>chmod 771 file<br>效果相同<br>若用chmod 4755 filename可使此程序具有root的权限</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/03/linux%E5%AD%A6%E4%B9%A0/" data-id="ckt47515e0000b4tyb5uja88z" data-title="linux学习" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-javascript基础" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/03/javascript%E5%9F%BA%E7%A1%80/" class="article-date">
  <time class="dt-published" datetime="2021-09-03T09:00:34.000Z" itemprop="datePublished">2021-09-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/03/javascript%E5%9F%BA%E7%A1%80/">javascript基础</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="一、什么是javascript"><a href="#一、什么是javascript" class="headerlink" title="一、什么是javascript"></a>一、<strong>什么是javascript</strong></h2><p>JavaScript 是可插入 HTML 页面的编程代码。</p>
<p>JavaScript 插入 HTML 页面后，可由所有的现代浏览器执行。</p>
<p><strong>这门语言可用于 HTML 和 web，更可广泛用于服务器、PC、笔记本电脑、平板电脑和智能手机等设备。</strong></p>
<p>Js学习的时候，了解三部分：</p>
<p> es语法、浏览器[BOM]对象、文档【DOM】对象</p>
<h2 id="二、Es语法"><a href="#二、Es语法" class="headerlink" title="二、Es语法"></a>二、<strong>Es语法</strong></h2><h3 id="1-js的快速入门——写法"><a href="#1-js的快速入门——写法" class="headerlink" title="1. js的快速入门——写法"></a>1. <strong>js的快速入门——写法</strong></h3><p>内嵌在script标签</p>
<p><code>&lt;script type=&quot;text/javascript&quot;&gt;            alert(&quot;123&quot;)        &lt;/script&gt;</code></p>
<p>外部链接  </p>
<p><img src="https://pic.imgdb.cn/item/6131e4e044eaada7397b6b15.jpg"> </p>
<p><code>&lt;script type=&quot;text/javascript&quot; src=&quot;../js/js1.js&quot; &gt;&lt;/script&gt;</code></p>
<h3 id="2-js的输出"><a href="#2-js的输出" class="headerlink" title="2. js的输出"></a>2. <strong>js的输出</strong></h3><p>Document.write( ):输出内容在网页上面</p>
<p>Console.log()  : 输出内容在控制台上面</p>
<h3 id="3-变量、数据类型："><a href="#3-变量、数据类型：" class="headerlink" title="3. 变量、数据类型："></a>3. <strong>变量、数据类型：</strong></h3><p>变量：程序执行中，其值可以改变的量；变量是一个容器，存储数据。</p>
<p><code>Var  a=10;</code></p>
<p>Var:声明变量的关键字</p>
<p>a是变量,在这个变量里面存了10</p>
<p>变量取名的时候注意：</p>
<p>· 变量必须以字母开头 </p>
<p>· 变量也能以 $ 和 _ 符号开头（不过我们不推荐这么做） </p>
<p>· 变量名称对大小写敏感（y 和 Y 是不同的变量） </p>
<p>定义变量、输出变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="comment">//声明一个变量</span></span><br><span class="line">    <span class="keyword">var</span>  num1=<span class="literal">false</span>;</span><br><span class="line">	<span class="comment">//输出变量</span></span><br><span class="line">	<span class="built_in">document</span>.write(num1)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>数据类型：</p>
<p>Boolean  ——布尔</p>
<p>string    ——字符串</p>
<p>Number  ——数字</p>
<p>Underfind—— 未定义的数据类型</p>
<p>Js是一门弱类型的语言，数据类型的取值取决于赋给变量的值！！！</p>
<p>①　Js的声明变量关键字是var</p>
<p>②　js同时声明两个不同的数据类型</p>
<p>③　js变量可以存放不同类型的值</p>
<p>④　js变量名声明不是必须的 </p>
<p>typeof（）检测数据类型</p>
<p><code>var num1=false;document.write(typeof(num1))</code></p>
<h3 id="4-Js的运算符"><a href="#4-Js的运算符" class="headerlink" title="4. Js的运算符"></a>4. <strong>Js的运算符</strong></h3><p>算术： 加、减 、乘、除、++、–</p>
<p>单独给某个变量++或者–的时候，它会自增1或自减1；</p>
<p>比较：&gt;、&lt;  &gt;=  !=  &lt;=  </p>
<p>区分：</p>
<p>= :赋值  把右边赋值给左边</p>
<p>==：比较两个值相等，不考虑数据类型</p>
<p>=== ：考虑数据类型和值一样时，为true，否则false</p>
<p>结果只有两种，true和false</p>
<p>条件:   var n3=(n2&gt;n1)?n2:n1;</p>
<p>解释：如果n2值大于n1，把n2的值赋给n3，否则相反</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n1=<span class="number">123</span>;</span><br><span class="line"><span class="keyword">var</span> n2=<span class="number">25</span>;</span><br><span class="line"><span class="keyword">var</span> n3=(n2&gt;n1)?n2:n1;</span><br><span class="line"><span class="built_in">document</span>.write(n3)<span class="comment">//25</span></span><br></pre></td></tr></table></figure>

<p>逻辑:  &amp;&amp;  ||  ！</p>
<p>逻辑运算符两边连接的是布尔类型的值</p>
<p>赋值：    =  +=  -=  *=  /=</p>
<p>把右边值赋值 运算符左边</p>
<h3 id="5-程序的结构"><a href="#5-程序的结构" class="headerlink" title="5. 程序的结构"></a>5. <strong>程序的结构</strong></h3><p><strong>程序的结构：</strong></p>
<p><strong>顺序结构【默认】：自上而下</strong></p>
<p><strong>选择结构</strong>：</p>
<p>​    <strong>程序自上而下执行时，遇到了什么条件，就会做出什么选择！</strong></p>
<p><strong>循环结构</strong></p>
<p>​    <strong>程序自上而下执行时，遇到了什么条件，就会做出循环！</strong></p>
<p><strong>选择结构：  if….else</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.初始化值			</span></span><br><span class="line"><span class="keyword">var</span>  age=<span class="number">10</span>;			</span><br><span class="line"><span class="comment">//2.判断条件			</span></span><br><span class="line"><span class="keyword">if</span>(age&gt;=<span class="number">18</span>)&#123;</span><br><span class="line">    <span class="comment">//3.执行语句1</span></span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&quot;可以上网&quot;</span>)</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="comment">//语句2</span></span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">&quot;洗洗睡&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>满足什么条件，就执行语句1，否则执行语句2</strong>  </p>
<p><strong>for循环：</strong></p>
<p><img src="https://pic.imgdb.cn/item/6131e61844eaada7397da461.jpg"> </p>
<h3 id="6-数组"><a href="#6-数组" class="headerlink" title="6. 数组"></a>6. <strong>数组</strong></h3><p>什么是数组？——数据的容器</p>
<p>存放一组数据(多个类型的)</p>
<p>长度不是固定</p>
<p>没有赋值定义的类型都是undefined</p>
<p>怎么声明数组？</p>
<p><code>var  数组名=new Array();</code></p>
<p><code>var 数组名=new Array(&quot;值1&quot;，&quot;值2&quot;)</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> arr=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">&quot;张三&quot;</span>,<span class="string">&quot;李四&quot;</span>,<span class="number">123</span>);</span><br><span class="line">	<span class="built_in">document</span>.write(arr.length)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>var 数组名=[“值1”,“值2”,”值3”]</p>
<p>数组结合循环来做遍历</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">	<span class="keyword">var</span> arr=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">&quot;张三&quot;</span>,<span class="string">&quot;李四&quot;</span>,<span class="number">123</span>);</span><br><span class="line"><span class="comment">//			document.write(arr[0])</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i++) &#123;</span><br><span class="line">        <span class="built_in">document</span>.write(arr[i]);<span class="comment">//0 1 2</span></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"> </span><br></pre></td></tr></table></figure>



<h3 id="7-字符串：“上海的自来水来自海上”"><a href="#7-字符串：“上海的自来水来自海上”" class="headerlink" title="7. 字符串：“上海的自来水来自海上”"></a>7. <strong>字符串：“上海的自来水来自海上”</strong></h3><p> CharAt():通过下标找单个字符</p>
<p>indexOf:字符串中某一个指定的字符首次出现的位置</p>
<table>
<thead>
<tr>
<th>&lt;script type=”text/javascript”&gt;            var str=”上海的自来水来自海上”;            //var n=str.charAt(0);            document.write(str.indexOf(“上”))        &lt;/script&gt;</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>substring()</td>
<td>提取字符串中两个指定的索引号之间的字符。</td>
</tr>
</tbody></table>
<p>包前不包后</p>
<p>详细用法：</p>
<p>手册——javascript——js字符串——</p>
<h3 id="8-函数："><a href="#8-函数：" class="headerlink" title="8. 函数："></a>8. <strong>函数：</strong></h3><p><strong>函数是由事件驱动的</strong></p>
<p><strong>或者当它被调用时执行的可重复使用的代码块。</strong></p>
<p>系统函数与自定义</p>
<p><strong>系统函数：</strong></p>
<p>——————————</p>
<p>isNan()  值是数字给false，否则给true</p>
<p>字符串转换成数字：</p>
<p>parseInt（）【重点】</p>
<p>​    格式： parseInt(转换的变量)</p>
<p>​    注意：字符串转换的数字只能是字符串开头的数字</p>
<p>parseFloat 【保留了小数】</p>
<p>案例：</p>
<p>​    前提：通过js代码输出html代码</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.write(<span class="string">&quot;&lt;font size=&#x27;24&#x27; color=&#x27;red&#x27;&gt;文字&lt;/font&gt;&lt;br/&gt;&quot;</span>)</span><br><span class="line">	&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;=<span class="number">10</span>;i++) &#123;</span><br><span class="line">            <span class="built_in">document</span>.write(<span class="string">&quot;&lt;font size=&#x27;24&#x27; color=&#x27;red&#x27;&gt;文字&lt;/font&gt;&lt;br/&gt;&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>自定义函数：</p>
<p>自己来写函数</p>
<p><strong>如果你想让你的函数运行有效果，必须绑定</strong>事件【用户的动作——点击、打开了网页(加载)】</p>
<p>函数语法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>  函数名(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//代码块</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>事件：用户的动作——点击   onclick——点击事件</p>
<ol>
<li><p>先写好函数——这个函数具有什么功能？【里面代码块决定】</p>
</li>
<li><p>往html标签【如按钮】绑定事件【点击】同时加上函数名()</p>
</li>
</ol>
<p>思路：</p>
<p>1.用html写出效果 </p>
<p>2.写个函数，通过点击事件绑定 “计算”按钮</p>
<p>​    A.先获取1-2框里面的值，判断是什么类型？string–&gt;number</p>
<p>​    B.获取select的id–&gt;option的value–&gt;+ 、- 、* 、/</p>
<p>​    C.通过选择结构–&gt;根据用户选择+、-、*、/计算结果        if..else if  …else</p>
<p>​    D.获取结果框的value,然后把计算结果赋值给它</p>
<h3 id="9-Date对象"><a href="#9-Date对象" class="headerlink" title="9.Date对象:"></a><strong>9.Date对象:</strong></h3><p>日期对象用于处理日期和时间。</p>
<p>定义日期：</p>
<p><code>var  对象名 = new  Date()；</code></p>
<p>或</p>
<p><code>var  对象名 = new  Date(“2020-04-10”)；</code></p>
<p>对象名.方法名()</p>
<p>To方法组：</p>
<table>
<thead>
<tr>
<th>toDateString()</th>
<th>把 Date 对象的日期部分转换为字符串。</th>
</tr>
</thead>
<tbody><tr>
<td>&lt;script type=”text/javascript”&gt;            //1.创建一个Date对象            var d=new Date();                        //2.调用方法            var n=d.toDateString()//转换成字符串            document.write(typeof(n))            document.write(n)        &lt;/script&gt;</td>
<td></td>
</tr>
<tr>
<td>toString()</td>
<td>把 Date 对象转换为字符串。</td>
</tr>
</tbody></table>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">	<span class="comment">//1.创建一个Date对象</span></span><br><span class="line">    <span class="keyword">var</span> d=<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    <span class="comment">//2.调用方法</span></span><br><span class="line">    <span class="keyword">var</span> n=d.toString()<span class="comment">//转换成字符串</span></span><br><span class="line">    <span class="built_in">document</span>.write(<span class="keyword">typeof</span>(n))</span><br><span class="line">    <span class="built_in">document</span>.write(n)</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>Get方法组：</p>
<table>
<thead>
<tr>
<th>getFullYear()</th>
<th>从 Date 对象以四位数字返回年份。</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>&lt;script type=”text/javascript”&gt;            var d=new Date();            var y=d.getFullYear()            document.write(y)        &lt;/script&gt;</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>getDate()</strong></td>
<td>从 Date 对象返回一个月中的某一天 (1 ~ 31)。</td>
<td></td>
</tr>
<tr>
<td><strong>getDay()</strong></td>
<td>从 Date 对象返回一周中的某一天 (0 ~ 6)。</td>
<td></td>
</tr>
<tr>
<td><strong>getMonth()</strong></td>
<td>从 Date 对象返回月份 (0 ~ 11)。</td>
<td></td>
</tr>
<tr>
<td><strong>getHours()</strong></td>
<td>返回 Date 对象的小时 (0 ~ 23)。</td>
<td></td>
</tr>
<tr>
<td><strong>getMinutes()</strong></td>
<td>返回 Date 对象的分钟 (0 ~ 59)。</td>
<td></td>
</tr>
<tr>
<td><strong>getSeconds()</strong></td>
<td>返回 Date 对象的秒数 (0 ~ 59)。</td>
<td></td>
</tr>
<tr>
<td><strong>getMilliseconds()</strong></td>
<td>返回 Date 对象的毫秒(0 ~ 999)。</td>
<td></td>
</tr>
<tr>
<td><strong>getTime()</strong></td>
<td>返回 1970 年 1 月 1 日至今的毫秒数。</td>
<td></td>
</tr>
</tbody></table>
<p>Set方法组：</p>
<table>
<thead>
<tr>
<th>setDate()</th>
<th>设置 Date 对象中月的某一天 (1 ~ 31)。</th>
</tr>
</thead>
<tbody><tr>
<td><strong>setMonth()</strong></td>
<td>设置 Date 对象中月份 (0 ~ 11)。</td>
</tr>
<tr>
<td><strong>setFullYear()</strong></td>
<td>设置 Date 对象中的年份（四位数字）。</td>
</tr>
<tr>
<td>&lt;script type=”text/javascript”&gt;            var d=new Date();//            d.setDate(12);            d.setMonth(1)//0            document.write(d)        &lt;/script&gt;</td>
<td></td>
</tr>
</tbody></table>
<h3 id="10-math-算数-对象："><a href="#10-math-算数-对象：" class="headerlink" title="10.math(算数)对象："></a><strong>10.math(算数)对象：</strong></h3><table>
<thead>
<tr>
<th>abs(x)</th>
<th>返回数的绝对值。</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>X：表示参数</p>
<table>
<thead>
<tr>
<th>floor(x)</th>
<th>对数进行下舍入。</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>ceil(x)</strong></td>
<td>对数进行上舍入。</td>
<td></td>
</tr>
<tr>
<td><strong>max(x,y)</strong></td>
<td>返回 x 和 y 中的最高值。</td>
<td></td>
</tr>
<tr>
<td>min(x,y)</td>
<td>返回 x 和 y 中的最低值。</td>
<td></td>
</tr>
</tbody></table>
<p>随机数：</p>
<table>
<thead>
<tr>
<th>random()</th>
<th>返回 0 ~ 1 之间的随机数。</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>四舍五入：</p>
<table>
<thead>
<tr>
<th>round(x)</th>
<th>把数四舍五入为最接近的整数。</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>保留多少位小数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span>  d=<span class="number">12.345232</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.write(d.toFixed(<span class="number">3</span>))</span><br></pre></td></tr></table></figure>

<h2 id="三、BOM浏览器对象模型"><a href="#三、BOM浏览器对象模型" class="headerlink" title="三、BOM浏览器对象模型"></a>三、<strong>BOM浏览器对象模型</strong></h2><h3 id="1-定义："><a href="#1-定义：" class="headerlink" title="1. 定义："></a>1. <strong>定义：</strong></h3><p><strong>浏览器对象模型 (BOM)，使 JavaScript 有能力与浏览器“对话”、交互。</strong></p>
<p>浏览器对象模型（Browser Object Model）尚无正式标准。</p>
<h3 id="2-BOM的分类"><a href="#2-BOM的分类" class="headerlink" title="2. BOM的分类"></a>2. <strong>BOM的分类</strong></h3><p><img src="https://pic.imgdb.cn/item/6131e9a244eaada73983cd90.jpg"> </p>
<p>1.window对象———-是浏览器对象模型中的顶层对象</p>
<p>2.navigator对象———包含有关访问者的信息</p>
<p>3.screen对象————-包含用户屏幕的信息</p>
<p>4.history对象———–包含浏览器历史</p>
<p>5.location对象———-用于获取当前页面地址</p>
<p>6.document对象———-操作HTML标签、cookie</p>
<h3 id="3-Window对象"><a href="#3-Window对象" class="headerlink" title="3. Window对象"></a>3. <strong>Window对象</strong></h3><p>所有浏览器都支持 <strong>window</strong> 对象。它表示浏览器窗口。</p>
<p>prompt函数：用户点击确定拿到输入内容，点击取消啥也没有</p>
<p>​    对话框</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> n=prompt(<span class="string">&quot;请输入.....&quot;</span>)</span><br><span class="line">	<span class="built_in">document</span>.write(n)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>alert函数——警告框</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">	alert(<span class="string">&quot;123&quot;</span>)</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>confirm函数——确认框</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> n=confirm(<span class="string">&quot;你确定吗？&quot;</span>)<span class="comment">//返回结果布尔类型</span></span><br><span class="line">	<span class="keyword">if</span>(n==<span class="literal">true</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;=<span class="number">10</span>;i++)&#123;</span><br><span class="line">            alert(i)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="string">&quot;你好呀&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="built_in">document</span>.write(n)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>close函数</p>
<p>​    关闭顶层窗口</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">window</span>.close()</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>​    </p>
<p>open函数</p>
<p>​    格式：</p>
<p>​        <code>window.open(&quot;弹出窗口的url&quot;,&quot;窗口名称&quot;,&quot;窗口特征1=值,窗口特征2=值”);</code></p>
<p>​    参数</p>
<p><img src="https://pic.imgdb.cn/item/6131ea4944eaada73985045a.jpg"> </p>
<p>​    </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    	<span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;=<span class="number">10</span>;i++) &#123;</span><br><span class="line">        	<span class="built_in">window</span>.open(<span class="string">&quot;https://www.baidu.com&quot;</span>,i,<span class="string">&quot;height=200px,width=300px&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="4-Location对象"><a href="#4-Location对象" class="headerlink" title="4. Location对象"></a>4. <strong>Location对象</strong></h3><p>window.location 对象用于获得当前页面的地址 (URL)，并把浏览器重定向到新的页面。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">	<span class="built_in">document</span>.write(location.search)</span><br><span class="line">    <span class="built_in">document</span>.write(location.href)</span><br><span class="line">    <span class="built_in">document</span>.write(location.host)</span><br><span class="line">    <span class="built_in">document</span>.write(location.port)</span><br><span class="line">    <span class="built_in">document</span>.write(location.protocol)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>search：？问号后面的</p>
<p>href：完整的</p>
<p>host:主机名</p>
<p>port:当前的端口号</p>
<p>protocol：返回当前的协议</p>
<p>1.加载一个新的网页——assign（url）</p>
<p>注意：历史记录有记录 ctrl+H</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    location.assign(<span class="string">&quot;https://www.baidu.com&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>2.刷新当前页面 reload()</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    location.reload()</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>3.替换当前页面</p>
<p>​    replace(url)——历史记录会覆盖现有的历史记录</p>
<h3 id="5-History对象"><a href="#5-History对象" class="headerlink" title="5. History对象"></a>5. <strong>History对象</strong></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    	history.back()<span class="comment">//后退</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        history.forward()<span class="comment">//前进</span></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="6-navigator对象的介绍"><a href="#6-navigator对象的介绍" class="headerlink" title="6. navigator对象的介绍"></a>6. <strong>navigator对象的介绍</strong></h3><p>window.navigator 对象包含有关访问者浏览器的信息。</p>
<p>appName 属性返回浏览器的应用程序名称：</p>
<p>appCodeName 属性返回浏览器的应用程序代码名称：</p>
<p>appVersion  返回浏览器的平台和版本信息</p>
<p><a target="_blank" rel="noopener" href="https://www.w3school.com.cn/js/js_window_navigator.asp">https://www.w3school.com.cn/js/js_window_navigator.asp</a></p>
<h3 id="7-screen-对象包含有关用户屏幕的信息。"><a href="#7-screen-对象包含有关用户屏幕的信息。" class="headerlink" title="7. screen 对象包含有关用户屏幕的信息。"></a>7. <strong>screen 对象包含有关用户屏幕的信息。</strong></h3><p>width：宽度</p>
<p>height:高度</p>
<p>screen.availWidth 属性返回访问者屏幕的宽度，以像素计，减去诸如窗口工具条之类的界面特征。</p>
<h3 id="8-延时器与定时器【重点】"><a href="#8-延时器与定时器【重点】" class="headerlink" title="8. 延时器与定时器【重点】"></a>8. <strong>延时器与定时器【重点】</strong></h3><p>设定的时间间隔之后来执行代码</p>
<p>而不是在函数被调用后立即执行</p>
<p><strong>setTimeout()</strong>     未来的某时执行代码</p>
<p><code>var t=setTimeout(&quot;javascript语句&quot;,毫秒)</code></p>
<p>案例代码：设置延时器与清除延时器</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> t;<span class="comment">//为什么t声明在这儿？？</span></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">&quot;123&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        t=<span class="built_in">setTimeout</span>(<span class="string">&quot;fn1()&quot;</span>,<span class="number">3000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(t);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>定时器：</p>
<p>tt=setInterval(函数名,毫秒值);</p>
<p>​    当我隔多少秒调用这个函数，周期性的调用</p>
<p>clearInterval(tt)</p>
<p>​    清除定时或者延时的效果用这个</p>
<h2 id="四、DOM对象"><a href="#四、DOM对象" class="headerlink" title="四、DOM对象"></a>四、<strong>DOM对象</strong></h2><h2 id="1什么是DOM？"><a href="#1什么是DOM？" class="headerlink" title="1什么是DOM？"></a><strong>1什么是DOM？</strong></h2><p>Js通过DOM来操作HTML标签元素！</p>
<p>文档对象模型图：</p>
<p><img src="https://pic.imgdb.cn/item/6131eb6844eaada73986fe49.jpg"> </p>
<p>2.通过js来获取html标签、属性【控制它】</p>
<p>A.通过id选择器来获取html标签的控制权，只能获取1个，而且是第1个。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> pp1=<span class="built_in">document</span>.getElementById(<span class="string">&quot;p1&quot;</span>);</span><br><span class="line">	<span class="built_in">document</span>.write(pp1.innerText)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>innerText:获取、修改文本</p>
<p>B. 通过name属性来获取html的控制权， 能获取多个——结果是一个数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> arr=<span class="built_in">document</span>.getElementsByName(<span class="string">&quot;sex&quot;</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i++) &#123;</span><br><span class="line">        <span class="built_in">document</span>.write(arr[i].value)</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>C. 通过指定标签——结果是数组</p>
<p>D. 通过类名——结果是数组</p>
<p>Innertext与innerHTML的区别！！！</p>
<p>通过js的style对象来更改html标签的属性值：</p>
<p>Js对象.style.属性=”属性值”</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&quot;p1&quot;</span>).style.color=<span class="string">&quot;red&quot;</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>Js.src=”地址”  通过js来设置图片的路径</p>
<p>通过className来获取、设置html标签的属性、属性值；</p>
<p>存在问题：  获得是underfind</p>
<p>关于js获取html DOM 节点</p>
<p>注意：notetype【节点的类型】、nodeValue[节点的值]、nodeName</p>
<p><img src="https://pic.imgdb.cn/item/6131ebce44eaada73987a2e4.jpg"> </p>
<p>空格或者换行被看做文本节点。</p>
<p><img src="https://pic.imgdb.cn/item/6131ebda44eaada73987b885.jpg"> </p>
<p>获取第一个子节点</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> uu1=<span class="built_in">document</span>.getElementById(<span class="string">&quot;u1&quot;</span>)</span><br><span class="line">	alert(uu1.firstChild.nodeName)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>节点列表：</p>
<p>firstChild</p>
<p>​    获取元素的首个子节点</p>
<p>​    var aa=父节点对象.firstChild</p>
<p>​    注意</p>
<p>​        （1）.子节点并不一定都是元素节点，还有可能包含文本节点或者注释节点等节点。</p>
<p>​        （2）. </p>
<p>​    注意：关于拿不到nodeValue的值</p>
<p>​        </p>
<p>lastChild</p>
<p>​    获取元素最后一个节点</p>
<p>childNodes</p>
<p>​    获取元素的节点列表</p>
<p>​    数组</p>
<p>​    var arr=对象名.childNodes()</p>
<p>​    对象名.childNodes[1]</p>
<p>previouSibling</p>
<p>​    获取已知节点的前一个节点</p>
<p>nextSibling</p>
<p>​    获取已知节点的后一个节点</p>
<p>parentNode    </p>
<p>​    获取已知节点的父节点</p>
<p>通过js操作html的属性：</p>
<p>获取属性节点值</p>
<p>​    元素节点.getAttribute(属性名)</p>
<p>设置属性节点</p>
<p>​    元素节点.setAttrbute(属性名，属性节点)</p>
<p>删除属性节点</p>
<p>​    元素节点.removeAttribute(属性名，属性节点)</p>
<p>通过数组的方式去操作</p>
<p>​      每个 HTML 属性—-是属性节点</p>
<p>​        var dd=d1.attributes;</p>
<p>​            元素对象.attributes   拿到某个元素节点里面所有的属性节点—–数组</p>
<p>​        dd[下标].nodeName</p>
<p>​            拿到指定元素的指定属性的名称</p>
<p>​        dd[下标].nodevalue</p>
<p>​            拿到指定元素的指定属性的值</p>
<p>​        dd[下标].nodeType</p>
<p>​            </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/03/javascript%E5%9F%BA%E7%A1%80/" data-id="ckt45vknf0000zctybwkh7h5z" data-title="javascript基础" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-web前端基础" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/02/web%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/" class="article-date">
  <time class="dt-published" datetime="2021-09-02T09:54:41.000Z" itemprop="datePublished">2021-09-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/02/web%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/">web前端基础</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1-web运行的流程"><a href="#1-web运行的流程" class="headerlink" title="1.web运行的流程"></a>1.web运行的流程</h1><p><img src="https://pic.imgdb.cn/item/61309fbb44eaada739f724ed.jpg"></p>
<h1 id="2-HTML的基本标签"><a href="#2-HTML的基本标签" class="headerlink" title="2. HTML的基本标签"></a>2. <strong>HTML的基本标签</strong></h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;&lt;/p&gt;:定义段落</span><br><span class="line">&lt;h1&gt;&lt;/h1&gt;~~&lt;h6&gt;&lt;/h6&gt;：这是定义标题</span><br><span class="line">&lt;br/&gt;：换行标签</span><br><span class="line">&lt;strong&gt;&lt;/strong&gt;:字体加粗</span><br><span class="line">&lt;hr/&gt;:定义水平线</span><br></pre></td></tr></table></figure>

<p>上述都是简单在网页上面 修饰文字的标签，下面演示图与超链接！</p>
<p>插入图片的时候思考：</p>
<p>图片的位置</p>
<p>图片没有加载出来时候，替代文本是什么？</p>
<p>图片的宽、高</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;1.jpg&quot;  alt=&quot;像个男人吧&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p>Src:  图片的地址  </p>
<p>Alt:  图片加载不出来替代文本</p>
<p>Img叫标签、src与alt叫属性，双引号里面的叫属性值</p>
<p>一个标准的html标签的写法格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;标签  属性名1=“属性值1” 属性名2=“属性值2” &gt; 内容 &lt;/标签&gt;</span><br><span class="line">&lt;p align=&quot;center&quot;&gt;自7月18日，都美竹以一句?&lt;/p&gt;</span><br></pre></td></tr></table></figure>



<p>注意：标签里面套标签</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span>自<span class="tag">&lt;<span class="name">strong</span>&gt;</span>7月18日<span class="tag">&lt;/<span class="name">strong</span>&gt;</span>，都美竹以</span><br><span class="line">一句“站出来吧”<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>超链接：点击文字能够跳转其他网页</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>空链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;Demo4.html&quot;</span>&gt;</span>链接到本地目录文件<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.baidu.com/&quot;</span>&gt;</span>百度一些<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="3-html的列表、表格与表单"><a href="#3-html的列表、表格与表单" class="headerlink" title="3.html的列表、表格与表单"></a>3.html的列表、表格与表单</h1><p><strong>列表：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--列表 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">ul</span> &gt;</span><span class="comment">&lt;!--声明一个无序列表--&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>手机<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>电脑<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>箱包<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="tag">&lt;<span class="name">ol</span>&gt;</span><span class="comment">&lt;!--声明一个有序列表--&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>手机<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>电脑<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>箱包<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="tag">&lt;<span class="name">dl</span>&gt;</span><span class="comment">&lt;!--定义列表--&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">dt</span>&gt;</span>长江<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">dd</span>&gt;</span>是中国第1长河....<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">			</span><br><span class="line">			<span class="tag">&lt;<span class="name">dt</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">dd</span>&gt;</span>是中国第一大城市<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>表格：table  tr  td</strong></p>
<p>表格规律：  声明表格用table,记住border属性设置边框线条，有多少对tr标签决定了表格的行数，tr标签里面有多少对td标签，就决定了表格的列数。</p>
<p>表格的跨行： </p>
<p><code>&lt;td rowspan=&quot;2&quot;&gt;11&lt;/td&gt;</code></p>
<p><code>&lt;td colspan=&quot;2&quot;&gt;11&lt;/td&gt;</code></p>
<p><strong>表单：</strong></p>
<p>表单搜集用户的数据，向服务器传输。</p>
<p>登录、注册</p>
<p>定义一个表单：</p>
<p>&lt;form&gt; 标签用于为用户输入创建 HTML 表单。</p>
<p>表单能够包含 <strong>input</strong> 元素，比如文本字段、复选框、单选框、提交按钮等等。</p>
<p>表单还可以包含 <strong>menus</strong>、<strong>textarea</strong>、<strong>fieldset</strong>、<strong>legend</strong> 和 <strong>label</strong> 元素。</p>
<p>&lt;input&gt; 标签用于搜集用户信息。</p>
<p>type 属性规定 input 元素的类型。</p>
<table>
<thead>
<tr>
<th>button</th>
<th>定义可点击按钮（多数情况下，用于通过 JavaScript 启动脚本）。</th>
</tr>
</thead>
<tbody><tr>
<td>checkbox</td>
<td>定义复选框。</td>
</tr>
<tr>
<td>file</td>
<td>定义输入字段和 “浏览”按钮，供文件上传。</td>
</tr>
<tr>
<td>hidden</td>
<td>定义隐藏的输入字段。</td>
</tr>
<tr>
<td>image</td>
<td>定义图像形式的提交按钮。</td>
</tr>
<tr>
<td>password</td>
<td>定义密码字段。该字段中的字符被掩码。</td>
</tr>
<tr>
<td>radio</td>
<td>定义单选按钮。</td>
</tr>
<tr>
<td>reset</td>
<td>定义重置按钮。重置按钮会清除表单中的所有数据。</td>
</tr>
<tr>
<td>submit</td>
<td>定义提交按钮。提交按钮会把表单数据发送到服务器。</td>
</tr>
<tr>
<td>text</td>
<td>定义单行的输入字段，用户可在其中输入文本。默认宽度为 20 个字符。</td>
</tr>
</tbody></table>
<p>单选框</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;#&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span>  <span class="attr">value</span>=<span class="string">&quot;男&quot;</span> /&gt;</span>男</span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span>  <span class="attr">value</span>=<span class="string">&quot;女&quot;</span> /&gt;</span>女</span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交&quot;</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>复选框</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;#&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> /&gt;</span>足球</span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> /&gt;</span>足球</span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> /&gt;</span>足球</span><br><span class="line">			<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交&quot;</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>下拉列表</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span><span class="comment">&lt;!--定义下拉列表--&gt;</span></span><br><span class="line">				<span class="comment">&lt;!--定义下拉列表项--&gt;</span></span><br><span class="line">			  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span> =<span class="string">&quot;volvo&quot;</span>&gt;</span>Volvo<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">			  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span> =<span class="string">&quot;saab&quot;</span>&gt;</span>Saab<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">			  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;opel&quot;</span>&gt;</span>Opel<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">			  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;audi&quot;</span>&gt;</span>Audi<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="4-HTML的框架"><a href="#4-HTML的框架" class="headerlink" title="4. HTML的框架"></a>4. <strong>HTML的框架</strong></h1><p>通过使用框架，你可以在同一个浏览器窗口中显示不止一个页面。每份HTML文档称为一个框架，并且每个框架都独立于其他的框架。</p>
<p>&lt;frameset&gt;&lt;/frameset &gt;:定义如何将窗口分割为框架 </p>
<p> &lt;frame&gt; 标签定义 frameset 中的一个特定的窗口（框架）。</p>
<p> Frameset标签用的时候把body删除掉</p>
<p>垂直切割三列：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">frameset</span> <span class="attr">cols</span>=<span class="string">&quot;25%,50%,*&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;Demo1.html&quot;</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;Demo3.html&quot;</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;Demo3.html&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>水平分三列：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">frameset</span> <span class="attr">rows</span>=<span class="string">&quot;25%,50%,25%&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;../example/html/frame_a.html&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;../example/html/frame_b.html&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;../example/html/frame_c.html&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>综合切割：上下左右:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>框架<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">frameset</span> <span class="attr">rows</span>=<span class="string">&quot;20%,*&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;Demo1.html&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">frameset</span> <span class="attr">cols</span>=<span class="string">&quot;30%,*&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;demo12.html&quot;</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;Demo13.html&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">frameset</span>&gt;</span>		</span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="5-CSS的组成"><a href="#5-CSS的组成" class="headerlink" title="5. CSS的组成"></a>5. <strong>CSS的组成</strong></h1><p>CSS的语法的写法：</p>
<p><img src="https://pic.imgdb.cn/item/6130a3af44eaada739fd6e75.jpg"></p>
<h1 id="6-CSS的写法"><a href="#6-CSS的写法" class="headerlink" title="6.CSS的写法"></a>6.CSS的写法</h1><p>1.行内样式：CSS代码写在要设置的那个html标签里面</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">p</span> style=&quot;<span class="attribute">color</span>: red;&quot;&gt;这是段落标签&lt;/<span class="selector-tag">p</span>&gt;</span><br></pre></td></tr></table></figure>

<p>2.内嵌样式：在html代码中写一对style标签</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;  		<span class="selector-tag">p</span>&#123;	<span class="attribute">color</span>: red;	<span class="attribute">font-size</span>: <span class="number">30px</span>;&#125;	&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>3.外部文件样式：  </p>
<p>​    先写一个CSS文件</p>
<p>​    再通过link标签链接进入html中</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;../css/style1<span class="selector-class">.css</span>&quot; /&gt;</span><br></pre></td></tr></table></figure>

<p>一个标签被三种写法同时设置，它应遵循就近原则</p>
<h1 id="7-CSS的选择器"><a href="#7-CSS的选择器" class="headerlink" title="7.CSS的选择器"></a>7.CSS的选择器</h1><p>1.标签选择器： 把标签名字作为选择器名</p>
<p>2.类选择器： 不强调唯一性</p>
<p>​    (1) 自己给标签设置一个类名</p>
<p>​    (2) 选择器格式为：  .类名{…….}</p>
<p>3.Id选择器：</p>
<p><img src="https://pic.imgdb.cn/item/6130a47f44eaada739fec466.jpg"></p>
<h1 id="8-CSS的基本样式"><a href="#8-CSS的基本样式" class="headerlink" title="8. CSS的基本样式"></a>8. <strong>CSS的基本样式</strong></h1><h4 id="①-背景："><a href="#①-背景：" class="headerlink" title="①　背景："></a>①　<strong>背景：</strong></h4><p>背景颜色、背景图片</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*设置背景颜色*/</span>				<span class="comment">/*background-color: black;*/</span></span><br><span class="line"><span class="comment">/*设置背景图片*/</span>				<span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">../img/1.jpeg</span>);</span><br></pre></td></tr></table></figure>

<h4 id="②-字体"><a href="#②-字体" class="headerlink" title="②　字体"></a>②　<strong>字体</strong></h4><p>font-size: 36px; 大小</p>
<p>font-style: italic; 倾斜</p>
<h4 id="③-链接"><a href="#③-链接" class="headerlink" title="③　链接"></a>③　<strong>链接</strong></h4><p>· a:link - 普通的、未被访问的链接 </p>
<p>· a:visited - 用户已访问的链接 </p>
<p>· a:hover - 鼠标指针位于链接的上方 </p>
<p>· a:active - 链接被点击的时刻 </p>
<p>text-decoration: none; 去掉下划线</p>
<h4 id="④-文本"><a href="#④-文本" class="headerlink" title="④　文本"></a>④　<strong>文本</strong></h4><p>Text-align:设置文本对齐的方式</p>
<p>text-decoration 有 5 个值：</p>
<p>· none </p>
<p>· underline </p>
<p>· overline </p>
<p>· line-through </p>
<p>· blink </p>
<h4 id="⑤-列表：去掉项目符号"><a href="#⑤-列表：去掉项目符号" class="headerlink" title="⑤　列表：去掉项目符号"></a>⑤　<strong>列表：去掉项目符号</strong></h4><p>ul{</p>
<p>​                list-style-type: none;</p>
<p>​            }</p>
<h4 id="⑥-表格：宽、高、背景颜色、图片、线条"><a href="#⑥-表格：宽、高、背景颜色、图片、线条" class="headerlink" title="⑥　表格：宽、高、背景颜色、图片、线条"></a>⑥　<strong>表格：宽、高、背景颜色、图片、线条</strong></h4><h1 id="9-CSS的盒子模型"><a href="#9-CSS的盒子模型" class="headerlink" title="9.CSS的盒子模型"></a>9.CSS的盒子模型</h1><p>学习盒子模型：可以了解网页各个元素的宽和高！！！</p>
<p>学习一个标签：块  div</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">div&#123;</span><br><span class="line">				width: 200px;</span><br><span class="line">				height: 200px;</span><br><span class="line">				border: 1px red solid;</span><br><span class="line">			&#125;</span><br><span class="line">div&#123;</span><br><span class="line">				width: 200px;</span><br><span class="line">				height: 200px;</span><br><span class="line">				padding-bottom: 10px;</span><br><span class="line">				/*</span><br><span class="line">				 top  bottom  left  right</span><br><span class="line">				 * */</span><br><span class="line">				margin: 10px;</span><br><span class="line">				border: 1px red solid;</span><br><span class="line">			&#125;</span><br></pre></td></tr></table></figure>

<h1 id="10-CSS的浮动"><a href="#10-CSS的浮动" class="headerlink" title="10. CSS的浮动:"></a>10. <strong>CSS的浮动:</strong></h1><p><img src="https://pic.imgdb.cn/item/6130a59344eaada73900739a.jpg"></p>
<h1 id="11-CSS的定位"><a href="#11-CSS的定位" class="headerlink" title="11. CSS的定位:"></a>11. <strong>CSS的定位:</strong></h1><p>它允许你定义元素框相对于其正常位置应该出现的位置，或者相对于父元素、另一个元素甚至浏览器窗口本身的位置</p>
<p><strong>relative【相对定位】</strong></p>
<p>元素框偏移某个距离。元素仍保持其未定位前的形状，它原本所占的空间仍保留。 参照：自身位置 </p>
<p><strong>absolute【决对定位】</strong></p>
<p>元素框从文档流完全删除，并相对于其包含块【父级】定位。包含块可能是文档中的另一个元素或者是初始包含块。元素原先在正常文档流中所占的空间会关闭，就好像元素原来不存在一样。元素定位后生成一个块级框，而不论原来它在正常流中生成何种类型的框。 </p>
<p><strong>fixed【固定定位】</strong></p>
<p>元素框的表现类似于将 position 设置为 absolute，不过其包含块是视窗本身。 </p>
<p>用到堆叠： z-index</p>
<p>当多个块使用绝对定位到一起的时候，使用z_index可以调整其上下顺序，它的值可以是正数、0、负数，值越大，越往上。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/02/web%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/" data-id="ckt2s5g1900009ctydjbige6n" data-title="web前端基础" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-http协议" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/02/http%E5%8D%8F%E8%AE%AE/" class="article-date">
  <time class="dt-published" datetime="2021-09-02T09:42:17.000Z" itemprop="datePublished">2021-09-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/02/http%E5%8D%8F%E8%AE%AE/">http协议</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1．http-协议的简介"><a href="#1．http-协议的简介" class="headerlink" title="1．http 协议的简介"></a>1．http 协议的简介</h1><h2 id="1-http-协议简介"><a href="#1-http-协议简介" class="headerlink" title="1) http 协议简介"></a>1) http 协议简介</h2><p>超文本传输协议（HTTP，HyperText Transfer Protocol)是互联网上应用最为广泛的 </p>
<p>一种网络协议。所有的 WWW 文件都必须遵守这个标准。设计 HTTP 最初的目的是为了 </p>
<p>提供一种发布和接收 HTML(超文本标记语言) 页面的方法。 </p>
<p><strong>HTTP 协议在网络 OSI 模型中属于应用层协议，应用层协议除了 HTTP 还有：FTP，</strong> </p>
<p><strong>SMTP，DNS，RIP，Telnet 等。</strong> </p>
<p>HTTP 协议工作于<strong>客户端—服务端</strong>架构上。浏览器作为 HTTP 客户端通过 <strong>URL(网址)</strong> 向 </p>
<p>HTTP 服务端（即 Web 服务器） 发送请求。 </p>
<h2 id="2-什么是超文本？"><a href="#2-什么是超文本？" class="headerlink" title="2) 什么是超文本？"></a>2) 什么是超文本？</h2><p>超文本英文名称叫做 Hypertext，我们在浏览器里面看到的网页就是超文本解析而成的， </p>
<p>其网页源代码是一系 列 HTML 代码，里面包含了一系列标签，如 img 显示图片，p 指定显 </p>
<p>示段落等，浏览器解析这些标签后便形成了我们平常看到的网页，而这网页的源代码 HTML </p>
<p>就可以称作超文本。 </p>
<p>例如我们在 Chrome 浏览器里面打开如百度页面，右键点击”查看源代码”，这些源代 </p>
<p>码都是超文本。</p>
<h2 id="3-什么是-URL？"><a href="#3-什么是-URL？" class="headerlink" title="3) 什么是 URL？"></a>3) 什么是 URL？</h2><p>我们在浏览器的地址栏里输入的网站地址叫做 URL (Uniform Resource Locator，统 </p>
<p>一资源定位符)。就像每家每 户都有一个门牌地址一样，每个网页也都有一个 Internet 地 </p>
<p>址（如：<a target="_blank" rel="noopener" href="http://www.baidu.com)./">http://www.baidu.com）。</a> </p>
<p>当你在浏览器的 地址框中输入一个 URL 或是单击一个超级链接时，URL 就确定了要浏 </p>
<p>览的地址。浏览器通过超文本传输协议(HTTP)， 将 Web 服务器上站点的网页代码提取出 </p>
<p>来，并翻译成漂亮的网页。 </p>
<h2 id="4-http-功能"><a href="#4-http-功能" class="headerlink" title="4) http 功能"></a>4) http 功能</h2><p>HTTP 协议（HyperText Transfer Protocol，超文本传输协议）是用于从服务器传输 </p>
<p>超文本到本地浏览器的传输协议。 </p>
<p>它可以使浏览器更加高效，使网络传输减少。它不仅保证计算机正确快速地传输超文本 </p>
<p>文档，还确定传输文档中的哪一部分，以及哪部分内容首先显示(如文本先于图形)等。 </p>
<h2 id="5-http-的特点"><a href="#5-http-的特点" class="headerlink" title="5) http 的特点"></a>5) http 的特点</h2><p><strong>无连接：</strong>无连接的含义是限制每次连接只处理一个请求。服务器处理完客户端的请求，并收到 </p>
<p>客户端的应答后， 即断开连接。采用这种方式可以节省传输时间。 </p>
<p><strong>媒体独立：</strong>这意味着，只要客户端和服务器知道如何处理的数据内容，任何类型的数据都可 </p>
<p>以通过 HTTP 发送。客户端以及服务器指定使用适合的 MIME-type 来传输。<br><strong>无状态：</strong>HTTP 协议是无状态协议。无状态是指协议对于事务处理没有记忆能力。如果服务 </p>
<p>器不需要先前信 息，那么它的应答就比较快。但是缺少状态意味着如果后续处理需要前面 </p>
<p>的信息，则它必须重传，这样可 能导致每次连接传送的数据量增大，此时可以设置缓存。 </p>
<h2 id="6-http-与-https-的区别？"><a href="#6-http-与-https-的区别？" class="headerlink" title="6) http 与 https 的区别？"></a>6) http 与 https 的区别？</h2><p>现在在浏览很多网站时，通过浏览器地址栏可以看到有的网站是 https 开头 </p>
<p>（<a target="_blank" rel="noopener" href="https://www.baidu.com/">https://www.baidu.com/</a> ）, 但是 有的是 http 开头（如<a target="_blank" rel="noopener" href="http://www.weather.com.cn/">http://www.weather.com.cn</a> ）这两种有什么区别呢？难道加了 s 就是复数吗？ </p>
<p>HTTPS 的全称是 Hyper Text Transfer Protocol over Secure Socket Layer，是以 </p>
<p>安全为目标的 HTTP 通道，简单讲是 HTTP 的安全版，即 HTTP 下加入 SSL 层（Secure </p>
<p>Sockets Layer 安全套接层），简称为 HTTPS。 </p>
<p><strong>S 其实是 Security 单词的首字母。</strong> </p>
<p><strong>HTTPS 的安全基础是 SSL，因此通过它传输的内容都是经过 SSL 加密的，它的主要作用</strong> </p>
<p><strong>可以分为两种：</strong> </p>
<ol>
<li><p>是建立一个信息安全通道，来保证数据传输的安全。 </p>
</li>
<li><p>确认网站的真实性，凡是使用了 https 的网站，都可以通过点击浏览器地址栏的锁头标 </p>
</li>
</ol>
<p>志来查看网站认证之 后的真实信息，也可以通过 CA 机构颁发的安全签章来查询。现在越来越多的网站和 APP 都已经向 HTTPS 方向发展。例如：谷歌从 2017 年 1 月推出的 Chrome 56 开始， 对未进行 HTTPS 加密的网址链接亮出风险提示，即在地址栏的显著位置提醒用户“此网页不安全”。 </p>
<h2 id="7-http-与-TCP-IP-的特点："><a href="#7-http-与-TCP-IP-的特点：" class="headerlink" title="7.http 与 TCP/IP 的特点："></a>7.http 与 TCP/IP 的特点：</h2><p><strong>TCP/IP 协议是传输层协议，主要解决数据如何在网络中传输</strong>，<strong>而 HTTP 是应用层协</strong> </p>
<p><strong>议，主要解决如何包装数据。</strong> </p>
<p>关于 TCP/IP 和 HTTP 协议的关系，网络有一段比较容易理解的介绍：“<strong>我们在传输</strong> </p>
<p><strong>数据时，可以只使用（传输层） TCP/IP 协议</strong>，但是那样的话，如果没有应用层，便无法 </p>
<p>识别数据内容，<strong>如果想要使传输的数据有意义，则必须使用到应用层协议</strong>，应用层协议有很 </p>
<p>多，比如 HTTP、FTP、TELNET 等，也可以自己定义应用层协议。 WEB 使用 HTTP 协议作应用层协议，以封装 HTTP 文本信息，然后使用 TCP/IP 做 传输层协议将它发到网络上。”</p>
<h1 id="2．http-的请求"><a href="#2．http-的请求" class="headerlink" title="2．http 的请求"></a>2．http 的请求</h1><p>我们在浏览器输入百度首页的地址：<a target="_blank" rel="noopener" href="https://www.baidu.com/">https://www.baidu.com/</a> 输入之后浏览器会给 </p>
<p>我们打开百度首页。 </p>
<p>实际上这 个过程是浏览器向网站所在的服务器发送了一个 <strong>Request</strong>，即请求，网站服 </p>
<p>务器接收到这个 Request 之后进行处 理和解析，然后返回对应的一个 <strong>Response</strong>，即响 </p>
<p>应，然后传回给浏览器，Response 里面就包含了页面的源代码 </p>
<p>等内容，浏览器再对其进行解析便将网页呈现了出来。 </p>
<p>列如，使用火狐浏览器，打开百度，查看页面的请求过程。 </p>
<p>需要详细步骤，点击这边： </p>
<p><a target="_blank" rel="noopener" href="https://zhidao.baidu.com/question/428894531624967852.html">https://zhidao.baidu.com/question/428894531624967852.html</a></p>
<h2 id="1-请求的四部分"><a href="#1-请求的四部分" class="headerlink" title="1) 请求的四部分"></a>1) 请求的四部分</h2><p>•Request Method: 请求方式 </p>
<p>•Request URL: 请求链接 </p>
<p>•Request Headers: 请求头 </p>
<p>•Request Body: 请求体 </p>
<h2 id="2-请求方式—抓用户名和密码"><a href="#2-请求方式—抓用户名和密码" class="headerlink" title="2) 请求方式—抓用户名和密码"></a>2) 请求方式—抓用户名和密码</h2><p><strong>请求方式，请求方式常见的有两种类型，GET 和 POST。</strong> </p>
<p><strong>GET 用于信息获取</strong>，而且应该是安全的和幂等的(幂等的的意思就是一个操作不会修改 </p>
<p>状态信息，并且每次操作的时候都返回同样的结果。) <strong>从发送请求的角度，GET 请求相当</strong> </p>
<p><strong>于我们在数据库中做了查询的操作， 这样的操作不影响数据库本身的数据。</strong> </p>
<p><strong>POST 表示可能会修改服务器上资源的请求，也相当于在数据库中做了修改的操作，</strong> </p>
<p><strong>会影响数据库本身的数据</strong>（比如：注册了账户，发了帖子，做了评论，得到了积分等。这种 </p>
<p>情况下，资源状态被改变了）。 </p>
<p><strong>案例：</strong> </p>
<p>Get 请求： </p>
<p>在浏览器地址栏输入：<a target="_blank" rel="noopener" href="https://www.baidu.com/s?wd=appium">https://www.baidu.com/s?wd=appium</a> 并回车，这个其实就是在百度搜 索 appium 这个关键词。URL 中 包含了请求的参数信息，这里参数 wd 就是要搜寻的关键字。</p>
<p>POST 请求： </p>
<p>一般来说，网站登录验证的时候，需要提交用户名密码，这里包含了敏感信息，使用 GET 方式请求的话密码就会 暴露在 URL 里面，造成密码泄露，所以这里最好以 POST 方 式发送。文件的上传时，由于文件内容比较大，也会 选用 POST 方式。比如百度账户登 录，如下图所示： </p>
<p>列如：使用火狐浏览器抓用户名和密码 </p>
<h2 id="3-请求网址-URL"><a href="#3-请求网址-URL" class="headerlink" title="3) 请求网址(URL)"></a>3) 请求网址(URL)</h2><p>Request URL </p>
<p>就是请求的网址，即统一资源定位符，用 URL 可以唯一确定我们想请 </p>
<p>求的资源。比如： </p>
<p><a target="_blank" rel="noopener" href="https://www.baidu.com/">https://www.baidu.com/</a> </p>
<h2 id="4-请求头（Request-Headers）"><a href="#4-请求头（Request-Headers）" class="headerlink" title="4) 请求头（Request Headers）"></a>4) 请求头（Request Headers）</h2><p>请求头，用来说明服务器要使用的附加信息，比较重要的信息有 Cookie、Referer、 </p>
<p>User-Agent 等，下面将一些 常用的头信息说明如下： </p>
<ul>
<li>Accept，请求报头域，用于指定客户端可接受哪些类型的信息。 </li>
<li>Accept-Language，指定客户端可接受的语言类型。 </li>
<li>Accept-Encoding，指定客户端可接受的内容编码。 </li>
<li>Host，用于指定请求资源的主机 IP 和端口号，其内容为请求 URL 的原始服务器或网关 的位置。从 HTTP 1.1 版本开始，Request 必须包含此内容。 </li>
<li>Cookie，也常用复数形式 Cookies，是网站为了辨别用户进行 Session 跟踪而储存在 用户本地的数据。Cookies 的主要功能就是维持当前访问会话。 </li>
<li>Referer，此内容用来标识这个请求是从哪个页面发过来的，服务器可以拿到这一信息并做  相应的处理，如 做来源统计、做防盗链处理等。 </li>
<li>User-Agent，简称 UA，它是一个特殊字符串头，使得服务器能够识别客户使用的操作系统 及版本、浏览器 及版本等信息。 </li>
<li>Content-Type，即 Internet Media Type，互联网媒体类型，也叫做 MIME 类型，在 HTTP 协议消息头 中，使用它来表示具体请求中的媒体类型信息。例如 application/x-www-form-urlencoded 表示表单数 据， text/html 代表 HTML 格式， image/gif 代表 GIF 图片，application/json 代表json文件</li>
</ul>
<h2 id="5-请求体"><a href="#5-请求体" class="headerlink" title="5) 请求体"></a>5) 请求体</h2><p>即请求体，一般用于 POST 请求中，主要定义向服务器提交的数据类型，而对于 GET </p>
<p>请求 Request Body 则为 空。 </p>
<p>比如在登录之前我们填写了用户名和密码信息，提交时就这些内容就会以 Form </p>
<p>Data 的形式提交给服务器，此时注意 Request Headers 中指定了 Content-Type 为 </p>
<p>application/x-www-form-urlencoded。</p>
<p>只有设 置 Content-Type 为 application/x-www-form-urlencoded 才会以 Form Data 形式提交，另外我们也可以 将 Content-Type 设置为 application/json 来 提交 Json 数据，或者设置为 multipart/form-data 来上传文件。</p>
<p>常用 Content-Type 和 POST 提交数据方式的关系：</p>
<p><img src="https://pic.imgdb.cn/item/61309e2b44eaada739f470ba.jpg"></p>
<h1 id="3．http-的响应"><a href="#3．http-的响应" class="headerlink" title="3．http 的响应"></a>3．http 的响应</h1><h2 id="1-响应的三部分"><a href="#1-响应的三部分" class="headerlink" title="1.响应的三部分"></a>1.响应的三部分</h2><p>上述内容讲述的 http 协议的请求，接着描述 http 协议的响应。 </p>
<p><strong>Response，即响应，由服务端返回给客户端。Response 可以划分为三部分:</strong> </p>
<p>• Response Status Code ：响应状态码</p>
<p>• Response Headers ：响应头</p>
<p>• Response Body ：响应提</p>
<p><strong>Response Status Code</strong></p>
<p>响应状态码，此状态码表示了服务器的响应状态，如 200 则代表服务器正常响应，404 </p>
<p>则代表页面未找到，500 则 代表服务器内部发生错误。常用响应状态码如下： </p>
<p>可以参考完整的 http 协议的响应状态码： </p>
<p><a target="_blank" rel="noopener" href="https://tool.oschina.net/commons?type=5">https://tool.oschina.net/commons?type=5</a> </p>
<p>1XX： 请求未完成</p>
<p>2XX:  表示响应成功</p>
<p>3XX：表示转发/重定向<br>4XX: 路径找不到</p>
<p>5XX：服务器内部资源错误 </p>
<h2 id="2-响应头"><a href="#2-响应头" class="headerlink" title="2. 响应头"></a>2. 响应头</h2><p>响应头，其中包含了服务器对请求的应答信息，如 Content-Type、Server、Set-Cookie </p>
<p>等，下面将一些常用的头信息说明如下： </p>
<ul>
<li>Date，标识 Response 产生的时间。 </li>
<li>Last-Modified，指定资源的最后修改时间。 </li>
<li>Content-Encoding，指定 Response 内容的编码。 </li>
<li>Server，包含了服务器的信息，名称，版本号等。 </li>
<li>Content-Type，文档类型，指定了返回的数据类型是什么，如 text/html 则代表返回 HTML 文档， application/x-javascript 则代表返回 JavaScript文件，image/jpeg 则代表返回了图片。 </li>
<li>Set-Cookie，设置 Cookie，Response Headers 中的 Set-Cookie 即告诉浏览器需要将此内容放在 Cookies 中，下次请求携带 Cookies 内容。 </li>
<li>Expires，指定 Response 的过期时间，使用它可以控制代理服务器或浏览器将内容更新到缓存中，如果再 次访问时，直接从缓存中加载，降低服务器负载，缩短加载时间。</li>
</ul>
<h2 id="3-响应体"><a href="#3-响应体" class="headerlink" title="3. 响应体"></a>3. 响应体</h2><p>即响应体，响应的正文数据都是在响应体中，如请求一个网页，它的响应体就是网页的 </p>
<p>HTML 代码，请求一张图 片，它的响应体就是图片的二进制数据。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/02/http%E5%8D%8F%E8%AE%AE/" data-id="ckt2r21ul0000ugty9q2y1bru" data-title="http协议" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-数据库基础" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/01/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/" class="article-date">
  <time class="dt-published" datetime="2021-09-01T08:37:45.000Z" itemprop="datePublished">2021-09-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/01/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/">数据库基础</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="1-什么是数据库？"><a href="#1-什么是数据库？" class="headerlink" title="1.什么是数据库？"></a>1.什么是数据库？</h1><p> 储存文件【数据的仓库】<br> 可以在数据库中对文件进行增删改查</p>
<h1 id="2-常见的数据库有哪些？"><a href="#2-常见的数据库有哪些？" class="headerlink" title="2.常见的数据库有哪些？"></a>2.常见的数据库有哪些？</h1><p>关系型数据库<br> SQL server   商业  大  G   .net<br> oracle       商业  大  G   java<br> mysql        中小型  开源  java/php/pyhton<br> DB2</p>
<table>
<thead>
<tr>
<th><strong>SQLserver</strong></th>
<th><strong>商业</strong></th>
<th><strong>大</strong></th>
<th><strong>.net</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>oracle</strong></td>
<td><strong>商业</strong></td>
<td><strong>大</strong></td>
<td><strong>java</strong></td>
</tr>
<tr>
<td><strong>mysql</strong></td>
<td><strong>中小型</strong></td>
<td><strong>中小型</strong></td>
<td><strong>java/php/python</strong></td>
</tr>
<tr>
<td><strong>DB2</strong></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><strong>非关系型数据库：</strong><br>  <strong>redis</strong></p>
<h1 id="3-基本指令"><a href="#3-基本指令" class="headerlink" title="3.基本指令"></a><strong>3.基本指令</strong></h1><pre><code>#显示当前mysql上的所有数据库
  SHOW DATABASES 

#查询当前库下面的所有表
  SHOW TABLES 

创建表的顺序：
    先创库
    再选择库
    再创建表

删除一个库： drop database 库名


#先判断  再删除
    DROP DATABASE IF EXISTS 库名;

#设置数据库的字符编码
    CREATE DATABASE BBB DEFAULT CHARACTER SET=&#39;utf8&#39;;
</code></pre>
<p><strong>创建表的语法</strong></p>
<pre><code>create table 表名(
   字段名1  数据类型  约束,
   字段名2  数据类型，
   ...  
   字段名n  数据类型
);
</code></pre>
<p><strong>增删改查</strong></p>
<p>例：<code>insert into Strdents (姓名,性别,出生日期) values (&#39;王伟华&#39;,&#39;男&#39;,&#39;1983/6/15&#39;)</code></p>
<p>例：<code>delete from a where name=&#39;王伟华&#39;</code>（删除表a中列值为王伟华的行） </p>
<p> 例：<code>update addressList set 年龄=18 where 姓名=&#39;王伟华&#39;</code></p>
<p>例：<code>select * from a</code></p>
<h1 id="4-数据类型"><a href="#4-数据类型" class="headerlink" title="4.数据类型"></a><strong>4.数据类型</strong></h1><p>  <strong>1.数字——int</strong><br>  <strong>2.字符/字符串——varchar(长度)</strong><br>  <strong>3.时间  ——datetime</strong></p>
<h1 id="5-约束："><a href="#5-约束：" class="headerlink" title="5.约束："></a><strong>5.约束：</strong></h1><p><strong>1.非空约束   ——该列不能出现空值</strong><br><strong>2.默认值约束—— default</strong><br><strong>3.主键约束——primary key</strong><br><strong>4.外键约束——foreign key<br>5.标识列（自动增长）——auto_increment</strong>       </p>
<p><strong>6.唯一约束——unique</strong></p>
<p><strong>那种情况下用一起主外键？</strong><br>   <strong>多表关联</strong></p>
<p><strong>表与表有几种关系？</strong><br>    <strong>1  vs  多 ：</strong></p>
<p>​              <strong>把1的一方的主键与多的一方的外键关联起来</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#商品类别与商品</span><br><span class="line">CREATE TABLE pro_n(</span><br><span class="line">   pro_id INT PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">   pro_name VARCHAR(50)</span><br><span class="line">);</span><br><span class="line">CREATE TABLE product(</span><br><span class="line">   p_id INT PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">   p_name VARCHAR(50),</span><br><span class="line">   pp_id INT,</span><br><span class="line">   FOREIGN KEY(pp_id) REFERENCES pro_n(pro_id)</span><br><span class="line"></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>  <strong>多对多关系：</strong><br>    <strong>准备一张第三方表，表上准备两个外键和两张表主键关联</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE product(</span><br><span class="line">   p_id INT PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">   p_name VARCHAR(50)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">CREATE TABLE orders(</span><br><span class="line">   o_id INT PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">   o_name VARCHAR(50)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#创建第三方表</span><br><span class="line">CREATE TABLE assess(</span><br><span class="line">   o_id INT,</span><br><span class="line">   p_id INT,</span><br><span class="line">   a_text VARCHAR(100),</span><br><span class="line">   FOREIGN KEY(o_id) REFERENCES orders(o_id),</span><br><span class="line">   FOREIGN KEY(p_id) REFERENCES product(p_id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>



<h1 id="6-表结构的操作"><a href="#6-表结构的操作" class="headerlink" title="6.表结构的操作"></a><strong>6.表结构的操作</strong></h1><p><strong>alter table 旧表名 rename 新表名;    ——修改表名</strong></p>
<p><strong>alter table 表名 add 字段名 数据类型 [约束];   ——新增一列</strong></p>
<p><strong>alter table 表名 drop 字段名;——删除一列</strong></p>
<p><strong>alter table 表名 change 旧字段名 新字段名 新数据类型; –修改字段名和数据类型</strong></p>
<p><strong>alter table 表名 modify 字段名 新数据类型;  –只修改字段数据类型</strong></p>
<p><strong>复制操作</strong></p>
<p><strong>仅结构：create table 新表名 like 源表;</strong><br><strong>结构和数据：create table 新表名 select * from 源表;</strong></p>
<h1 id="7-导入与导出"><a href="#7-导入与导出" class="headerlink" title="7.导入与导出"></a><strong>7.导入与导出</strong></h1><p>​    <strong>把数据库备份</strong><br>​        <strong>选择库——》备份/导出——》以sql转储文件…–&gt;取名–》导出</strong><br>​    <strong>把数据导入到数据库里面来</strong><br>​        <strong>准备一个数据库</strong><br>​        <strong>数据库——》导入以sql转储文件…–&gt;选择文件——》执行</strong></p>
<p>​                                                                                                                                                                                                         </p>
<h1 id="8-数据类型和约束"><a href="#8-数据类型和约束" class="headerlink" title="8.数据类型和约束"></a>8.<strong>数据类型和约束</strong></h1><p>创建数据库时，没有设置编码，那么无法保存中文</p>
<p>解决方案：在创建数据库名称后面加上default character SET=’utf8’</p>
<p>例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">drop database if EXISTS BBB;</span><br><span class="line"></span><br><span class="line">create database BBB default character SET=&#x27;utf8&#x27;;</span><br></pre></td></tr></table></figure>



<h4 id="一、-数据类型"><a href="#一、-数据类型" class="headerlink" title="一、 数据类型"></a><strong>一、 数据类型</strong></h4><table>
<thead>
<tr>
<th>数据类型</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>整数</td>
<td>tinyint(1字节)</td>
<td>范围：-128<del>127 /无符号范围（0</del>255）</td>
</tr>
<tr>
<td>smallint(2字节)</td>
<td>范围：-32768<del>32767 /无符号范围（0</del>65535）</td>
<td></td>
</tr>
<tr>
<td>mediumint(3字节)</td>
<td>范围：-8388608<del>8388607 /无符号范围（0</del>16777215）</td>
<td></td>
</tr>
<tr>
<td>int(4字节)</td>
<td>范围：-2147483648<del>21474483647 /无符号范围（0</del>4294967295）</td>
<td></td>
</tr>
<tr>
<td>bigint(8字节)</td>
<td>范围：-9233372036854775808<del>9233372036854775808/无符号范围（0</del>18446744073709551615）</td>
<td></td>
</tr>
<tr>
<td>小数</td>
<td>float(4字节)</td>
<td>单精度浮点，精准6个数字</td>
</tr>
<tr>
<td>double(8字节)</td>
<td>双精度浮点，精准17个数字</td>
<td></td>
</tr>
<tr>
<td>decimal</td>
<td>Decimal(5,2) 则表示范围为：-999.99~999.99</td>
<td></td>
</tr>
<tr>
<td>字符串</td>
<td>char</td>
<td>固定长度字符串，一个汉字两个字节</td>
</tr>
<tr>
<td>varchar</td>
<td>可变长度字符串，一个汉字两个字节</td>
<td></td>
</tr>
<tr>
<td>text</td>
<td>长文本</td>
<td></td>
</tr>
<tr>
<td>日期类型</td>
<td>date</td>
<td>YYYY-MM-DD</td>
</tr>
<tr>
<td>time</td>
<td>HH:ii:ss</td>
<td></td>
</tr>
<tr>
<td>dateTime</td>
<td>YYYY-MM-DD HH:ii:ss</td>
<td></td>
</tr>
<tr>
<td>year</td>
<td>仅表示年份</td>
<td></td>
</tr>
<tr>
<td>布尔类型</td>
<td>bit</td>
<td>只能保存0|1，用来表示真和假</td>
</tr>
<tr>
<td>二进制文件</td>
<td>blob</td>
<td>存储二进制文件，所有带Blob的都是二进制类型</td>
</tr>
</tbody></table>
<p><strong>char和varchar的区别：</strong></p>
<p>  char(10)  一个汉字两个字节  固定长度  ‘你好    ’</p>
<p>  varchar(10)  一个汉字两个字节 可变长度 ‘你好’</p>
<p><strong>常用数据类型：</strong></p>
<p>int float double decimal char varchar datetime bit</p>
<p><strong>MYSQL建议：</strong></p>
<p>应该用日期和时间数据类型，而不是用字符串来存储日期和时间。</p>
<p>尽量采用精确小数类型（例如decimal），而不采用浮点数类型</p>
<p>尽量避免NULL字段，建议将字段指定为NOT NULL约束。</p>
<h4 id="二、-SQL建表"><a href="#二、-SQL建表" class="headerlink" title="二、 SQL建表"></a><strong>二、 SQL建表</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">use 数据库; -- 先切换到具体的数据库</span><br><span class="line"></span><br><span class="line">drop table if exists classes; -- 判断存在则删除</span><br><span class="line"></span><br><span class="line">create table classes  -- 创建班级表</span><br><span class="line"></span><br><span class="line">(</span><br><span class="line"></span><br><span class="line">  CID int not null,</span><br><span class="line"></span><br><span class="line">  Cname varchar(20) null</span><br><span class="line"></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>注：</p>
<p>1.每条语句后面使用分号结束</p>
<p>2.列和列之间使用逗号隔开，最后一列无需逗号</p>
<p>3.默认有符号（zerofill），无符号（unsigned）</p>
<h4 id="三、-约束"><a href="#三、-约束" class="headerlink" title="三、 约束"></a><strong>三、 约束</strong></h4><p><strong>约束关键字：</strong></p>
<p> 数据类型：省</p>
<p> 非空约束：not null</p>
<p> 默认值约束：default</p>
<p> 检查约束：没有</p>
<p> 主键约束：primary key</p>
<p> 唯一约束：unique</p>
<p> 标识列（自动增长）：auto_increment</p>
<p> 外键约束：foreign key</p>
<p><strong>如何添加约束：</strong>建表时数据类型后面直接加约束</p>
<p><strong>如：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Drop table if exists students; -- 判断存在则删除</span><br><span class="line"></span><br><span class="line">create table students</span><br><span class="line"></span><br><span class="line">(</span><br><span class="line"></span><br><span class="line">  SID int not null primary key auto_increment,   -- 非空 主键 自动增长      </span><br><span class="line"></span><br><span class="line">  Sname varchar(20) null,							 -- 允许空</span><br><span class="line"></span><br><span class="line">  Ssex varchar(2) not null default ’男’,     -- 默认’男’</span><br><span class="line"></span><br><span class="line">  SCard varchar(18) not null unique,         -- 唯一</span><br><span class="line"></span><br><span class="line">  SCID int,</span><br><span class="line"></span><br><span class="line"> foreign key(SCID) references classes(CID)    -- 单独加外键</span><br><span class="line"></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="四、-表的其它操作"><a href="#四、-表的其它操作" class="headerlink" title="四、 表的其它操作"></a><strong>四、 表的其它操作</strong></h4><p><strong>修改表名：</strong></p>
<p> <code> alter table 旧表名 rename 新表名;</code></p>
<p><strong>修改表结构：</strong></p>
<p><code>  alter table 表名 add 字段名 数据类型 [约束];</code></p>
<p><code>  alter table 表名 drop 字段名;</code></p>
<p><code>  alter table 表名 change 旧字段名 新字段名 新数据类型; --修改字段名和数据类型</code></p>
<p><code>  alter table 表名 modify 字段名 新数据类型;  --只修改字段数据类型</code></p>
<p><strong>复制表：</strong></p>
<p>  仅结构：<code>create table 新表名 like 源表;</code></p>
<p>  结构和数据：<code>create table 新表名 select * from 源表;</code></p>
<p><strong>创建表之后，再添加或删除约束:</strong></p>
<p>1.非空约束</p>
<p>添加:<code>alter table 表名 modify 列名 数据类型 not null </code></p>
<p>删除:<code>alter table 表名 modify 列名 数据类型 null</code></p>
<p>2.主键约束</p>
<p>添加:<code>alter table 表名 add primary key (字段)</code></p>
<p>删除:<code>alter table 表名 drop primary key</code></p>
<p>3.唯一约束</p>
<p>添加<code>:alter table 表名 add unique 约束名（字段）</code></p>
<p>删除:<code>alter table 表名 drop key 约束名</code></p>
<p>4.自动增长（需要是主键，才能自动增长）</p>
<p>添加:<code>alter table 表名 modify 列名 int primary key auto_increment</code></p>
<p>删除:<code>alter table 表名 modify 列名 int  </code></p>
<p>5.外键约束</p>
<p>添加:<code>alter table 表名 add constraint 约束名 foreign key(外键列) </code></p>
<p>references 主键表（主键列）</p>
<p>删除:<code>alter table 表名 drop foreign key 约束名</code></p>
<p>6.默认值</p>
<p>添加:<code>alter table 表名 alter 列名 set default &#39;值&#39;</code></p>
<p>删除:<code>alter table 表名 alter 列名 drop default</code></p>
<h1 id="9-子查询"><a href="#9-子查询" class="headerlink" title="9.子查询"></a>9.子查询</h1><p>子查询就是指的在一个完整的查询语句之中，嵌套若干个不同功能的小查询，从而一起完成复杂查询的一种编写形式。</p>
<p><strong>子查询返回结果</strong><br><strong>子查询可以返回的数据类型一共分为四种：</strong></p>
<ol>
<li><ol>
<li>单行单列：返回的是一个具体列的内容，可以理解为一个单值数据；</li>
<li>单行多列：返回一行数据中多个列的内容；</li>
<li>多行单列：返回多行记录之中同一列的内容，相当于给出了一个操作范围；</li>
<li>多行多列：查询返回的结果是一张临时表；</li>
</ol>
</li>
</ol>
<p>  <strong>示例一、</strong>查询公司之中工资最低的雇员的完整信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">--查询公司之中工资最低的雇员的完整信息</span><br><span class="line">SELECT * </span><br><span class="line">FROM emp e</span><br><span class="line">WHERE e.sal=(</span><br><span class="line">  SELECT MIN(sal) </span><br><span class="line">  FROM emp);</span><br></pre></td></tr></table></figure>

<p><strong>示例二、</strong>查找出与ALLEN从事同一工作，并且基本工资高于雇员编号为7521的全部雇员信息,</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">--查找出与ALLEN从事同一工作，并且基本工资高于雇员编号为7521的全部雇员信息,</span><br><span class="line">SELECT *</span><br><span class="line">FROM emp e</span><br><span class="line">WHERE e.job=(</span><br><span class="line">  SELECT job</span><br><span class="line">  FROM emp </span><br><span class="line">  WHERE ename=&#x27;ALLEN&#x27;) </span><br><span class="line">  AND e.sal&gt;(</span><br><span class="line">  SELECT sal</span><br><span class="line">  FROM emp </span><br><span class="line">  WHERE empno=7521);</span><br></pre></td></tr></table></figure>



<p><strong>示例三、</strong>查询出与每个部门中最低工资相同的全部雇员信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">--查询出与每个部门中最低工资相同的全部雇员信息</span><br><span class="line">SELECT *</span><br><span class="line">FROM emp e</span><br><span class="line">WHERE e.sal IN(</span><br><span class="line">     SELECT MIN(sal)</span><br><span class="line">    FROM emp</span><br><span class="line">    GROUP BY deptno</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><strong>示例四、</strong>查询出每个部门经理的工资</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">--查询出每个部门经理的工资</span><br><span class="line"></span><br><span class="line">SELECT  * </span><br><span class="line">FROM emp </span><br><span class="line">WHERE sal = ANY (</span><br><span class="line">   SELECT MIN (sal)</span><br><span class="line">  FROM emp</span><br><span class="line">  WHERE job=&#x27;MANAGER&#x27;</span><br><span class="line">  GROUP BY deptno</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><strong>示例五、</strong>查询出每个部门不等于经理的工资</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">--查询出每个部门不等于经理的工资</span><br><span class="line">SELECT  * </span><br><span class="line">FROM emp </span><br><span class="line">WHERE sal &lt;&gt; ALL (</span><br><span class="line">   SELECT MIN (sal)</span><br><span class="line">  FROM emp</span><br><span class="line">  WHERE job=&#x27;MANAGER&#x27;</span><br><span class="line">  GROUP BY deptno</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><strong>示例六、</strong>验证exists结构</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">--验证exists结构</span><br><span class="line">SELECT * FROM emp</span><br><span class="line">    WHERE EXISTS(   --返回空值，没有内容输出</span><br><span class="line">      SELECT * FROM emp WHERE empno=9999); --没有这个编号的员工</span><br></pre></td></tr></table></figure>

<h1 id="10-连接查询"><a href="#10-连接查询" class="headerlink" title="10.连接查询"></a>10.连接查询</h1><p><strong>sql的四种连接查询</strong>        </p>
<p><strong>1、内联接</strong>（典型的联接运算，使用像 = 或 &lt;&gt; 之类的比较运算符）。包括相等联接和自然联接。<br>内联接使用比较运算符根据每个表共有的列的值匹配两个表中的行。例如，检索 students和courses表中学生标识号相同的所有行。</p>
<p><strong>2、外联接</strong> 外联接可以是左向外联接、右向外联接或完整外部联接。<br>在 FROM子句中指定外联接时，可以由下列几组关键字中的一组指定：<br>1）LEFT JOIN或LEFT OUTER JOIN<br>左向外联接的结果集包括 LEFT OUTER子句中指定的左表的所有行，而不仅仅是联接列所匹配的行。如果左表的某行在右表中没有匹配行，则在相关联的结果集行中右表的所有选择列表列均为空值。<br>2）RIGHT JOIN 或 RIGHT OUTER JOIN<br>右向外联接是左向外联接的反向联接。将返回右表的所有行。如果右表的某行在左表中没有匹配行，则将为左表返回空值。<br>3）FULL JOIN 或 FULL OUTER JOIN<br>完整外部联接返回左表和右表中的所有行。当某行在另一个表中没有匹配行时，则另一个表的选择列表列包含空值。如果表之间有匹配行，则整个结果集行包含基表的数据值。  </p>
<p>**3、交叉联接<br>**交叉联接返回左表中的所有行，左表中的每一行与右表中的所有行组合。交叉联接也称作笛卡尔积。<br>FROM 子句中的表或视图可通过内联接或完整外部联接按任意顺序指定；但是，用左或右向外联接指定表或视图时，表或视图的顺序很重要。</p>
<p> 1） 内连接<br> select  a.<em>,b.</em>  from  a  inner  join  b   on  a.id=b.parent_id   </p>
<p> 2）左连接<br> select  a.<em>,b.</em>  from  a  left  join  b   on  a.id=b.parent_id    </p>
<p> 3） 右连接<br> select  a.<em>,b.</em>  from  a  right  join  b   on  a.id=b.parent_id    </p>
<p> 4） 完全连接<br> select  a.<em>,b.</em>  from  a  full  join  b   on  a.id=b.parent_id  </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/01/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/" data-id="ckt19e13c0000gwty3in43td9" data-title="数据库基础" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-monkey" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/01/monkey/" class="article-date">
  <time class="dt-published" datetime="2021-09-01T08:19:11.000Z" itemprop="datePublished">2021-09-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/01/monkey/">monkey</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="一、Monkey简介"><a href="#一、Monkey简介" class="headerlink" title="一、Monkey简介"></a>一、<strong>Monkey简介</strong></h2><p>在Android的官方自动化测试领域有一只非常著名的“猴子”叫Monkey，这只“猴子”一旦启动，就会让被测的Android应用程序像猴子一样活蹦乱跳，到处乱跑。人们常用这只“猴子”来对被测程序进行压力测试，检查和评估被测程序的稳定性。</p>
<p>Android官方对这只“猴子”的描述是这样的：</p>
<p>The Monkey is a program that runs on your emulator or device and generates pseudo-random streams of user events such as clicks, touches, or gestures, as well as a number of system-level events. You can use the Monkey to stress-test applications that you are developing, in a random yet repeatable manner.</p>
<p>Monkey是一个程序，运行在您的模拟器或设备上，并生成伪随机的用户事件流，如点击，触摸或手势，以及一些系统级事件。 您可以使用Monkey以随机但可重复的方式对您正在开发的应用程序进行压力测试。</p>
<p>monkey官方文档：<a target="_blank" rel="noopener" href="http://www.android-doc.com/tools/help/monkey.html">http://www.android-doc.com/tools/help/monkey.html</a></p>
<h2 id="二、Monkey-路径"><a href="#二、Monkey-路径" class="headerlink" title="二、Monkey 路径"></a>二、<strong>Monkey 路径</strong></h2><p>Monkey程序是Android系统自带的，其启动脚本是位于Android系统的/system/bin目录的Monkey文件，其jar包是位于Android系统的/system/framework目录的Monkey.jar文件。用户主要是通过adb命令来启动Monkey的，Monkey在运行时，会根据命令行参数的配置，生成伪随机的事件流，并在Android设备上执行对应的测试事件。同时，Monkey还会对测试系统进行监测，当出现以下三种情况时会进行特殊处理：</p>
<ul>
<li>如限定了Monkey运行在特定包上，当监测到试图转到其他包的操作，将对其进行阻止。</li>
<li>如应用程序崩溃或接收到任何失控异常，Monkey将记录对应的错误日志，并根据命令行参数判断是停止运行还是继续运行。</li>
<li>如果应用程序发生了程序无响应（application not responding）的错误，Monkey将记录对应的错误日志，并根据命令行参数判断是停止运行还是继续运行。</li>
</ul>
<p>按照选定的不同级别的反馈信息，在Monkey中还可以看到其执行过程报告和生成的事件。</p>
<h2 id="三、Monkey启动步骤"><a href="#三、Monkey启动步骤" class="headerlink" title="三、Monkey启动步骤"></a>三、<strong>Monkey启动步骤</strong></h2><ol>
<li><p>连接模拟器</p>
</li>
<li><p>连接成功后输入命令</p>
</li>
</ol>
<p><code>adb shell</code></p>
<h2 id="四、进入到指定目录"><a href="#四、进入到指定目录" class="headerlink" title="四、进入到指定目录"></a>四、<strong>进入到指定目录</strong></h2><p><code>cd /system/bin</code></p>
<ol start="3">
<li>输入 monkey命令提示则说明启动成功。</li>
</ol>
<h2 id="五、强制关闭monkey"><a href="#五、强制关闭monkey" class="headerlink" title="五、强制关闭monkey"></a>五、<strong>强制关闭monkey</strong></h2><ol>
<li><p>adb shell ps 查看全部在运行的进程</p>
</li>
<li><p>查找出com.android.commands.monkey 进程PID</p>
</li>
<li><p>adb shell kill pid 杀掉monkey进程</p>
</li>
</ol>
<h2 id="六、monkey-命令"><a href="#六、monkey-命令" class="headerlink" title="六、monkey 命令"></a>六、<strong>monkey 命令</strong></h2><p>monkey命令格式如下：</p>
<p><code>$ adb shell monkey [options] \&lt;event-count&gt;</code></p>
<ul>
<li>[options] 是指monkey可传入的参数，是<strong>可选项</strong>（如果不指定options，Monkey将以无反馈模式启动，并把事件任意发送到安装在目标环境中的全部包）</li>
<li><event-count> 是指随机发送事件数。如：输入100就是执行100个伪随机事件，为<strong>必选项</strong>。</li>
</ul>
<h2 id="七、操作事件简介"><a href="#七、操作事件简介" class="headerlink" title="七、操作事件简介"></a>七、<strong>操作事件简介</strong></h2><p>Monkey所执行的随机事件流中包含11大事件，分别是触摸事件、手势事件、二指缩放事件、轨迹事件、屏幕旋转事件、基本导航事件、主要导航事件、系统按键事件、启动Activity事件、键盘事件、其他类型事件。Monkey通过这11大事件来模拟用户的常规操作，对手机App进行稳定性测试。下面让我们来详细了解这11大事件。</p>
<h3 id="1-触摸事件"><a href="#1-触摸事件" class="headerlink" title="1.触摸事件"></a><strong>1.触摸事件</strong></h3><p>触摸事件是指在屏幕某处按下并抬起的操作，可通过**–pct-touch**参数来配置其事件百分比。从Monkey执行该事件对外输出的日志可以看到。 该事件由一组Touch（ACTION_DOWN）和Touch（ACTION_UP）事件组成，在手机上看到实际操作类似于点击。</p>
<h3 id="2-手势事件"><a href="#2-手势事件" class="headerlink" title="2.手势事件"></a><strong>2.手势事件</strong></h3><p>手势事件是指在屏幕某处的按下、随机移动、抬起的操作，即直线滑动操作。可通过**–pct-motion**参数来配置其事件百分比。</p>
<p>该事件是由一个ACTION_DOWN事件、一系列ACTION_MOVE事件和一个ACTION_UP事件组成的，在手机上看到的实际操作是一个没有拐弯的直线滑动操作。</p>
<h3 id="3-二指缩放事件"><a href="#3-二指缩放事件" class="headerlink" title="3.二指缩放事件"></a><strong>3.二指缩放事件</strong></h3><p>二指缩放事件是指在屏幕上的两处同时按下，并同时移动，最后同时抬起的操作，即智能机上的放大缩小手势操作。可通过**–pct-pinchzoom**参数来配置其事件百分比。从Monkey执行该事件对外输出的日志可以看到：</p>
<p>该事件起始是一个ACTION_DOWN事件和一个ACTION_POINTER_DOWN事件，即模拟两个手指同时点下；中间是一系列的ACTION_MOVE事件，即两个手指同时在屏幕上直线滑动；结束是由一个ACTION_POINTER_UP事件和一个ACTION_UP事件组成的，即两个手指同时放开。</p>
<h3 id="4-轨迹事件"><a href="#4-轨迹事件" class="headerlink" title="4.轨迹事件"></a><strong>4.轨迹事件</strong></h3><p>轨迹事件是由一个或多个随机的移动组成的，有时会伴随着点击。很早之前的Android手机带有轨迹球，这个事件就是模拟的轨迹球的操作。现在的手机几乎都没有轨迹球，但轨迹球事件中包含曲线滑动操作，如果被测程序需要曲线滑动时可以选用此参数。可通过**–pct-trackball**参数来配置其事件百分比。从Monkey执行该事件对外输出的日志可以看到：</p>
<p>该事件是由一系列的Trackball（ACTION_MOVE）事件组成的，观察手机上的操作，即为一系列的曲线滑动操作。</p>
<h3 id="5-屏幕旋转事件"><a href="#5-屏幕旋转事件" class="headerlink" title="5.屏幕旋转事件"></a><strong>5.屏幕旋转事件</strong></h3><p>屏幕旋转事件是一个隐藏事件，在Android官方文档中并没有记录这个事件。它其实是模拟的Android手机的横屏和竖屏切换。可通过**–pct-rotation**参数来配置其事件百分比。从Monkey执行该事件对外输出的日志可以看到： [代码] 该事件由一个rotation事件组成，其中degree表示的是旋转方向，顺时针旋转，0表示旋转90度的方向，1表示旋转180度的方向，2表示旋转270度的方向，3表示旋转360度的方向。在执行过程中，可以看到手机屏幕在横竖屏之间不断地切换。</p>
<h3 id="6-基本导航事件"><a href="#6-基本导航事件" class="headerlink" title="6.基本导航事件"></a><strong>6.基本导航事件</strong></h3><p>基本导航事件是指点击方向输入设备的上、下、左、右按键的操作，现在手机上很少有上、下、左、右按键，这种事件一般用得比较少。可通过**–pct-nav**参数来配置其事件百分比。从Monkey执行该事件对外输出的日志可以看到：</p>
<p>该事件是由一个Key（ACTION_DOWN）和一个Key（ACTION_UP）组成的，点击的就是上、下、左、右四个方向按键。</p>
<h3 id="7-主要导航事件"><a href="#7-主要导航事件" class="headerlink" title="7.主要导航事件"></a><strong>7.主要导航事件</strong></h3><p>主要导航事件是指点击“主要导航”按键的操作，这些按键通常会导致UI界面中的动作，如键盘的中间键、回退按键、菜单按键。可通过**–pct-majornav**参数来配置其事件百分比。从Monkey执行该事件对外输出的日志可以看到： [代码] 该事件是由一个Key（ACTION_DOWN）和一个Key（ACTION_UP）组成的，点击的按键就是中间键和菜单键。</p>
<h3 id="8-系统按键事件"><a href="#8-系统按键事件" class="headerlink" title="8.系统按键事件"></a><strong>8.系统按键事件</strong></h3><p>系统按键事件是指点击系统保留使用的按键的操作，如点击Home键、返回键、音量调节键等。可通过**–pct-syskeys**参数来配置其事件百分比。从Monkey执行该事件对外输出的日志可以看到： [代码] 该事件是由一个Key（ACTION_DOWN）和一个Key（ACTION_UP）组成的，点击的就是上面说到的几个系统按键。</p>
<h3 id="9-启动Activity事件"><a href="#9-启动Activity事件" class="headerlink" title="9.启动Activity事件"></a><strong>9.启动Activity事件</strong></h3><p>启动Activity事件是指在手机上启动一个Activity的操作。在随机的时间间隔中，Monkey将执行一个startActivity（）方法，作为最大限度上覆盖被测包中全部Activity的一种方法。可通过**–pct-appswitch**参数来配置其事件百分比。从Monkey执行该事件对外输出的日志可以看到： [代码] 该事件是由一个Switch操作组成的，从手机上看，上面的操作实际是打开了com.android.settings这个应用的一个com.android.settings.Settings的Activity界面。</p>
<h3 id="10-键盘事件"><a href="#10-键盘事件" class="headerlink" title="10.键盘事件"></a><strong>10.键盘事件</strong></h3><p>键盘事件主要是一些与键盘相关的操作。比如点击输入框、键盘弹起、点击输入框以外区域、键盘收回等。可通过**–pct-flip**参数来配置其事件百分比。从Monkey执行该事件对外输出的日志可以看到： [代码] 如日志所示，这里主要是键盘的打开和关闭操作。</p>
<h3 id="11-其他类型事件"><a href="#11-其他类型事件" class="headerlink" title="11.其他类型事件"></a><strong>11.其他类型事件</strong></h3><p>其他类型事件包括了除前面提到的10种事件外其他所有的事件，如按键、其他不常用的设备上的按钮等。可通过**–pct-anyevent**参数来配置其事件百分比。从Monkey执行该事件对外输出的日志可以看到： [代码] 该事件是由一个Key（ACTION_DOWN）和一个Key（ACTION_UP）组成的，点击的按键就是其他的一些系统按键，如字母按键、数字按键等。因为现在手机很少带字母按键或数字按键，所以这个事件一般使用得比较少。</p>
<h2 id="八、monkey-参数"><a href="#八、monkey-参数" class="headerlink" title="八、monkey 参数"></a>八、<strong>monkey 参数</strong></h2><h3 id="1-参数分类"><a href="#1-参数分类" class="headerlink" title="1. 参数分类"></a>1. <strong>参数分类</strong></h3><p>· 常规类参数</p>
<p>· 事件类参数</p>
<p>· 约束类参数</p>
<p>· 调试类参数</p>
<h3 id="2-常规类参数"><a href="#2-常规类参数" class="headerlink" title="2. 常规类参数"></a>2. <strong>常规类参数</strong></h3><p>常规类参数包括帮助参数和日志信息参数。帮助参数用于输出Monkey命令使用指导；日志信息参数将日志分为三个级别，级别越高，日志的信息越详细。</p>
<p>1.帮助类参数</p>
<p>monkey -h</p>
<p>2.日志级别</p>
<p><code>$ adb shell monkey -v &lt;event-count&gt;</code></p>
<p>-v：打印出日志信息，每个-v将增加反馈信息的级别。-v越多日志信息越详细，不过目前最多支持3个-v。</p>
<h3 id="3-事件类参数"><a href="#3-事件类参数" class="headerlink" title="3. 事件类参数"></a>3. <strong>事件类参数</strong></h3><p>事件类参数的作用是对随机事件进行调控，从而使其遵照设定运行，如设置各种事件的百分比、设置事件生成所使用的种子值等。频率参数主要限制事件执行的时间间隔。</p>
<p>1.执行指定脚本</p>
<p><code>$ adb shell monkey -f &lt;scriptfile&gt; &lt;event-count&gt;</code></p>
<p>eg：</p>
<p><code>$ adb shell monkey -f /mnt/sdcard/test1</code></p>
<p>2.伪随机数生成种子值</p>
<p>使用 -s命令可以重复执行之前的伪随机操作。本身每次执行伪随机事件操作也会默认生成一个seed值</p>
<p><code>$ adb shell monkey -s &lt;seed&gt; &lt;event-count&gt;</code></p>
<p>eg:</p>
<p><code>$ adb shell monkey -s 666 100</code></p>
<p>3.设置间隔 如果你希望在每一个指令之间加上固定的间隔时间，可以用–throttle（注意，前面是–）命令。</p>
<p><code>$ adb shell monkey --throttle &lt;milliseconds&gt;</code></p>
<p>eg:</p>
<p><code>$ adb shell monkey --throttle 3000  5</code></p>
<p>–throttle：后面接时间，单位为ms（&lt;milliseconds&gt;），表示事件之间的固定延迟（即执行每一个指令间隔的时间），若不接该选项，monkey将不会延迟。</p>
<p>4.调整触摸事件百分比</p>
<p>如果你希望调整触摸事件的百分比，记住使用–pct-touch。</p>
<p><code>$ adb shell monkey --pct-touch</code></p>
<p>eg:</p>
<p><code>$ adb shell monkey -v -v --pct-touch 100 200</code></p>
<p>&lt;percent&gt;–pct-touch：后面接触摸事件百分比</p>
<p>注意：触摸事件不单单是按键，它泛指发生在某一位置的一个down-up事件。</p>
<p>5.调整手势事件百分比</p>
<p><code>$ adb shell monkey --pct-motion</code></p>
<p>eg:</p>
<p><code>$ adb shell monkey -v -v --pct-motion 100 200</code></p>
<p>6.调整应用启动事件的百分比</p>
<p>如果你希望调整应用启动事件的百分比，记住使用–pct-app-switch。</p>
<p><code>$ adb shell monkey --pct-appswtich &lt;percent&gt;</code></p>
<p>–pct-appswitch：后面接应用启动事件百分比。</p>
<p>应用启动事件（即activity launches）俗称打开应用，通过调用startActivity()方法最大限度地开启该package下的所有应用。</p>
<p>7.调整屏幕旋转事件百分比</p>
<p><code>$ adb shell monkey --pct-rotation &lt;percent&gt;</code></p>
<p>–pct-rotation 后面接屏幕旋转事件的比例值。</p>
<p>8.其他参数</p>
<p><img src="https://pic.imgdb.cn/item/612f39d144eaada739af24b5.jpg"> </p>
<h3 id="4-约束类参数"><a href="#4-约束类参数" class="headerlink" title="4. 约束类参数"></a>4. <strong>约束类参数</strong></h3><p><strong>1.包约束</strong></p>
<p>-p：后面接一个或多个包名（&lt;allowed-package-name&gt;），如果应用需要访问其他包里的Activity，那相关的包也需要在此同时指定。如果不指定任何包，monkey将允许系统启动全部包里的Activity。</p>
<p><code>$ adb shell monkey -p &lt;allowed-package-name&gt; &lt;event-count&gt;</code></p>
<p>eg：</p>
<p><code>$ adb shell monkey -p com.tal.kaoyan 500</code></p>
<p><code>$ adb shell monkey p com.tal.kaoyan p com.tencent.mm 500</code></p>
<p><strong>2.activity类约束</strong></p>
<p>如果你希望将monkey限制在一个或几个类别中，使用如下命令：</p>
<p><code>adb shell monkey -c &lt;main-category&gt; &lt;event-count&gt;</code></p>
<p>以下命令表示运行Intent.CATEGORY_LAUNCHER类别的Activity并发送1000个随机事件。</p>
<p><code>$ adb shell monkey -c Intent.CATEGORY_LAUNCHER  1000</code></p>
<h3 id="5-调试类参数"><a href="#5-调试类参数" class="headerlink" title="5. 调试类参数"></a>5. <strong>调试类参数</strong></h3><p><strong>1.应用程序崩溃后继续发送事件</strong></p>
<p>如果你希望monkey在应用程序崩溃后继续发送事件，则需要用到–ignore-crashes命令</p>
<p><code>$ adb shell monkey --ignore-crashes &lt;event-count&gt; </code></p>
<p>在设置此选项后，当应用程序崩溃或发生失控异常时，monkey将继续运行直到计数完成。如果不设置此选项，monkey遇到上述崩溃或异常将停止运行。</p>
<p><strong>2.超时错误继续发送事件</strong></p>
<p>如果你希望monkey在任何超时错误发生后继续发送事件，则需要用到–ignore-timeouts命令。</p>
<p><code>$ adb shell monkey --ignore-timeouts</code></p>
<p>&lt;event-count&gt;–ignore-timeouts：在设置此选项后，当应用程序发生任何超时错误（如ANR，即Application Not Responding）时，monkey将继续运行直到计数完成。如果不设置此选项，monkey遇到此类超时对话框将停止运行。</p>
<p><strong>3.应用程序权限错误发生后继续发送事件</strong></p>
<p>如果你希望monkey在应用程序权限错误发生后继续发送事件，则需要用到–ignore-security-exceptions命令。</p>
<p><code>$ adb shell monkey --ignore-security-exceptions</code></p>
<p>&lt;event-count&gt;–ignore-security-exceptions：在设置此选项后，当应用程序发生任何权限错误（如启动一个需要某些权限的Activity）时，monkey将继续运行直到计数完成。如果不设置此选项，monkey遇到此类权限错误将停止运行。</p>
<p>4.其他</p>
<p><img src="https://pic.imgdb.cn/item/612f3b1544eaada739b12a44.jpg"> </p>
<h2 id="九、Monkey参数应用综合案例"><a href="#九、Monkey参数应用综合案例" class="headerlink" title="九、Monkey参数应用综合案例"></a>九、<strong>Monkey参数应用综合案例</strong></h2><h3 id="测试场景"><a href="#测试场景" class="headerlink" title="测试场景"></a><strong>测试场景</strong></h3><p>测试考研帮app Android版。测试希望通过Monkey来模拟用户的随机操作，检查被测应用是否会出现异常（应用崩溃或者无响应）。</p>
<h3 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a><strong>需求分析</strong></h3><p>1、测试是指定应用，因此需要使用-p指定被测app包名：com.tal.kaoyan</p>
<p>2、这个测试的目的是希望模拟用户操作，因此需要让Monkey执行的事件尽可能地接近用户的常规操作，这样才可以最大限度地发现用户使用过程中可能出现的问题。因此需要对Monkey执行的事件百分比做一些调整:</p>
<p>触摸事件和手势事件是用户最常见的操作，所以通过–pct-touch和–pct-motion将这两个事件的占比调整到40%与25%；目标应用包含了多个Activity，为了能覆盖大部分的Activity，所以通过–pct-appswitch将Activity切换的事件占比调整到10%；被测应用在测试中出现过不少横竖屏之间切换的问题，这个场景也必须关注，因此通过–pct-rotation把横竖屏切换事件调整到10%。</p>
<p>3、使用-s参数来指定命令执行的seed值 Monkey会根据seed值来生成对应事件流，同一个seed生成的事件流是完全相同的。这里指定了seed值，是为了测试发现问题时，便于进行问题复现。</p>
<p>4、使用–throttle参数来控制Monkey每个操作之间的时间间隔 指定操作之间的时间间隔，一方面是希望能更接近用户的操作场景，正常用户操作都会有一定的时间间隔；另一方面也是不希望因为过于频繁的操作而导致系统崩溃，尤其是在比较低端的手机上执行测试时。因此通过–throttle设置Monkey每个操作固定延迟0.4秒。</p>
<p>5、使用–ignore-crashs和–ignore-timeouts参数使Monkey遇到意外时能继续执行 在执行Monkey测试时，会因为应用的崩溃或没有响应而意外终止，所以需要在命令中增加限制参数–ignore-crash和–ignore-timeouts，让Monkey在遇到崩溃或没有响应的时候，能在日志中记录相关信息，并继续执行后续的测试。</p>
<p>6、使用-v指定log的详细级别 Monkey的日志输出有3个级别：日志的级别越高，其详细程度也越高。为了方便问题的定位，这里将日志设为 -v -v.</p>
<h3 id="测试命令"><a href="#测试命令" class="headerlink" title="测试命令"></a><strong>测试命令</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey -p com.tal.kaoyan</span><br><span class="line"></span><br><span class="line">--pct-touch 40 --pct-motion 25 </span><br><span class="line"></span><br><span class="line">--pct-appswitch 10</span><br><span class="line"></span><br><span class="line">--pct-rotation 5</span><br><span class="line"></span><br><span class="line">-s 1666 --throttle 400</span><br><span class="line"></span><br><span class="line">--ignore-crashes</span><br><span class="line"></span><br><span class="line">--ignore-timeouts</span><br><span class="line"></span><br><span class="line">-v -v  200</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/01/monkey/" data-id="ckt18uve000001wtyee22g3us" data-title="monkey" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/09/10/python%E5%8F%91%E9%80%81%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A%E7%9A%84%E6%A8%A1%E6%9D%BF/">python发送测试报告的模板</a>
          </li>
        
          <li>
            <a href="/2021/09/08/appium%E5%AD%A6%E4%B9%A0/">appium学习</a>
          </li>
        
          <li>
            <a href="/2021/09/07/python%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/">python单元测试</a>
          </li>
        
          <li>
            <a href="/2021/09/07/web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/">web自动化测试</a>
          </li>
        
          <li>
            <a href="/2021/09/03/linux%E5%AD%A6%E4%B9%A0/">linux学习</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>